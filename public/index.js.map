{"version":3,"file":"index.js","sources":["../node_modules/.pnpm/@rollup+plugin-typescript@8.5.0_hafrwlgfjmvsm7253l3bfjzhnq/node_modules/tslib/tslib.es6.js","../node_modules/.pnpm/vivid-wait@1.1.1/node_modules/vivid-wait/lib/index.esm.js","../src/unbounded-canvas/canvas.class.ts","../src/unbounded-canvas/canvas-2d.class.ts","../src/unbounded-canvas/canvas-webgl.class.ts","../src/unbounded-canvas/index.class.ts","../src/drawers/line.ts","../src/drawers/rect.ts","../src/drawers/text.ts","../src/drawers/image.ts","../src/utils/matrix.ts","../src/drawers/index.ts","../src/utils/throttle.ts","../node_modules/.pnpm/fontfaceobserver@2.3.0/node_modules/fontfaceobserver/fontfaceobserver.standalone.js","../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/rng.js","../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/regex.js","../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/validate.js","../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/parse.js","../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/v35.js","../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/md5.js","../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/v3.js","../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/native.js","../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/v4.js","../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/sha1.js","../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/v5.js","../src/utils/load-font.ts","../src/web/blog-color-world/pixelated/utils/is-same-rgba.ts","../src/web/blog-color-world/pixelated/utils/load-image.ts","../src/web/blog-color-world/pixelated/utils/get-image-data.ts","../src/web/blog-color-world/pixelated/utils/calc-most-related.ts","../src/web/blog-color-world/pixelated/utils/calc-most-appear.ts","../src/web/blog-color-world/pixelated/index.ts","../src/web/blog-color-world/index.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","function n(n,e,t,o){return new(t||(t=Promise))((function(r,a){function i(n){try{l(o.next(n))}catch(n){a(n)}}function u(n){try{l(o.throw(n))}catch(n){a(n)}}function l(n){var e;n.done?r(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(i,u)}l((o=o.apply(n,e||[])).next())}))}function e(n=0,e,t){var o;let r=0;const a={ease:e=>Math.pow(e/n,4),\"ease-in\":e=>Math.pow(e/n,2),\"ease-in-out\":e=>{let t=e/(n/2);return t<1?Math.pow(t,2)/2:-(--t*(t-2)-1)/2},\"ease-out\":e=>-e/n*(e/n-2),linear:e=>e/n,random:e=>r+Math.pow(Math.random()*(e/n)*(1-r),3)},i=Object.keys(a),u=\"random\"===e?a[i[Math.floor(Math.random()*i.length)]]:null!==(o=a[e])&&void 0!==o?o:a.random;return new Promise((e=>{let o=(new Date).getTime(),a=0,i=!1;const l=()=>{!function(n){if(\"undefined\"!=typeof window)return window.requestAnimationFrame(n);const e=setTimeout((()=>{n(e),clearTimeout(e)}),16.6)}((()=>{if(a=(new Date).getTime()-o,r=u(a),a>=n)null==t||t(1),e(a);else{const n=()=>{i=!0};null==t||t(r,n),i?e(a):l()}}))};l()}))}function t(t,o={}){return n(this,void 0,void 0,(function*(){const{mode:n=\"random\",handler:r,onUpdate:a}=o;let i=r?.99:1;const u=r?r():Promise.resolve(),l=yield e(t,n,((n,e)=>{null==a||a(Math.round(n*i*1e4)/1e4,e)})),[c]=yield Promise.all([u,l]);return r&&(null==a||a(1)),c}))}export{t as wait};\n","/**\n * 画布配置\n */\n export interface CreateCanvasOptions {\n  /**\n   * 图层样式\n   */\n  styles?: Partial<CSSStyleDeclaration>,\n}\n\nclass Canvas {\n  protected _element: HTMLCanvasElement | null = null;\n  \n  constructor (width?: number, height?: number, extraOptions: CreateCanvasOptions = {}) {\n    const {\n      styles = {},\n    } = extraOptions;\n\n    this._element = document.createElement(\"canvas\");\n    if (width) this._element.width = width;\n    if (height) this._element.height = height;\n    Object.keys(styles).forEach(key => {\n      this._element!.style[key] = styles[key];\n    });\n  }\n\n  /**\n   * 取得canvas节点\n   */\n  getElement () {\n    return this._element;\n  }\n\n  /**\n   * 改变画布尺寸\n   */\n  changeSize (width: number, height: number) {\n    if (!this._element) return;\n    this._element.width = width;\n    this._element.height = height;\n  }\n};\n\nexport default Canvas;","import Canvas, { CreateCanvasOptions } from \"./canvas.class\";\n\n/**\n * 画布配置\n */\nexport interface CreateCanvas2dOptions extends CreateCanvasOptions {\n  /**\n   * 是否需要离屏渲染\n   */\n  needOffScreenCache?: boolean,\n}\n\n/**\n * 画布渲染器\n */\nexport type Canvas2dRender = (context: CanvasRenderingContext2D) => void;\n\n\nclass Canvas2d extends Canvas {\n  private _context: CanvasRenderingContext2D | null = null;\n\n  private _cacheElement: HTMLCanvasElement | null = null;\n\n  private _cacheContext: CanvasRenderingContext2D | null = null;\n\n  /**\n   * 渲染器\n   */\n  private _renders: Canvas2dRender[] = [];\n  \n  constructor (width?: number, height?: number, extraOptions: CreateCanvas2dOptions = {}) {\n    const {\n      styles = {},\n      needOffScreenCache = false,\n    } = extraOptions;\n\n    super(width, height, { styles });\n\n    if (this._element) this._context = this._element.getContext('2d');\n  \n    // 构建缓存画布（离屏画布）\n    if (needOffScreenCache) this.createCacheCanvas();\n  }\n\n  /**\n   * 取得画布上下文\n   */\n  getContext () {\n    return this._context;\n  }\n\n  /**\n   * 改变画布尺寸\n   */\n  changeSize (width: number, height: number) {\n    super.changeSize(width, height);\n\n    if (!this._cacheElement) return;\n    this._cacheElement.width = width;\n    this._cacheElement.height = height;\n  }\n\n  /**\n   * 创建缓存画布（离屏画布）\n   */\n  createCacheCanvas () {\n    if (!this._element) return;\n    this._cacheElement = document.createElement(\"canvas\");\n    this._cacheElement.width = this._element.width;\n    this._cacheElement.height = this._element.height;\n\n    this._cacheContext = this._cacheElement.getContext('2d');\n    return {\n      canvas: this._cacheElement,\n      context: this._cacheContext,\n    }\n  }\n\n  /**\n   * 添加渲染器\n   */\n  addRender (handler: Canvas2dRender) {\n    this._renders.push(handler);\n    return this;\n  }\n\n  /**\n   * 执行全部渲染器\n   */\n  renderAll () {\n    if (!this._element) return;\n\n    const _context = this._cacheContext ?? this._context;\n    if (!_context) return;\n\n    _context.clearRect(0, 0, this._element.width, this._element.height);\n\n    this._renders.forEach(render => render(_context));\n\n    if (this._cacheElement && this._context) {\n      this._context.clearRect(0, 0, this._element.width, this._element.height);\n      this._context.drawImage(this._cacheElement, 0, 0)\n    };\n  }\n\n  /**\n   * 画布销毁\n   */\n  dispose () {\n    const disposeCanvas = (\n      canvas: HTMLCanvasElement,\n      ctx: CanvasRenderingContext2D | null,\n    ) => {\n      canvas.width = 1;\n      canvas.height = 1;\n      ctx?.clearRect(0, 0, 1, 1);\n      canvas.removeAttribute('style');\n    };\n\n    if (this._element) disposeCanvas(this._element, this._context);\n    if (this._cacheElement) disposeCanvas(this._cacheElement, this._cacheContext);\n   \n    this._renders = [];\n\n    this._element = null;\n    this._context = null;\n    this._cacheElement = null;\n    this._cacheContext = null;\n  }\n};\n\nexport default Canvas2d;","import Canvas, { CreateCanvasOptions } from \"./canvas.class\";\n\n/**\n * 画布配置\n */\nexport interface CreateCanvasWebGLOptions extends CreateCanvasOptions {\n}\n\n/**\n * 画布渲染器\n */\nexport type CanvasWebGLRender = (context: WebGLRenderingContext) => void;\n\n\nclass CanvasWebGL extends Canvas {\n  /**\n   * 画布内容上下文\n   */\n  private _context: WebGLRenderingContext | null = null;\n\n  /**\n   * 渲染器\n   */\n  private _renders: CanvasWebGLRender[] = [];\n  \n  constructor (width?: number, height?: number, extraOptions: CreateCanvasWebGLOptions = {}) {\n    const { styles = {} } = extraOptions;\n    super(width, height, extraOptions);\n\n    if (this._element) this._context = this._element.getContext('webgl');\n  }\n\n  /**\n   * 取得画布上下文\n   */\n  getContext () {\n    return this._context;\n  }\n\n  /**\n   * 添加渲染器\n   */\n  addRender (handler: CanvasWebGLRender) {\n    this._renders.push(handler);\n    return this;\n  }\n\n  /**\n   * 执行全部渲染器\n   */\n  renderAll () {\n    if (!this._element) return;\n\n    const _context = this._context;\n    if (!_context) return;\n\n    // _context.clearRect(0, 0, this._element.width, this._element.height);\n\n    this._renders.forEach(render => render(_context));\n  }\n\n  /**\n   * 画布销毁\n   */\n  dispose () {\n    const disposeCanvas = (\n      canvas: HTMLCanvasElement,\n      ctx: WebGLRenderingContext | null,\n    ) => {\n      canvas.width = 1;\n      canvas.height = 1;\n      // ctx?.clearRect(0, 0, 1, 1);\n      canvas.removeAttribute('style');\n    };\n\n    if (this._element) disposeCanvas(this._element, this._context);\n   \n    this._renders = [];\n\n    this._element = null;\n    this._context = null;\n  }\n};\n\nexport default CanvasWebGL;","import { wait } from 'vivid-wait';\nimport {\n  CanvasOptions,\n  CommonCreateCanvasOptions,\n  NaturalListener,\n  ZoomSetting,\n} from '.';\nimport Canvas2d, { Canvas2dRender, CreateCanvas2dOptions } from './canvas-2d.class';\nimport CanvasWebGL, { CanvasWebGLRender, CreateCanvasWebGLOptions } from './canvas-webgl.class';\n\n/** 默认空坐标 */\nconst EMPTY_COORDINATE = { x: 0, y: 0 };\n/** 默认缩放限制 */\nconst DEFAULT_ZOOM_SETTING: ZoomSetting = {\n  disabled: false,\n  min: 1,\n  max: 100,\n  center: 'canvas'\n};\n\nclass UnboundedCanvas {\n  /**\n   * 画布容器\n   */\n  private _container: HTMLDivElement | null = null;\n\n  /**\n   * 画布中心点\n   */\n  private _canvasCenter: Coordinate | null = null;\n\n  /**\n   * 内容中心点\n   */\n  private _contentCenter: Coordinate | null = null;\n\n  /**\n   * 单位像素格\n   */\n  private unitSize: number = 1;\n\n  /**\n   * 像素单元格间距\n   */\n  private unitGap: number = 0;\n\n  /**\n   * 移动事件前所聚焦位置\n   */\n  private moveInitDistance: Coordinate | undefined;\n\n  /**\n   * 画布边界\n   */\n  private bound: [width: number, height: number] = [Infinity, Infinity];\n\n  /**\n   * 是否可内容画布移动\n   */\n  private movable: boolean = true;\n\n  /**\n  * 是否可画布缩放\n  */\n  private zoomable: boolean = true;\n\n  /**\n   * 画布缩放中心\n   * @default 'canvas'\n   */\n  private zoomCenter: ZoomSetting['center'] = 'canvas';\n\n  /**\n   * 缩放值\n   */\n  private zoom: number = 1;\n\n  /**\n   * 移动粘连\n   */\n  private sticky: boolean = false;\n\n  /**\n   * 像素倍率\n   */\n  private devicePixelRatio: number;\n\n  /**\n   * 缩放限制\n   */\n  private zoomLimit: [number, number] = [\n    DEFAULT_ZOOM_SETTING.min,\n    DEFAULT_ZOOM_SETTING.max,\n  ];\n\n  /**\n   * 缩放延后计时器\n   */\n  private zoomStickyTimer: number | undefined;\n\n  /**\n   * 下一个绘制（如果绘制过于频繁，下一个绘制将保持最新绘制）\n   */\n  private nextRender: AnyFunction | undefined;\n\n  /**\n   * 上一次绘制时间\n   */\n  private preRenderTime: number | undefined;\n\n  /**\n   * 是否正在聚焦\n   */\n  private currentFocusing: {\n    percent: number;\n    cancel?: () => void;\n  } | undefined;\n\n  /**\n   * 渲染图层\n   */\n  private _layers: {\n    name?: string;\n    canvas: Canvas2d | CanvasWebGL,\n    zIndex: number,\n  }[] = [];\n\n  /**\n   * 记录监听器\n   */\n  private _listeners: NaturalListener<any>[] = [];\n\n  /**\n   * 记录初始数据\n   */\n  private _store: HTMLCanvasElement | null = null;\n\n  constructor(element: HTMLCanvasElement, options: Partial<CanvasOptions> = {}) {\n    /** 存储源画布，用于读取尺寸和销毁时还原 */\n    this._store = element;\n\n    /** 初始基本配置 */\n    const { ignoreDevicePixelRatio = false } = options;\n    this.devicePixelRatio = ignoreDevicePixelRatio\n      ? 1\n      : Math.ceil(window.devicePixelRatio);\n\n    /** 初始画布尺寸 */\n    this.initCanvas(options);\n\n    /** 初始画布配置 */\n    this.initOptions(options);\n\n    /** 初始画布监听器 */\n    this.initListeners();\n  }\n\n  /**\n   * 初始画布\n   */\n  private initCanvas(options: Partial<CanvasOptions>) {\n    if (!this._store) return;\n    const {\n      width: _width = this._store.width,\n      height: _height = this._store.height,\n      className,\n    } = options;\n    // 尺寸至少大于等于1\n    const width = Math.max(1, Math.ceil(_width));\n    const height = Math.max(1, Math.ceil(_height));\n    \n    if (!this._container) {\n      const parentNode = this._store.parentNode;\n      if (!parentNode) return;\n\n      // 构建容器，所有事件挂载到该容器上\n      this._container = document.createElement('div');\n      this._container.classList.add(`unbounded-canvas-container`);\n      if (className) this._container.classList.add(className);\n      this._container.style.width = `${width}px`;\n      this._container.style.height = `${height}px`;\n      parentNode.insertBefore(this._container, this._store);\n      parentNode.removeChild(this._store);\n    } else {\n      this._container.style.width = `${width}px`;\n      this._container.style.height = `${height}px`;\n      this._layers.forEach(({ canvas }) => {\n        canvas.changeSize(width * this.devicePixelRatio, height * this.devicePixelRatio);\n      })\n    }\n  }\n\n  /**\n   * 初始配置\n   */\n  private initOptions(options: Partial<CanvasOptions>) {\n    if (!this._container) return;\n    const { clientWidth: width, clientHeight: height } = this._container;\n\n    const {\n      unit,\n      zoom = true,\n      bound,\n      movable = true,\n    } = options;\n    // 初始画布中心点\n    this._canvasCenter = { x: width / 2, y: height / 2 };\n    // 初始内容中心点\n    this._contentCenter = { ...this._canvasCenter };\n\n    /** 移动配置 */\n    this.movable = movable;\n\n    /** 缩放配置 */\n    const { disabled = false, min = 1, max = 100, center = 'canvas'} = zoom === true\n      ? DEFAULT_ZOOM_SETTING\n      : typeof zoom === 'object' ? zoom : { disabled: true }\n    // 是否可缩放\n    this.zoomable = !disabled;\n    // 缩放限制\n    this.zoomLimit = min > 0 && min <= max ? [min, max] : [1, 100];\n    // 缩放中心\n    this.zoomCenter = center;\n\n    /** 单位像素格配置 */\n    const { size: unitSize = 1, gap: unitGap = 0, sticky = false } = unit || {};\n    // 单位像素格至少需要1像素\n    this.unitSize = Math.max(1, Math.ceil(unitSize));\n    // 单位像素格间距不允许小于0\n    this.unitGap = Math.max(0, Math.ceil(unitGap));\n    // 是否移动粘连\n    this.sticky = sticky;\n\n    /** 初始边界，默认无边界（无限拖拽） */\n    if (bound) this.bound = [\n      Math.max(width, bound[0] ?? Infinity),\n      Math.max(height, bound[1] ?? Infinity),\n    ];\n  }\n\n  /**\n   * 更新画布\n   */\n  updateCanvas(width: number, height: number) {\n    if (!this._container) return;\n    const { clientWidth, clientHeight } = this._container;\n    const { canvasCenter: oldCanvasCenter, contentCenter } = this.getOptions();\n    this.initCanvas({ width, height });\n    this._canvasCenter = {\n      x: clientWidth / 2,\n      y: clientHeight / 2,\n    };\n    this._contentCenter = {\n      x: contentCenter.x + (this._canvasCenter.x - oldCanvasCenter.x),\n      y: contentCenter.y + (this._canvasCenter.y - oldCanvasCenter.y),\n    }\n    this.render();\n  }\n\n  /**\n   * 添加渲染图层\n   */\n  private addLayer(\n    options:\n    | ({ type: '2d' } & Partial<Omit<CreateCanvas2dOptions, 'styles'> & CommonCreateCanvasOptions>)\n    | ({ type: 'webgl' } & Partial<Omit<CreateCanvasWebGLOptions, 'styles'> & CommonCreateCanvasOptions>)\n  ) {\n    if (!this._container) throw ReferenceError('missing canvas container!');\n\n    const { clientWidth: width, clientHeight: height } = this._container;\n    const { type, zIndex = 1, uniqueKey, ...restOptions } = options;\n\n    // 判断key值已存在，存在直接抛出错误\n    if (uniqueKey && this._layers.some(({ name }) => name === uniqueKey)) {\n      throw new Error(`layer named ${uniqueKey} already exists!`)\n    };\n\n    const canvas = new ({\n      '2d': Canvas2d,\n      'webgl': CanvasWebGL,\n    }[type])(\n      width * this.devicePixelRatio,\n      height * this.devicePixelRatio,\n      {\n        styles: {\n          width: '100%',\n          height: '100%',\n          position: 'absolute',\n        },\n        ...restOptions,\n      }\n    );\n\n    const canvasList = this._container.childNodes;\n    let insertIndex = this._layers.findIndex((layer) => layer.zIndex > zIndex);\n    if (insertIndex === -1) insertIndex = this._layers.length\n    \n    const element = canvas.getElement();\n    if (!element) throw ReferenceError('missing canvas element!');\n\n    this._container.insertBefore(element, canvasList[insertIndex]);\n    this._layers.splice(insertIndex, 0, { canvas, zIndex, name: uniqueKey });\n\n    return canvas;\n  }\n\n  /**\n   * 添加普通2d画布\n   */\n  add2dLayer (\n    handler: Canvas2dRender,\n    options: Partial<Omit<CreateCanvas2dOptions, 'styles'> & CommonCreateCanvasOptions> = {}\n  ) {\n    const canvas = this.addLayer({\n      type: '2d',\n      ...options,\n    }) as Canvas2d;\n\n    canvas.addRender(handler).renderAll();\n\n    return canvas;\n  }\n\n  /**\n   * 添加webgl画布\n   */\n  addWebGLLayer  (\n    handler: CanvasWebGLRender,\n    options: Partial<Omit<CreateCanvasWebGLOptions, 'styles'> & CommonCreateCanvasOptions> = {}\n  ) {\n    const canvas = this.addLayer({\n      type: 'webgl',\n      ...options,\n    }) as CanvasWebGL;\n\n    canvas.addRender(handler).renderAll();\n\n    return canvas;\n  }\n\n  /**\n   * 获取图层画布\n   */\n  getLayer (key: string) {\n    return this._layers.find(({ name }) => name === key)?.canvas;\n  }\n\n  /**\n   * 移除图层画布\n   */\n  removeLayer (target: string | Canvas2d | CanvasWebGL) {\n    const index = this._layers.findIndex(({ name, canvas }) =>\n      typeof target === 'string'\n        ? name === target\n        : canvas === target\n    );\n    if (index === -1) return;\n\n    const canvas = this._layers[index].canvas;\n    const canvasNode = canvas.getElement();\n    canvas.dispose();\n    canvasNode?.parentNode?.removeChild(canvasNode);\n    this._layers.splice(index, 1);\n  }\n\n  /**\n   * 获取画布参数\n   */\n  getOptions() {\n    const { clientWidth: width, clientHeight: height } = this._container ?? {\n      clientWidth: 0,\n      clientHeight: 0,\n    };\n    return {\n      width: width * this.devicePixelRatio,\n      height: height * this.devicePixelRatio,\n      devicePixelRatio: this.devicePixelRatio,\n      unitSize: this.unitSize * this.devicePixelRatio * this.zoom,\n      unitGap: this.unitGap * this.devicePixelRatio * this.zoom,\n      zoom: this.zoom,\n      zoomLimit: this.zoomLimit,\n      canvasCenter: this._canvasCenter ?? { ...EMPTY_COORDINATE },\n      contentCenter: this._contentCenter ?? { ...EMPTY_COORDINATE },\n    }\n  }\n\n  /**\n   * 直接设置内容中心\n   */\n  setContentCenter(coord: Coordinate) {\n    this._contentCenter = coord;\n    this.render();\n  }\n\n  /**\n   * 初始画布监听器\n   */\n  private initListeners() {\n    if (!this._container) return;\n\n    this.movable && this.initMoveListener();\n    this.zoomable && this.initZoomListener();\n  }\n\n  /**\n   * 根据页面坐标获取单位像素坐标（相对于内容中心而不是画布中心）\n   */\n  viewCoords2UnitPoint(x: number, y: number) {\n    const { unitSize, unitGap, canvasCenter } = this.getOptions();\n    const size = unitSize + unitGap;\n    const halfSize = unitSize / 2;\n\n    // 计算点击坐标到画布中心的距离\n    const distanceCanvasCenter = {\n      x: x - canvasCenter.x,\n      y: y - canvasCenter.y,\n    };\n\n    return [\n      Math.floor(\n        (distanceCanvasCenter.x * this.devicePixelRatio + halfSize) / size\n      ),\n      Math.floor(\n        (distanceCanvasCenter.y * this.devicePixelRatio + halfSize) / size\n      ),\n    ] as Point;\n  }\n\n  /**\n   * 根据单位像素坐标获取页面坐标（相对于画布左上角）\n   */\n  unitPoint2ViewCoords(\n    x: number,\n    y: number,\n    contentCenter = this._contentCenter ?? { ...EMPTY_COORDINATE }\n  ) {\n    const { unitSize, unitGap, canvasCenter } = this.getOptions();\n    const size = unitSize + unitGap;\n\n    // 方块中心到内容中心位置\n    const blockPosition = {\n      x: (x * size) / this.devicePixelRatio,\n      y: (y * size) / this.devicePixelRatio,\n    };\n\n    // 方块中心到画布中心的距离\n    const distanceCanvasCenter = {\n      x: blockPosition.x - (canvasCenter.x - contentCenter.x),\n      y: blockPosition.y - (canvasCenter.y - contentCenter.y),\n    };\n\n    return {\n      x: distanceCanvasCenter.x + canvasCenter.x,\n      y: distanceCanvasCenter.y + canvasCenter.y,\n    };\n  }\n\n  /**\n   * 计算单位像素格子绘制起始点\n   * @param contentCenter 指定内容中心点\n   */\n  getUnitFirstPoint (contentCenter = this._canvasCenter ?? { ...EMPTY_COORDINATE }) {\n    const { unitSize, unitGap } = this.getOptions();\n    const size = unitSize + unitGap;\n    const halfSize = unitSize / 2;\n  \n    // 中心方块左上角与画布左上角的距离\n    const centerOffset = {\n      x: contentCenter.x * this.devicePixelRatio - halfSize,\n      y: contentCenter.y * this.devicePixelRatio - halfSize,\n    };\n    // 中心方块左上角与画布左上角的距离可以再加多少个矩形\n    const rest = {\n      top: Math.ceil(centerOffset.y / size),\n      left: Math.ceil(centerOffset.x / size),\n    };\n\n    // 单位格绘制矩形起始点\n    const unitDrawStartPoint = {\n      x: centerOffset.x - rest.left * size,\n      y: centerOffset.y - rest.top * size,\n    };\n\n    return unitDrawStartPoint;\n  }\n\n  /**\n   * 渲染画布\n   */\n  private render() {\n    const renderFrame = (renderNextFrame?: () => void) => {\n      window.requestAnimationFrame(() => {\n        this._layers.forEach(({ canvas }) => canvas.renderAll());\n        if (renderNextFrame) renderNextFrame();\n      })\n    };\n    const renderNextFrame = () => {\n      if (this.nextRender) {\n        const draw = this.nextRender;\n        this.nextRender = undefined;\n        if (draw) draw(renderNextFrame);\n      }\n    };\n    const currentTime = new Date().getTime();\n    if (this.preRenderTime && currentTime - this.preRenderTime < 10) {\n      this.nextRender = renderFrame;\n    } else {\n      this.preRenderTime = currentTime;\n      renderFrame(renderNextFrame);\n    }\n  }\n\n  /**\n   * 边界约束\n   */\n  private limitBound(contentCenter: Coordinate) {\n    const { canvasCenter, zoom } = this.getOptions();\n    const [boundWidth, boundHeight] = this.bound; \n    const [halfBoundWidth, halfBoundHeight] = [\n      boundWidth / 2 * zoom,\n      boundHeight / 2 * zoom,\n    ]; \n    let { x: newX, y: newY } = contentCenter;\n\n    // 左边界检测\n    if (newX > halfBoundWidth) newX = halfBoundWidth;\n    // 右边界检测\n    if (newX < -halfBoundWidth + canvasCenter.x * 2) newX = -halfBoundWidth + canvasCenter.x * 2;\n    // 上边界检测\n    if (newY > halfBoundHeight) newY = halfBoundHeight;\n    // 下边界检测\n    if (newY < -halfBoundHeight + canvasCenter.y * 2) newY = -halfBoundHeight + canvasCenter.y * 2;\n\n    return { x: newX, y: newY };\n  }\n\n  /**\n   * 缩放\n   */\n  handleZoom (newZoom: number, focusPoint: Coordinate = this._canvasCenter ?? { ...EMPTY_COORDINATE }) {\n    const { width, height, unitSize, contentCenter, canvasCenter, devicePixelRatio } = this.getOptions();\n    const [boundWidth, boundHeight] = this.bound; \n    const preZoom = this.zoom;\n\n    // 如果会导致内容尺寸小于画布尺寸不执行缩放\n    const [xMinZoom, yMinZoom] = [\n      width / boundWidth / devicePixelRatio,\n      height / boundHeight / devicePixelRatio,\n    ];\n    this.zoom = newZoom < xMinZoom || newZoom < yMinZoom\n      ? Math.max(xMinZoom, yMinZoom)\n      : newZoom;\n\n    // 旧的内容中心点到鼠标聚焦点的距离\n    const oldDistance = {\n      x: contentCenter.x - focusPoint.x,\n      y: contentCenter.y - focusPoint.y,\n    }\n    // 新的内容中心点到鼠标聚焦点的距离\n    const newDistance = {\n      x: oldDistance.x / preZoom * this.zoom,\n      y: oldDistance.y / preZoom * this.zoom,\n    }\n\n    this._contentCenter = this.limitBound({\n      x: contentCenter.x + (newDistance.x - oldDistance.x),\n      y: contentCenter.y + (newDistance.y - oldDistance.y),\n    })\n\n    this.render();\n\n    // 如果是粘连效果，100毫秒后执行\n    if (this.sticky) {\n      if (this.zoomStickyTimer) clearTimeout(this.zoomStickyTimer);\n      this.zoomStickyTimer = setTimeout(() => {\n        const { contentCenter } = this.getOptions();\n        const point = this.viewCoords2UnitPoint(\n          contentCenter.x,\n          contentCenter.y,\n        );\n\n        this.focus(point, { duration: Math.min(unitSize * 5, 300) });\n        this.zoomStickyTimer = undefined;\n        clearTimeout(this.zoomStickyTimer);\n      }, 300);\n    }\n  }\n\n  /**\n   * 移动监听\n   */\n  private initMoveListener() {\n    /** 是否可拖拽移动 */\n    let movable = false;\n    const changeCursor = (type: 'default' | 'grab' | 'grabbing') => {\n      if (this._container) this._container.style.cursor = type;\n    }\n    const handleReady = (event: KeyboardEvent) => {\n      if (movable || !this._container) return;\n      movable = event.code === 'Space';\n      changeCursor('grab');\n    };\n    const handleStart = (event: MouseEvent) => {\n      if (!movable || !this._container) return;\n      // 不是鼠标左键点击不可拖拽\n      if (event.which !== 1) return;\n      const { contentCenter } = this.getOptions();\n      this.moveInitDistance = {\n        x: event.offsetX - contentCenter.x,\n        y: event.offsetY - contentCenter.y,\n      };\n\n      changeCursor('grabbing');\n    };\n    const handleQuicklyMove = (event: MouseEvent) => {\n      event.preventDefault();\n      if (!this._container) return;\n      const { contentCenter } = this.getOptions();\n      this.moveInitDistance = {\n        x: event.offsetX - contentCenter.x,\n        y: event.offsetY - contentCenter.y,\n      };\n      changeCursor('grabbing');\n    };\n    const handleMoving = (event: MouseEvent) => {\n      if (this.moveInitDistance === undefined) return;\n\n      this._contentCenter = this.limitBound({\n        x: event.offsetX - this.moveInitDistance.x,\n        y: event.offsetY - this.moveInitDistance.y,\n      });\n\n      this.render();\n    };\n    const handleEnd = () => {\n      if (!this._container) return;\n      const { unitSize, contentCenter } = this.getOptions();\n\n      if (this.moveInitDistance) {\n        // 如果粘连，格子会保持原有的格子区域\n        if (this.sticky) {\n          if (this.zoomStickyTimer) clearTimeout(this.zoomStickyTimer);\n          const point = this.viewCoords2UnitPoint(\n            contentCenter.x,\n            contentCenter.y,\n          );\n          this.focus(point, { duration: Math.min(unitSize * 5, 300) });\n        } else this.render();\n      }\n\n      movable = false;\n      this.moveInitDistance = undefined;\n      changeCursor('default');\n    };\n    this.controlNaturalListener('on', {\n      eventName: 'contextmenu',\n      handler: handleQuicklyMove,\n    })\n    this.controlNaturalListener('on', {\n      eventName: 'keydown',\n      handler: handleReady,\n      window: true,\n    });\n    this.controlNaturalListener('on', {\n      eventName: 'keyup',\n      handler: handleEnd,\n      window: true,\n    });\n    this.controlNaturalListener('on', {\n      eventName: 'mousedown',\n      handler: handleStart,\n    });\n    this.controlNaturalListener('on', {\n      eventName: 'mousemove',\n      handler: handleMoving,\n    });\n    this.controlNaturalListener('on', {\n      eventName: 'mouseup',\n      handler: handleEnd,\n    });\n    this.controlNaturalListener('on', {\n      eventName: 'mouseleave',\n      handler: handleEnd,\n    });\n  }\n\n  /**\n   * 缩放监听\n   */\n  private initZoomListener() {\n    this.controlNaturalListener('on', {\n      eventName: 'wheel',\n      handler: (event) => {\n        if (this.moveInitDistance) return;\n        if (this.currentFocusing) {\n          this.currentFocusing.cancel?.();\n          this.currentFocusing = undefined;\n        }\n        const { canvasCenter, contentCenter } = this.getOptions(); \n        const { offsetX, offsetY, deltaY } = event;\n        const dZoom = 0.999 ** (deltaY / 2);\n        const newZoom = Math.min(\n          Math.max(this.zoom * dZoom, this.zoomLimit[0]),\n          this.zoomLimit[1]\n        );\n  \n        this.handleZoom(\n          newZoom, \n          {\n            'canvas': canvasCenter,\n            'content': contentCenter,\n            'operation': { x: offsetX, y: offsetY },\n          }[this.zoomCenter],\n        );\n      }\n    });\n  }\n\n  /**\n   * 聚焦到某个特定坐标点，坐标点相对于内容画布\n   */\n  async focus(point: Point, options: Partial<{\n    speedMode: 'linear' | 'ease' | 'ease-in' | 'ease-out' | 'ease-in-out',\n    duration: number, \n  }> = {}) {\n    if (!this.movable) return;\n    if (this.currentFocusing) {\n      this.currentFocusing.cancel?.();\n      this.currentFocusing = undefined;\n    }\n\n    const { speedMode = 'ease-in-out', duration } = options;\n    const { unitSize, unitGap, canvasCenter, contentCenter } = this.getOptions();\n    const pointCoord = this.unitPoint2ViewCoords(...point, canvasCenter);\n    const oldContentCoords = { ...contentCenter };\n    const distanceContentCenter = {\n      x: pointCoord.x - oldContentCoords.x,\n      y: pointCoord.y - oldContentCoords.y,\n    };\n    const maxDistance = Math.max(Math.abs(distanceContentCenter.x), Math.abs(distanceContentCenter.y));\n    const distanceGridLength = Math.ceil(maxDistance * this.devicePixelRatio / (unitSize + unitGap));\n    let time = duration ?? Math.max(Math.min(distanceGridLength * 50, 2000), 300);\n\n    // 在指定时间内通过特定过渡方式变成指定值\n    await wait(time, {\n      mode: speedMode,\n      onUpdate: (percent, cancel) => {\n        this._contentCenter = {\n          x: oldContentCoords.x + distanceContentCenter.x * percent,\n          y: oldContentCoords.y + distanceContentCenter.y * percent,\n        };\n        this.render();\n        this.currentFocusing = { percent, cancel };\n      }\n    })\n    this.currentFocusing = undefined;\n  }\n\n  /**\n   * 控制原生监听器\n   */\n  private controlNaturalListener<K extends keyof HTMLElementEventMap>(type: 'on' | 'off', options: NaturalListener<K>) {\n    const { eventName, handler, options: _options, window: isWindow = false } = options;\n    const listenerTarget = isWindow ? window : this._container;\n    if (!listenerTarget) return;\n\n    const listenerIndex = this._listeners.findIndex(listener => {\n      return listener.eventName === eventName\n        && listener.handler === handler\n        && (listener.options === _options || (listener.options === undefined && _options === undefined));\n    });\n    if (type === 'on') {\n      if (listenerIndex !== -1) return;\n      this._listeners.push({\n        eventName,\n        handler,\n        options: _options,\n        window: isWindow,\n      })\n      listenerTarget.addEventListener(eventName, handler as any, _options);\n    } else {\n      if (listenerIndex === -1) return;\n      listenerTarget.removeEventListener(eventName, handler as any, _options);\n      this._listeners.splice(listenerIndex, 1);\n    }\n  }\n\n  /**\n   * 监听事件\n   */\n  on<K extends keyof HTMLElementEventMap>(\n    eventName: K,\n    handler: (ev: HTMLElementEventMap[K]) => any,\n    options?: boolean | AddEventListenerOptions,\n  ) {\n    this.controlNaturalListener('on', { eventName, handler, options } as any);\n  }\n\n  /**\n   * 移除监听事件\n   */\n  off<K extends (keyof HTMLElementEventMap)>(\n    eventName: K,\n    handler: (ev: HTMLElementEventMap[K]) => any,\n    options?: boolean | AddEventListenerOptions,\n  ) {\n    this.controlNaturalListener('off', {\n      eventName,\n      handler,\n      options,\n    } as any);\n  }\n\n  /**\n   * 画布销毁\n   */\n  dispose() {\n    if (!this._container || !this._store) return;\n  \n    const parentNode = this._container.parentNode;\n    if (!parentNode) return;\n\n    // 清除监听事件\n    const listeners = [...this._listeners];\n    while(listeners.length) {\n      const listener = listeners.pop();\n      if (listener) this.controlNaturalListener('off', listener);\n    };\n    // 清空图层\n    this._layers = [];\n    while(this._layers.length) {\n      const layers = this._layers.pop();\n      if (!layers) continue;\n      \n      const { canvas } = layers;\n      const element = canvas.getElement();\n      canvas.dispose();\n      if (element) parentNode.removeChild(element);\n    }\n\n    // 还原画布\n    parentNode.insertBefore(this._store, this._container);\n    parentNode.removeChild(this._container);\n\n    // 初始数据\n    this.moveInitDistance = undefined;\n    this.preRenderTime = undefined;\n    this.sticky = false;\n    this.movable = true;\n    this.zoomable = true;\n    this.zoomCenter = 'canvas';\n    this.unitGap = 0;\n    this.unitSize = 1;\n    this.zoom = 1;\n    this.zoomLimit = [\n      DEFAULT_ZOOM_SETTING.min,\n      DEFAULT_ZOOM_SETTING.max,\n    ];\n\n    // 置空数据\n    this._canvasCenter = null;\n    this._contentCenter = null;\n    this._store = null;\n    this._container = null;\n  }\n}\n\nexport default UnboundedCanvas;\n","/**\n * 绘制线条\n */\nexport default (ctx: CanvasRenderingContext2D) => (\n  startPoint: Point,\n  endPoint: Point\n) => {\n  ctx.beginPath();\n  ctx.moveTo(...startPoint);\n  ctx.lineTo(...endPoint);\n  ctx.stroke();\n}\n","import { PropertyProcessor } from \".\";\n\n/**\n * 绘制可设置圆角的矩形\n */\nexport default (ctx: CanvasRenderingContext2D, composeCroods: PropertyProcessor) =>\n  (x: number, y: number, w: number, h: number, radius: number = 0) => {\n    const { left, top, width, height } = composeCroods({\n      left: x,\n      top: y,\n      width: w,\n      height: h,\n    });\n    const r = w > radius * 2 ? radius : 0;\n    if (r < 1) {\n      ctx.fillRect(left, top, width, height);\n      return;\n    }\n    ctx.beginPath();\n    ctx.moveTo(left + r, top);\n    ctx.lineTo(left + width - r, top);\n    r && ctx.arcTo(left + width, top, left + width, top + r, radius);\n    ctx.lineTo(left + width, top + height - r);\n    r && ctx.arcTo(left + width, top + height, left + width - r, top + height, radius);\n    ctx.lineTo(left + r, top + height);\n    r && ctx.arcTo(left, top + height, left, top + height - r, radius);\n    ctx.lineTo(left, top + r);\n    r && ctx.arcTo(left, top, left + r, top, radius);\n    ctx.closePath();\n    ctx.fill();\n  };\n","import { PropertyProcessor } from \".\";\n\n/**\n * 绘制文本\n */\nexport default (ctx: CanvasRenderingContext2D, composeCroods: PropertyProcessor) =>\n  (text: string, x: number, y: number) => {\n    const measure = ctx.measureText(text);\n    const { left, top } = composeCroods({\n      left: x,\n      top: y,\n      width: measure.width,\n      height: measure.actualBoundingBoxAscent + measure.actualBoundingBoxDescent,\n    });\n    ctx.fillText(text, left, top);\n  };\n","import { PropertyProcessor } from \".\";\n\n/**\n * 绘制图像\n */\nexport default (ctx: CanvasRenderingContext2D, composeCroods: PropertyProcessor) => \n  (\n    image: HTMLImageElement,\n    x: number,\n    y: number,\n    w?: number,\n    h?: number,\n  ) => {\n    const { left, top, width, height } = composeCroods({\n      left: x,\n      top: y,\n      width: w ?? image.width,\n      height: h ?? image.height,\n    });\n    ctx.drawImage(image, left, top, width, height);\n  };\n","\nexport type Matrix = [\n  a: number,\n  b: number,\n  c: number,\n  d: number,\n  e: number,\n  f: number,\n];\n\n/** 单位矩阵 */\nexport const UNIT_MATRIX: Matrix = [1, 0, 0, 1, 0, 0];\n\n/**\n * 行为变换矩阵\n */\nexport const BEHAVE_MATRICES = (() => {\n  /**\n   * 转化为matrix所用的角度值\n   */\n  const transformMatrixAngle = (angle = 0) => (angle * Math.PI) / 180;\n\n  return {\n    'move': (x: number, y: number) => [1, 0, 0, 1, x, y] as Matrix,\n    'rotate': (angle: number) => {\n      const _angle = transformMatrixAngle(angle);\n      return [\n        Math.cos(_angle),\n        Math.sin(_angle),\n        -Math.sin(_angle),\n        Math.cos(_angle),\n        0, 0,\n      ] as Matrix;\n    },\n    'scale': (x: number, y: number) => [x, 0, 0, y, 0, 0] as Matrix,\n    'flip': (x: boolean = false, y: boolean = false) => {\n      // [1 0] [-1 0]\n      // [0 1] [0 -1]\n      return [\n        x ? -1 : 1,\n        0,\n        0,\n        y ? -1 : 1,\n        0,\n        0,\n      ] as Matrix;\n    },\n    'skew': (angleX: number, angleY: number) => {\n      const _angleX = transformMatrixAngle(angleX);\n      const _angleY = transformMatrixAngle(angleY);\n      return [1, Math.tan(_angleY), Math.tan(_angleX), 1, 0, 0] as Matrix;\n    }\n  }\n})();\n\n/**\n * 转换值矩阵相乘\n */\nexport const multiplyTransformMatrix = (a: Matrix, b: Matrix) => {\n  // [a:0 c:2 e:4]\n  // [b:1 d:3 f:5]\n  return [\n    a[0] * b[0] + a[2] * b[1],\n    a[1] * b[0] + a[3] * b[1],\n    a[0] * b[2] + a[2] * b[3],\n    a[1] * b[2] + a[3] * b[3],\n    a[0] * b[4] + a[2] * b[5] + a[4],\n    a[1] * b[4] + a[3] * b[5] + a[5],\n  ] as Matrix;\n};\n\n/**\n * 多转换值相乘\n * 其效果等同多种转换形式的叠加\n */\nexport const multiplyTransformMatrices = (matrices: Matrix[]) => {\n  return matrices.reduce((result, item) => {\n    return multiplyTransformMatrix(result, item)\n  }, UNIT_MATRIX);\n};","import getLineDrawer from './line';\nimport getRectDrawer from './rect';\nimport getTextDrawer from './text';\nimport getImageDrawer from './image';\nimport { BEHAVE_MATRICES, multiplyTransformMatrices } from '../utils/matrix';\n\n/** 画布上下文 */\ntype Context2D = CanvasRenderingContext2D;\n\n/** 需要处理的样式类型 */\ntype NeedProcessTypeStyles = {\n  fontSize: number;\n  fontFamily: string;\n  lineDash: number[];\n  opacity: number;\n  angle: number;\n  scaleX: number;\n  scaleY: number;\n  originX: 'left' | 'center' | 'right';\n  originY: 'top' | 'center' | 'bottom';\n  flipX: boolean;\n  flipY: boolean;\n  skewX: number;\n  skewY: number;\n}\n\n/** 原生样式配置对象 */\ntype NaturalTypeStyles = Pick<\n  CanvasRenderingContext2D,\n  | 'fillStyle'\n  | 'filter'\n  | 'globalAlpha'\n  | 'globalCompositeOperation'\n  | 'imageSmoothingEnabled'\n  | 'imageSmoothingQuality'\n  | 'lineCap'\n  | 'lineDashOffset'\n  | 'lineJoin'\n  | 'lineWidth'\n  | 'miterLimit'\n  | 'shadowBlur'\n  | 'shadowColor'\n  | 'shadowOffsetX'\n  | 'shadowOffsetY'\n  | 'strokeStyle'\n  | 'textAlign'\n>\n\n/** 样式配置对象 */\ntype TypeStyles = NaturalTypeStyles & NeedProcessTypeStyles;\n\n/** 配置绘制样式 */\ntype StyleSetter =\n  | Partial<TypeStyles>\n  | ((ctx: Context2D) => void);\n\n/** 可加工属性 */\nexport type PositionAndSize = {\n  left: number;\n  top: number;\n  width: number;\n  height: number;\n};\n\n/** 属性加工函数 */\nexport type PropertyProcessor = (properties: PositionAndSize) => PositionAndSize;\n\n/** 变换默认值 */\nconst TRANSFORM_DEFAULT_SETTING = {\n  originX: 'left',\n  originY: 'top',\n  scaleX: 1,\n  scaleY: 1,\n  flipX: false,\n  flipY: false,\n  angle: 0,\n  skewX: 0,\n  skewY: 0,\n};\n\nconst getDrawers = (ctx?: Context2D) => {\n  if (!ctx) throw ReferenceError('ctx is no define');\n\n  /**\n   * 样式覆盖\n   */\n  const overwriteStyle = (styleSetter?: StyleSetter) => {\n    /** 设置公用默认参数 */\n    ctx.textBaseline = 'hanging';\n\n    if (styleSetter === undefined) return;\n    // 如果是配置函数直接执行\n    if (typeof styleSetter === 'function') {\n      styleSetter(ctx);\n      return;\n    }\n    // 如果是配置参数，处理部分参数并覆盖样式\n    const keys = Object.keys(styleSetter) as (keyof TypeStyles)[];\n\n    keys.forEach((key) => {\n      const value = styleSetter[key];\n      if (value === undefined) return;\n      const [size, ...familyPart] = ctx.font.split(' ');\n      switch (key) {\n        case 'originX':\n        case 'originY':\n        case 'scaleX':\n        case 'scaleY':\n        case 'flipX':\n        case 'flipY':\n        case 'angle':\n        case 'skewX':\n        case 'skewY':\n          break;\n        case 'fontSize':\n          ctx.font = `${value}px ${familyPart.join('')}`;\n          break;\n        case 'fontFamily':\n          ctx.font = `${size} \"${value}\"`;\n          break;\n        case 'lineDash':\n          ctx.setLineDash(value as NeedProcessTypeStyles['lineDash']);\n          break;\n        case 'opacity':\n          ctx.globalAlpha = value as number;\n          break;\n        // @ts-ignore\n        default: ctx[key] = value;\n      }\n    });\n  };\n\n  /**\n   * 获取绘制函数集合\n   * @param styleSetter 配置绘制样式\n   * @param configs 配置\n   */\n  const getProtectdrawers = (\n    styleSetter?: StyleSetter,\n    configs: Partial<{\n      /**\n       * 是否临时绘制\n       * 如果是，旧配置会在绘制完后会重置，在粒子化绘制时会严重影响性能\n       * @fedault true\n       */\n      temporary: boolean;\n    }> = {},\n  ) => {\n    const { temporary = true } = configs;\n\n    /**\n     * 使绘制添加的新配置不破坏原有的绘制配置\n     * @param drawerGetter 形状绘制获取\n     * @param styleSetter 配置绘制样式\n     */\n    const protect = <Drawer extends AnyFunction>(\n      drawerGetter: (ctx: Context2D, processor: PropertyProcessor) => Drawer,\n      styleSetter: StyleSetter = {},\n    ) => {\n      let transform = Object.keys(styleSetter)\n        .reduce<Partial<NeedProcessTypeStyles>>((result, key) => {\n          if (TRANSFORM_DEFAULT_SETTING[key] === undefined) return result;\n          if (styleSetter[key] === TRANSFORM_DEFAULT_SETTING[key]) return result;\n          result[key] = styleSetter[key];\n          return result;\n        }, {});\n      \n      const withTransform = (positionAndSize: PositionAndSize) => {\n        if (Object.keys(transform).length === 0) return positionAndSize;\n        const { top, left, width, height } = positionAndSize;\n        const {\n          originX = 'left',\n          originY = 'top',\n          scaleX = 1,\n          scaleY = 1,\n          flipX = false,\n          flipY = false,\n          angle = 0,\n          skewX = 0,\n          skewY = 0,\n        } = transform;\n        const offset = {\n          x: {\n            'left': 0,\n            'center': width / 2,\n            'right': width,\n          }[originX],\n          y: {\n            'top': 0,\n            'center': height / 2,\n            'bottom': height,\n          }[originY],\n        }\n        const transformQueue = [\n          // 位移\n          BEHAVE_MATRICES.move(left, top),\n          // 缩放\n          BEHAVE_MATRICES.scale(scaleX, scaleY),\n          // 旋转\n          BEHAVE_MATRICES.rotate(angle),\n          // 变形\n          BEHAVE_MATRICES.skew(skewX, skewY),\n          // 翻转\n          BEHAVE_MATRICES.flip(flipX, flipY),\n          BEHAVE_MATRICES.move(\n            flipX ? -width : -offset.x * 2, \n            flipY ? -height : -offset.y * 2,\n          ),\n        ];\n\n        ctx.transform(...multiplyTransformMatrices(transformQueue));\n\n        return {\n          left: offset.x,\n          top: offset.y,\n          width,\n          height,\n        };\n      };\n      return async (...args: Parameters<Drawer>) => {\n        temporary && ctx.save();\n        overwriteStyle(styleSetter);\n        drawerGetter(ctx, withTransform)(...args);\n        if (transform && !temporary) ctx.resetTransform();\n        temporary && ctx.restore();\n        return ctx;\n      }\n    }\n\n    return {\n      line: protect(getLineDrawer, styleSetter),\n      rect: protect(getRectDrawer, styleSetter),\n      text: protect(getTextDrawer, styleSetter),\n      image: protect(getImageDrawer, styleSetter),\n    };\n  };\n\n  return {\n    style: getProtectdrawers,\n    ...getProtectdrawers(),\n  }\n};\n\nexport default getDrawers;","/**\n * 节流\n * 单位时间内只执行一次\n */\nconst throttle = (handler: Function, duration: number) => {\n  let preTime: number | undefined;\n  return () => {\n    let time = new Date().getTime();\n    if (preTime && time - preTime < duration) return;\n    preTime = time;\n\n    const timer = setTimeout(() => {\n      handler();\n      clearTimeout(timer);\n      preTime = undefined;\n    }, duration);\n  }\n}\n\nexport default throttle;","/* Font Face Observer v2.3.0 - © Bram Stein. License: BSD-3-Clause */(function(){function p(a,c){document.addEventListener?a.addEventListener(\"scroll\",c,!1):a.attachEvent(\"scroll\",c)}function u(a){document.body?a():document.addEventListener?document.addEventListener(\"DOMContentLoaded\",function b(){document.removeEventListener(\"DOMContentLoaded\",b);a()}):document.attachEvent(\"onreadystatechange\",function g(){if(\"interactive\"==document.readyState||\"complete\"==document.readyState)document.detachEvent(\"onreadystatechange\",g),a()})};function w(a){this.g=document.createElement(\"div\");this.g.setAttribute(\"aria-hidden\",\"true\");this.g.appendChild(document.createTextNode(a));this.h=document.createElement(\"span\");this.i=document.createElement(\"span\");this.m=document.createElement(\"span\");this.j=document.createElement(\"span\");this.l=-1;this.h.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.i.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";\nthis.j.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.m.style.cssText=\"display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;\";this.h.appendChild(this.m);this.i.appendChild(this.j);this.g.appendChild(this.h);this.g.appendChild(this.i)}\nfunction x(a,c){a.g.style.cssText=\"max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:\"+c+\";\"}function B(a){var c=a.g.offsetWidth,b=c+100;a.j.style.width=b+\"px\";a.i.scrollLeft=b;a.h.scrollLeft=a.h.scrollWidth+100;return a.l!==c?(a.l=c,!0):!1}function C(a,c){function b(){var e=g;B(e)&&null!==e.g.parentNode&&c(e.l)}var g=a;p(a.h,b);p(a.i,b);B(a)};function D(a,c,b){c=c||{};b=b||window;this.family=a;this.style=c.style||\"normal\";this.weight=c.weight||\"normal\";this.stretch=c.stretch||\"normal\";this.context=b}var E=null,F=null,G=null,H=null;function I(a){null===F&&(M(a)&&/Apple/.test(window.navigator.vendor)?(a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))(?:\\.([0-9]+))/.exec(window.navigator.userAgent),F=!!a&&603>parseInt(a[1],10)):F=!1);return F}function M(a){null===H&&(H=!!a.document.fonts);return H}\nfunction N(a,c){var b=a.style,g=a.weight;if(null===G){var e=document.createElement(\"div\");try{e.style.font=\"condensed 100px sans-serif\"}catch(q){}G=\"\"!==e.style.font}return[b,g,G?a.stretch:\"\",\"100px\",c].join(\" \")}\nD.prototype.load=function(a,c){var b=this,g=a||\"BESbswy\",e=0,q=c||3E3,J=(new Date).getTime();return new Promise(function(K,L){if(M(b.context)&&!I(b.context)){var O=new Promise(function(r,t){function h(){(new Date).getTime()-J>=q?t(Error(\"\"+q+\"ms timeout exceeded\")):b.context.document.fonts.load(N(b,'\"'+b.family+'\"'),g).then(function(n){1<=n.length?r():setTimeout(h,25)},t)}h()}),P=new Promise(function(r,t){e=setTimeout(function(){t(Error(\"\"+q+\"ms timeout exceeded\"))},q)});Promise.race([P,O]).then(function(){clearTimeout(e);\nK(b)},L)}else u(function(){function r(){var d;if(d=-1!=k&&-1!=l||-1!=k&&-1!=m||-1!=l&&-1!=m)(d=k!=l&&k!=m&&l!=m)||(null===E&&(d=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent),E=!!d&&(536>parseInt(d[1],10)||536===parseInt(d[1],10)&&11>=parseInt(d[2],10))),d=E&&(k==y&&l==y&&m==y||k==z&&l==z&&m==z||k==A&&l==A&&m==A)),d=!d;d&&(null!==f.parentNode&&f.parentNode.removeChild(f),clearTimeout(e),K(b))}function t(){if((new Date).getTime()-J>=q)null!==f.parentNode&&f.parentNode.removeChild(f),\nL(Error(\"\"+q+\"ms timeout exceeded\"));else{var d=b.context.document.hidden;if(!0===d||void 0===d)k=h.g.offsetWidth,l=n.g.offsetWidth,m=v.g.offsetWidth,r();e=setTimeout(t,50)}}var h=new w(g),n=new w(g),v=new w(g),k=-1,l=-1,m=-1,y=-1,z=-1,A=-1,f=document.createElement(\"div\");f.dir=\"ltr\";x(h,N(b,\"sans-serif\"));x(n,N(b,\"serif\"));x(v,N(b,\"monospace\"));f.appendChild(h.g);f.appendChild(n.g);f.appendChild(v.g);b.context.document.body.appendChild(f);y=h.g.offsetWidth;z=n.g.offsetWidth;A=v.g.offsetWidth;t();\nC(h,function(d){k=d;r()});x(h,N(b,'\"'+b.family+'\",sans-serif'));C(n,function(d){l=d;r()});x(n,N(b,'\"'+b.family+'\",serif'));C(v,function(d){m=d;r()});x(v,N(b,'\"'+b.family+'\",monospace'))})})};\"object\"===typeof module?module.exports=D:(window.FontFaceObserver=D,window.FontFaceObserver.prototype.load=D.prototype.load);}());\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import { unsafeStringify } from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport const DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport const URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function v35(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var _namespace;\n\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return unsafeStringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    const msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (let i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  const output = [];\n  const length32 = input.length * 32;\n  const hexTab = '0123456789abcdef';\n\n  for (let i = 0; i < length32; i += 8) {\n    const x = input[i >> 5] >>> i % 32 & 0xff;\n    const hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  let a = 1732584193;\n  let b = -271733879;\n  let c = -1732584194;\n  let d = 271733878;\n\n  for (let i = 0; i < x.length; i += 16) {\n    const olda = a;\n    const oldb = b;\n    const oldc = c;\n    const oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  const length8 = input.length * 8;\n  const output = new Uint32Array(getOutputLength(length8));\n\n  for (let i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  const lsw = (x & 0xffff) + (y & 0xffff);\n  const msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nconst v3 = v35('v3', 0x30, md5);\nexport default v3;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  const K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  const H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    const msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (let i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  const l = bytes.length / 4 + 2;\n  const N = Math.ceil(l / 16);\n  const M = new Array(N);\n\n  for (let i = 0; i < N; ++i) {\n    const arr = new Uint32Array(16);\n\n    for (let j = 0; j < 16; ++j) {\n      arr[j] = bytes[i * 64 + j * 4] << 24 | bytes[i * 64 + j * 4 + 1] << 16 | bytes[i * 64 + j * 4 + 2] << 8 | bytes[i * 64 + j * 4 + 3];\n    }\n\n    M[i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (let i = 0; i < N; ++i) {\n    const W = new Uint32Array(80);\n\n    for (let t = 0; t < 16; ++t) {\n      W[t] = M[i][t];\n    }\n\n    for (let t = 16; t < 80; ++t) {\n      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n\n    let a = H[0];\n    let b = H[1];\n    let c = H[2];\n    let d = H[3];\n    let e = H[4];\n\n    for (let t = 0; t < 80; ++t) {\n      const s = Math.floor(t / 20);\n      const T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[t] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nconst v5 = v35('v5', 0x50, sha1);\nexport default v5;","import Fontfaceobserver from 'fontfaceobserver';\nimport { v4 as uuid } from 'uuid';\n\ntype Font = { name: string, url: string };\n\nconst fontStyleId = `font-style-${uuid()}`;\n\nconst loadedFonts: Font[] = [];\n\n/**\n * 加载字体\n * @param font 字体配置 {@link Font}\n * @param timeout 超时时间\n */\nexport const loadFont = (font: Font, timeout: number = 30000) => {\n  const { name } = font;\n\n  if (loadedFonts.find(font => font.name === name)) return Promise.resolve(font.name);\n  loadedFonts.push(font);\n\n  const fontStyleNode = document.querySelector(`#${fontStyleId}`) ?? document.createElement('style');\n  fontStyleNode.id = fontStyleId;\n  fontStyleNode.innerHTML = loadedFonts.map(font =>`\n    @font-face {\n      font-weight: normal;\n      font-style: normal;\n      font-family: \"${font.name}\";\n      src: url('${font.url}');\n    }\n  `).join('');\n  if (!fontStyleNode.parentNode) {\n    document.head.append(fontStyleNode);\n  }\n  return new Promise<string>((resolve, reject) =>\n    new Fontfaceobserver(name).load(null, timeout)\n      .then(() => resolve(font.name))\n      .catch(reject)\n  );\n};\n","export interface RGBA {\n  r: number;\n  g: number;\n  b: number;\n  a?: number;\n}\n\n/**\n * 是否是相似色块\n * @param {RGBA} color1 色值1\n * @param {RGBA} color2 色值2\n * @param {boolean} ignoreOpacity 是否忽略透明度\n * @returns {boolean} 是否是同色值\n */\nconst isSameRGBA = (color1: RGBA, color2: RGBA, ignoreOpacity: boolean = false) => {\n  return (\n    color1.r === color2.r &&\n    color1.g === color2.g &&\n    color1.b === color2.b &&\n    (!ignoreOpacity || color1.a === color2.a)\n  );\n}\n\nexport default isSameRGBA;","\n/** 加载图片 */\nconst loadImage = (src: string) => new Promise<HTMLImageElement>(resolve => {\n  const image = new Image();\n  image.src = src;\n  image.onload = () => {\n    resolve(image);\n  }\n});\n\nexport default loadImage;","import loadImage from \"./load-image\";\nimport type { RGBA } from \"./is-same-rgba\";\n\ntype Pixel = {\n  x: number,\n  y: number,\n  rgba: RGBA,\n  unit?: {\n    x: number,\n    y: number,\n  },\n};\n\n/** 获取图片数据 */\nconst getImageData = async (src: string) => {\n  const image = await loadImage(src);\n  if (!image) return undefined;\n\n  const img2Canvas = document.createElement('canvas');\n  img2Canvas.width = image.width;\n  img2Canvas.height = image.height;\n\n  const ctx = img2Canvas.getContext('2d');\n  if (!ctx) return undefined;\n\n  ctx.drawImage(image, 0, 0);\n  const { data: imageData } = ctx.getImageData(0, 0, img2Canvas.width, img2Canvas.height);\n  const getPixelColor = (row: number, col: number) => {\n    const ind = (row * image.width + col) * 4;\n    const r = imageData[ind];\n    const g = imageData[ind + 1];\n    const b = imageData[ind + 2];\n    const a = imageData[ind + 3] / 255;\n    return { r, g, b, a };\n  };\n  const getRangePixel = (startRow: number, startCol: number, endRow: number, endCol: number) => {\n    const range: RGBA[][] = [];\n    if (endCol < startCol || endRow < endRow) return range; \n    for (let y = startCol; y < endCol; y++) {\n      range[endCol - startCol] = [];\n      for (let x = startRow; x < endRow; x++) {\n        range[endCol - startCol].push(getPixelColor(x, y));\n      }\n    }\n    return range;\n  };\n  return {\n    getPixelColor,\n    getRangePixel,\n    /**\n     * 遍历像素值\n     * ...r, g, b, a...每四个色值元素组成一个像素\n     * @param {number} unitSize 每个单位的尺寸 \n     * @param {Function} callback 回调函数\n     */\n    mapPixels: (unitSize: number, callback: (pixel: Pixel) => void) => {\n      // 每个单位内部遍历\n      const mapUnit = (unitCol: number, unitRow: number) => {\n        for (let y = 0; y < unitSize; y++) {\n          for (let x = 0; x < unitSize; x++) {\n            const row = unitRow * unitSize + y;\n            const col = unitCol * unitSize + x;\n\n            callback({\n              x: col,\n              y: row,\n              rgba: getPixelColor(row, col),\n              unit: unitSize > 0 ? { x, y } : undefined,\n            })\n          }\n        }\n      }\n      for (let y = 0; y < Math.floor(image.height / unitSize); y++) {\n        for (let x = 0; x < Math.floor(image.width / unitSize); x++) {\n          mapUnit(x, y);\n        }\n      }\n    },\n    width: image.width,\n    height: image.height,\n  };\n}\n\nexport default getImageData;","/**\n * 计算范围内连续性最高的值\n */\nconst calcMostRelated = <ValueType>(\n  values: ValueType[][],\n  isRelated: (source: ValueType, target: ValueType) => boolean,\n) => {\n  let result: { times: number, value?: ValueType } = {\n    times: 0,\n    value: undefined,\n  };\n  const flags: boolean[][] = [];\n  const findRelatedAround = (x: number, y: number) => {\n    if (flags[y] && flags[y][x]) return 0;\n    // 标记自身\n    if (flags[y] === undefined) flags[y] = [];\n    flags[y][x] = true;\n\n    // 色值\n    const value = values[y][x];\n    // 关联次数\n    let times = 1;\n    // 判断四周相似值\n    ([\n      [y - 1, x], // 上\n      [y + 1, x], // 下\n      [y, x - 1], // 左\n      [y, x + 1], // 右\n    ]).forEach(([targetY, targetX]) => {\n      if (!values[targetY] || !values[targetY][targetX]) return;\n      if (isRelated(value, values[targetY][targetX])) {\n        times += findRelatedAround(targetX, targetY);\n      }\n    });\n    return times;\n  };\n  values.forEach((rowArrays, row) => {\n    rowArrays.forEach((value, col) => {\n      const times = findRelatedAround(col, row);\n      if (times > result.times) result = { times, value };\n    });\n  });\n\n  return result;\n};\n\nexport default calcMostRelated;","\ninterface  ValueTimes<ValueType> {\n  times: number;\n  value: ValueType;\n};\n\n/**\n * 计算出现次数最多的值\n */\nconst calcMostAppear = <ValueType>(\n  values: ValueType[],\n  isSame: (source: ValueType, target: ValueType) => boolean,\n) => {\n  const valueTimes = values.reduce<ValueTimes<ValueType>[]>((resule, value) => {\n    const _result = resule;\n    const index = _result.findIndex((item) => isSame(item.value, value));\n    if (index > -1) _result[index].times++;\n    else _result.push({ times: 1, value });\n    return _result;\n  }, []);\n\n  valueTimes.sort((a, b) => b.times - a.times);\n\n  return valueTimes;\n}\n\nexport default calcMostAppear;","import greenlet from 'greenlet';\nimport isSameRGBA, { RGBA } from \"./utils/is-same-rgba\";\nimport getImageData from \"./utils/get-image-data\";\nimport calcMostRelated from \"./utils/calc-most-related\";\nimport calcMostAppear from \"./utils/calc-most-appear\";\n\ninterface PixelData {\n  col: number;\n  row: number;\n  fill: RGBA;\n}\n\nconst pixelated = async (src: string, options: Partial<{\n  mode:\n    | 'use-most'\n    | 'use-first'\n    | 'use-middle'\n    | 'use-last'\n    | 'use-most-related',\n  size: number,\n  gap: number,\n}> = {}) => {\n  const imageData = await getImageData(src);\n  if (imageData === undefined) return;\n\n  const getPixelatedData = (_imageData: typeof imageData, _options: typeof options) => {\n    const { mode = 'use-middle', size = 1, gap = 0 } = _options;\n    const { getRangePixel, mapPixels, width, height } = _imageData;\n\n    const points: PixelData[] = [];\n\n    const drawStrategies = {\n      /** 策略 1：使用颜色出现最多的颜色作为像素块填充 */\n      'use-most': () => {\n        let colors: RGBA[] = [];\n        mapPixels(size + gap, ({ x, y, rgba, unit }) => {\n          if (unit && unit.x === 0 && unit.y === 0) colors = [];\n          colors.push(rgba);\n          const lastIndex = size - 1;\n          // 当遍历单位区域到最后一个像素\n          if (unit && unit.x === lastIndex && unit.y === lastIndex) {\n            const colorTimes = calcMostAppear(colors, isSameRGBA);\n            if (colorTimes.length === 0) return;\n            console.log(colorTimes)\n            const theMostColor = colorTimes[0].value;\n            points.push({\n              col: Math.floor(x / size),\n              row: Math.floor(y / size),\n              fill: theMostColor,\n            });\n          }\n        })\n      },\n      /** 策略 2：使用出现的第一个颜色作为像素块填充 */\n      'use-first': () => {\n        mapPixels(size + gap, ({ x, y, rgba, unit }) => {\n          if (rgba.a === 0) return;\n          if (unit && unit.x === 0 && unit.y === 0) {\n            points.push({\n              col: Math.floor(x / size),\n              row: Math.floor(y / size),\n              fill: rgba,\n            });\n          }\n        })\n      },\n      /** 策略 3：使用中间出现的颜色作为像素块填充 */\n      'use-middle': () => {\n        mapPixels(size + gap, ({ x, y, rgba, unit }) => {\n          if (rgba.a === 0) return;\n          const middleIndex = Math.floor(size / 2);\n          if (unit && unit.x === middleIndex && unit.y === middleIndex) {\n            points.push({\n              col: Math.floor(x / size),\n              row: Math.floor(y / size),\n              fill: rgba,\n            });\n          }\n        })\n      },\n      /** 策略 4：使用最后出现的颜色作为像素块填充 */\n      'use-last': () => {\n        mapPixels(size + gap, ({ x, y, rgba, unit }) => {\n          if (rgba.a === 0) return;\n          const lastIndex = size - 1;\n          if (unit && unit.x === lastIndex && unit.y === lastIndex) {\n            points.push({\n              col: Math.floor(x / size),\n              row: Math.floor(y / size),\n              fill: rgba,\n            });\n          }\n        })\n      },\n      /**\n       * 策略 5：使用范围内连续色值最多的颜色作为像素块填充\n       * @param {number} spread 拓展范围 \n       */\n      'use-most-related': (spread: number = 0) => {\n        mapPixels(size + gap, ({ x, y, rgba, unit }) => {\n          if (!unit) return;\n          // 当遍历单位区域到最后一个像素\n          if (unit && unit.x === 0 && unit.y === 0) {\n            const { value: color } = calcMostRelated(\n              getRangePixel(\n                y - spread,\n                x - spread,\n                y + size - 1 + spread,\n                x + size - 1 + spread,\n              ),\n              isSameRGBA,\n            );\n            if (!color) return;\n            points.push({\n              col: Math.floor(x / size),\n              row: Math.floor(y / size),\n              fill: color,\n            });\n          }\n        })\n      }\n    };\n\n    drawStrategies[mode]();\n\n    return Promise.resolve({\n      cols: Math.floor(width / size),\n      rows: Math.floor(height / size),\n      points,\n    })\n  };\n\n  return getPixelatedData(imageData, options);\n};\n\nexport default pixelated;\n","import UnboundedCanvas from '../../unbounded-canvas/index.class';\nimport getDrawers from '../../drawers';\nimport throttle from '../../utils/throttle';\nimport { loadFont } from '../../utils/load-font';\nimport pixelated from './pixelated';\n\n/** 格子大小 */\nconst GRID_SIZE = 5;\n/** 格子间隔 */\nconst GRID_GAP = 1;\n/** 最小格子尺寸 */\nconst GRID_MIN_SIZE = 3;\n/** 最大格子尺寸 */\nconst GRID_MAX_SIZE = 500;\n/** 字体配置 */\nconst FONT_CONFIGURATION = {\n  name: 'Century Gothic-Bold',\n  url: 'https://storage.sunzi.cool/font/965b7d59-bad0-466b-9703-a20672e27bc7.ttf'\n};\n\nconst createBlogColorWorld = async () => {\n  const _canvas: HTMLCanvasElement | null = document.querySelector('#_canvas');\n  if (!_canvas) return;\n  \n  const [width, height] = [\n    document.body.clientWidth,\n    document.body.clientHeight,\n  ];\n\n  const unbounedCanvas = new UnboundedCanvas(_canvas, {\n    width,\n    height,\n    unit: {\n      size: GRID_SIZE,\n      gap: GRID_GAP,\n      // sticky: true,\n    },\n    zoom: {\n      min: GRID_MIN_SIZE / GRID_SIZE,\n      max: GRID_MAX_SIZE / GRID_SIZE,\n    }\n  });\n\n  /**\n   * 获取参数\n   */\n  const getRadius = () => {\n    const { devicePixelRatio, zoom } = unbounedCanvas.getOptions();\n    return 1 * devicePixelRatio * zoom\n  };\n\n  /**\n   * 绘制某坐标方块\n   */\n  const drawPoint = async (\n    ctx: CanvasRenderingContext2D,\n    point: Point | Coordinate,\n    color: string,\n    center?: Coordinate,\n  ) => {\n    const { width, height, devicePixelRatio, unitSize, unitGap, contentCenter } = unbounedCanvas.getOptions();\n    const radius = getRadius();\n    const size = unitSize + unitGap\n    const halfSize = unitSize / 2;\n    const _center = center ?? contentCenter;\n\n    const [x, y] = Array.isArray(point)\n      ? [\n        _center.x * devicePixelRatio + point[0] * size - halfSize,\n        _center.y * devicePixelRatio + point[1] * size - halfSize,\n      ]\n      : [\n        point.x - halfSize,\n        point.y - halfSize,\n      ]\n    // 如果不在画布内的格子不进行渲染  \n    if (x + unitSize < 0 || x > width || y + unitSize < 0 || y > height) return;\n    await getDrawers(ctx)\n      .style({ fillStyle: color })\n      .rect(x, y, unitSize, unitSize, radius);\n  };\n\n  /**\n   * 监听绘制更新\n   */\n  unbounedCanvas\n    .add2dLayer((ctx) => {\n      const { width, height, unitSize, unitGap, contentCenter } = unbounedCanvas.getOptions();\n      const size = unitSize + unitGap\n      const radius = getRadius();\n      const r = radius > 3 ? radius : 0;\n    \n      const unitFirstPoint = unbounedCanvas.getUnitFirstPoint(contentCenter);\n\n      const drawRadiusRectPath = (left: number, top: number) => {\n        ctx.moveTo(left + r, top);\n        ctx.lineTo(left + unitSize - r, top);\n        r && ctx.arcTo(left + unitSize, top, left + unitSize, top + r, radius);\n        ctx.lineTo(left + unitSize, top + unitSize - r);\n        r && ctx.arcTo(left + unitSize, top + unitSize, left + unitSize - r, top + unitSize, radius);\n        ctx.lineTo(left + r, top + unitSize);\n        r && ctx.arcTo(left, top + unitSize, left, top + unitSize - r, radius);\n        ctx.lineTo(left, top + r);\n        r && ctx.arcTo(left, top, left + r, top, radius);\n        ctx.lineTo(left, top + r);\n      }\n      // 绘制矩形格子\n      ctx.save();\n      ctx.fillStyle = '#f2f2f2';\n      ctx.beginPath();\n      for (let y = unitFirstPoint.y; y < height + size; y += size) {\n        for (let x = unitFirstPoint.x; x < width + size; x += size) {\n          drawRadiusRectPath(x, y);\n        }\n      }\n      ctx.closePath();\n      ctx.fill();\n      ctx.restore();\n    }, {\n      uniqueKey: 'bg',\n      needOffScreenCache: true,\n    });\n\n  /**\n   * 坐标参考\n   */\n  loadFont(FONT_CONFIGURATION, 1000)?.then(fontName => {\n    unbounedCanvas.add2dLayer((ctx) => {\n      const { contentCenter } = unbounedCanvas.getOptions();\n      const point = unbounedCanvas.viewCoords2UnitPoint(\n        contentCenter.x,\n        contentCenter.y,\n      );\n      getDrawers(ctx)\n        .style({\n          fontSize: 12,\n          fontFamily: fontName,\n          opacity: 0.6,\n          fillStyle: 'RED',\n        })\n        .text(`(x: ${point[0]}, y: ${point[1]})`, 10, 10);\n    })\n  })\n\n  await pixelated('./assets/test.png', {\n    size: 5,\n    gap: 0,\n    mode: 'use-most-related',\n  })\n    .then(imageData => {\n      if (!imageData) return;\n      const { rows, cols, points } = imageData;\n      unbounedCanvas.add2dLayer((ctx) => {\n        // console.time('word');\n        points.forEach(({ col, row, fill }) => {\n          if (\n            (fill.r === 255 && fill.g === 255 && fill.b === 255) ||\n            fill.a === 0\n          ) return;\n          drawPoint(\n            ctx,\n            [Math.floor(- cols / 2) + col, Math.floor(- rows / 2) + row - 10],\n            `rgba(${fill.r}, ${fill.g}, ${fill.b}, ${fill.a})`\n          );\n        })\n        // console.timeEnd('word');\n      }, {\n        needOffScreenCache: true,\n      });\n    })\n    \n  /**\n   * 浏览器尺寸变化事件监听\n   */\n  window.addEventListener('resize', throttle(() => {\n    unbounedCanvas.updateCanvas(\n      document.body.clientWidth,\n      document.body.clientHeight,\n    );\n  }, 50));\n\n  const button = document.querySelector('#back_center');\n  if (button) button.addEventListener('click', () => {\n    unbounedCanvas?.focus([0, 0]);\n  })\n};\n\ncreateBlogColorWorld();"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","pop","push","__spreadArray","to","from","pack","l","ar","slice","concat","o","r","a","u","throw","ease","Math","pow","linear","random","keys","floor","Date","getTime","window","requestAnimationFrame","setTimeout","clearTimeout","mode","handler","onUpdate","round","c","all","wait","document","addEventListener","attachEvent","removeEventListener","readyState","detachEvent","w","createElement","setAttribute","appendChild","createTextNode","h","m","j","style","cssText","x","B","offsetWidth","width","scrollLeft","scrollWidth","C","parentNode","D","family","weight","stretch","context","E","F","G","H","I","M","test","navigator","vendor","exec","userAgent","parseInt","fonts","N","font","q","join","load","J","K","L","O","Error","race","k","z","A","removeChild","hidden","dir","module","exports","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","validate","uuid","REGEX","byteToHex","toString","unsafeStringify","arr","offset","toLowerCase","parse","stringToBytes","str","unescape","encodeURIComponent","bytes","charCodeAt","DNS","URL","v35","name","version","hashfunc","generateUUID","namespace","buf","_namespace","set","err","md5","msg","md5ToHexEncodedArray","wordsToMd5","bytesToWords","input","output","length32","hexTab","hex","charAt","getOutputLength","inputLength8","len","olda","oldb","oldc","oldd","md5ff","md5gg","md5hh","md5ii","safeAdd","length8","Uint32Array","lsw","msw","bitRotateLeft","num","cnt","md5cmn","randomUUID","v4","options","native","rnds","ROTL","sha1","isArray","ceil","W","T"],"mappings":";;;;;IAAA;IACA;AACA;IACA;IACA;AACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IAEA,IAAIA,aAAa,GAAG,UAASC,CAAT,EAAYC,CAAZ,EAAe;IAC/BF,EAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;IAAEC,IAAAA,SAAS,EAAE,EAAA;IAAb,GAAA,YAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;QAAED,CAAC,CAACI,SAAF,GAAcH,CAAd,CAAA;IAAkB,GAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;QAAE,KAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIC,MAAM,CAACK,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EAAgDN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR,CAAA;OAFvF,CAAA;;IAGA,EAAA,OAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB,CAAA;IACH,CALD,CAAA;;IAOO,SAASS,SAAT,CAAmBV,CAAnB,EAAsBC,CAAtB,EAAyB;MAC5B,IAAI,OAAOA,CAAP,KAAa,UAAb,IAA2BA,CAAC,KAAK,IAArC,EACI,MAAM,IAAIU,SAAJ,CAAc,yBAAyBC,MAAM,CAACX,CAAD,CAA/B,GAAqC,+BAAnD,CAAN,CAAA;IACJF,EAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb,CAAA;;IACA,EAAA,SAASY,EAAT,GAAc;QAAE,IAAKC,CAAAA,WAAL,GAAmBd,CAAnB,CAAA;IAAuB,GAAA;;MACvCA,CAAC,CAACO,SAAF,GAAcN,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACa,MAAP,CAAcd,CAAd,CAAb,IAAiCY,EAAE,CAACN,SAAH,GAAeN,CAAC,CAACM,SAAjB,EAA4B,IAAIM,EAAJ,EAA7D,CAAd,CAAA;IACH,CAAA;IAEM,IAAIG,QAAQ,GAAG,YAAW;MAC7BA,QAAQ,GAAGd,MAAM,CAACe,MAAP,IAAiB,SAASD,QAAT,CAAkBE,CAAlB,EAAqB;IAC7C,IAAA,KAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;IACjDD,MAAAA,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb,CAAA;;UACA,KAAK,IAAId,CAAT,IAAca,CAAd,EAAiB,IAAIjB,MAAM,CAACK,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCU,CAArC,EAAwCb,CAAxC,CAAJ,EAAgDY,CAAC,CAACZ,CAAD,CAAD,GAAOa,CAAC,CAACb,CAAD,CAAR,CAAA;IACpE,KAAA;;IACD,IAAA,OAAOY,CAAP,CAAA;OALJ,CAAA;;IAOA,EAAA,OAAOF,QAAQ,CAACQ,KAAT,CAAe,IAAf,EAAqBF,SAArB,CAAP,CAAA;IACH,CATM,CAAA;IAWA,SAASG,MAAT,CAAgBN,CAAhB,EAAmBO,CAAnB,EAAsB;MACzB,IAAIR,CAAC,GAAG,EAAR,CAAA;;IACA,EAAA,KAAK,IAAIZ,CAAT,IAAca,CAAd,EAAiB,IAAIjB,MAAM,CAACK,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCU,CAArC,EAAwCb,CAAxC,CAA8CoB,IAAAA,CAAC,CAACC,OAAF,CAAUrB,CAAV,IAAe,CAAjE,EACbY,CAAC,CAACZ,CAAD,CAAD,GAAOa,CAAC,CAACb,CAAD,CAAR,CAAA;;IACJ,EAAA,IAAIa,CAAC,IAAI,IAAL,IAAa,OAAOjB,MAAM,CAAC0B,qBAAd,KAAwC,UAAzD,EACI,KAAK,IAAIR,CAAC,GAAG,CAAR,EAAWd,CAAC,GAAGJ,MAAM,CAAC0B,qBAAP,CAA6BT,CAA7B,CAApB,EAAqDC,CAAC,GAAGd,CAAC,CAACiB,MAA3D,EAAmEH,CAAC,EAApE,EAAwE;IACpE,IAAA,IAAIM,CAAC,CAACC,OAAF,CAAUrB,CAAC,CAACc,CAAD,CAAX,CAAA,GAAkB,CAAlB,IAAuBlB,MAAM,CAACK,SAAP,CAAiBsB,oBAAjB,CAAsCpB,IAAtC,CAA2CU,CAA3C,EAA8Cb,CAAC,CAACc,CAAD,CAA/C,CAA3B,EACIF,CAAC,CAACZ,CAAC,CAACc,CAAD,CAAF,CAAD,GAAUD,CAAC,CAACb,CAAC,CAACc,CAAD,CAAF,CAAX,CAAA;IACP,GAAA;IACL,EAAA,OAAOF,CAAP,CAAA;IACH,CAAA;IAiBM,SAASY,SAAT,CAAmBC,OAAnB,EAA4BC,UAA5B,EAAwCC,CAAxC,EAA2CC,SAA3C,EAAsD;MACzD,SAASC,KAAT,CAAeC,KAAf,EAAsB;QAAE,OAAOA,KAAK,YAAYH,CAAjB,GAAqBG,KAArB,GAA6B,IAAIH,CAAJ,CAAM,UAAUI,OAAV,EAAmB;UAAEA,OAAO,CAACD,KAAD,CAAP,CAAA;IAAiB,KAA5C,CAApC,CAAA;IAAoF,GAAA;;IAC5G,EAAA,OAAO,KAAKH,CAAC,KAAKA,CAAC,GAAGK,OAAT,CAAN,EAAyB,UAAUD,OAAV,EAAmBE,MAAnB,EAA2B;QACvD,SAASC,SAAT,CAAmBJ,KAAnB,EAA0B;UAAE,IAAI;IAAEK,QAAAA,IAAI,CAACP,SAAS,CAACQ,IAAV,CAAeN,KAAf,CAAD,CAAJ,CAAA;WAAN,CAAqC,OAAOV,CAAP,EAAU;YAAEa,MAAM,CAACb,CAAD,CAAN,CAAA;IAAY,OAAA;IAAE,KAAA;;QAC3F,SAASiB,QAAT,CAAkBP,KAAlB,EAAyB;UAAE,IAAI;YAAEK,IAAI,CAACP,SAAS,CAAC,OAAD,CAAT,CAAmBE,KAAnB,CAAD,CAAJ,CAAA;WAAN,CAAyC,OAAOV,CAAP,EAAU;YAAEa,MAAM,CAACb,CAAD,CAAN,CAAA;IAAY,OAAA;IAAE,KAAA;;QAC9F,SAASe,IAAT,CAAcG,MAAd,EAAsB;UAAEA,MAAM,CAACC,IAAP,GAAcR,OAAO,CAACO,MAAM,CAACR,KAAR,CAArB,GAAsCD,KAAK,CAACS,MAAM,CAACR,KAAR,CAAL,CAAoBU,IAApB,CAAyBN,SAAzB,EAAoCG,QAApC,CAAtC,CAAA;IAAsF,KAAA;;IAC9GF,IAAAA,IAAI,CAAC,CAACP,SAAS,GAAGA,SAAS,CAACV,KAAV,CAAgBO,OAAhB,EAAyBC,UAAU,IAAI,EAAvC,CAAb,EAAyDU,IAAzD,EAAD,CAAJ,CAAA;IACH,GALM,CAAP,CAAA;IAMH,CAAA;IAEM,SAASK,WAAT,CAAqBhB,OAArB,EAA8BiB,IAA9B,EAAoC;IACvC,EAAA,IAAIC,CAAC,GAAG;IAAEC,IAAAA,KAAK,EAAE,CAAT;IAAYC,IAAAA,IAAI,EAAE,YAAW;UAAE,IAAIjC,CAAC,CAAC,CAAD,CAAD,GAAO,CAAX,EAAc,MAAMA,CAAC,CAAC,CAAD,CAAP,CAAA;UAAY,OAAOA,CAAC,CAAC,CAAD,CAAR,CAAA;SAAzD;IAAyEkC,IAAAA,IAAI,EAAE,EAA/E;IAAmFC,IAAAA,GAAG,EAAE,EAAA;OAAhG;IAAA,MAAsGC,CAAtG;IAAA,MAAyGC,CAAzG;IAAA,MAA4GrC,CAA5G;IAAA,MAA+GsC,CAA/G,CAAA;IACA,EAAA,OAAOA,CAAC,GAAG;IAAEd,IAAAA,IAAI,EAAEe,IAAI,CAAC,CAAD,CAAZ;QAAiB,OAASA,EAAAA,IAAI,CAAC,CAAD,CAA9B;QAAmC,QAAUA,EAAAA,IAAI,CAAC,CAAD,CAAA;IAAjD,GAAJ,EAA4D,OAAOC,MAAP,KAAkB,UAAlB,KAAiCF,CAAC,CAACE,MAAM,CAACC,QAAR,CAAD,GAAqB,YAAW;IAAE,IAAA,OAAO,IAAP,CAAA;OAAnE,CAA5D,EAAgJH,CAAvJ,CAAA;;MACA,SAASC,IAAT,CAAcpC,CAAd,EAAiB;QAAE,OAAO,UAAUuC,CAAV,EAAa;IAAE,MAAA,OAAOnB,IAAI,CAAC,CAACpB,CAAD,EAAIuC,CAAJ,CAAD,CAAX,CAAA;SAAtB,CAAA;IAA+C,GAAA;;MAClE,SAASnB,IAAT,CAAcoB,EAAd,EAAkB;IACd,IAAA,IAAIP,CAAJ,EAAO,MAAM,IAAI3C,SAAJ,CAAc,iCAAd,CAAN,CAAA;;QACP,OAAOsC,CAAP,EAAU,IAAI;IACV,MAAA,IAAIK,CAAC,GAAG,CAAJ,EAAOC,CAAC,KAAKrC,CAAC,GAAG2C,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAR,GAAYN,CAAC,CAAC,QAAD,CAAb,GAA0BM,EAAE,CAAC,CAAD,CAAF,GAAQN,CAAC,CAAC,OAAD,CAAD,KAAe,CAACrC,CAAC,GAAGqC,CAAC,CAAC,QAAD,CAAN,KAAqBrC,CAAC,CAACT,IAAF,CAAO8C,CAAP,CAArB,EAAgC,CAA/C,CAAR,GAA4DA,CAAC,CAACb,IAAjG,CAAD,IAA2G,CAAC,CAACxB,CAAC,GAAGA,CAAC,CAACT,IAAF,CAAO8C,CAAP,EAAUM,EAAE,CAAC,CAAD,CAAZ,CAAL,EAAuBhB,IAA9I,EAAoJ,OAAO3B,CAAP,CAAA;IACpJ,MAAA,IAAIqC,CAAC,GAAG,CAAJ,EAAOrC,CAAX,EAAc2C,EAAE,GAAG,CAACA,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAT,EAAY3C,CAAC,CAACkB,KAAd,CAAL,CAAA;;UACd,QAAQyB,EAAE,CAAC,CAAD,CAAV;IACI,QAAA,KAAK,CAAL,CAAA;IAAQ,QAAA,KAAK,CAAL;IAAQ3C,UAAAA,CAAC,GAAG2C,EAAJ,CAAA;IAAQ,UAAA,MAAA;;IACxB,QAAA,KAAK,CAAL;IAAQZ,UAAAA,CAAC,CAACC,KAAF,EAAA,CAAA;cAAW,OAAO;IAAEd,YAAAA,KAAK,EAAEyB,EAAE,CAAC,CAAD,CAAX;IAAgBhB,YAAAA,IAAI,EAAE,KAAA;eAA7B,CAAA;;IACnB,QAAA,KAAK,CAAL;IAAQI,UAAAA,CAAC,CAACC,KAAF,EAAA,CAAA;IAAWK,UAAAA,CAAC,GAAGM,EAAE,CAAC,CAAD,CAAN,CAAA;cAAWA,EAAE,GAAG,CAAC,CAAD,CAAL,CAAA;IAAU,UAAA,SAAA;;IACxC,QAAA,KAAK,CAAL;IAAQA,UAAAA,EAAE,GAAGZ,CAAC,CAACI,GAAF,CAAMS,GAAN,EAAL,CAAA;;cAAkBb,CAAC,CAACG,IAAF,CAAOU,GAAP,EAAA,CAAA;;IAAc,UAAA,SAAA;;IACxC,QAAA;IACI,UAAA,IAAI,EAAE5C,CAAC,GAAG+B,CAAC,CAACG,IAAN,EAAYlC,CAAC,GAAGA,CAAC,CAACK,MAAF,GAAW,CAAX,IAAgBL,CAAC,CAACA,CAAC,CAACK,MAAF,GAAW,CAAZ,CAAnC,CAAA,KAAuDsC,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,IAAeA,EAAE,CAAC,CAAD,CAAF,KAAU,CAAhF,CAAJ,EAAwF;IAAEZ,YAAAA,CAAC,GAAG,CAAJ,CAAA;IAAO,YAAA,SAAA;IAAW,WAAA;;IAC5G,UAAA,IAAIY,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,KAAgB,CAAC3C,CAAD,IAAO2C,EAAE,CAAC,CAAD,CAAF,GAAQ3C,CAAC,CAAC,CAAD,CAAT,IAAgB2C,EAAE,CAAC,CAAD,CAAF,GAAQ3C,CAAC,CAAC,CAAD,CAAhD,CAAJ,EAA2D;IAAE+B,YAAAA,CAAC,CAACC,KAAF,GAAUW,EAAE,CAAC,CAAD,CAAZ,CAAA;IAAiB,YAAA,MAAA;IAAQ,WAAA;;IACtF,UAAA,IAAIA,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,IAAeZ,CAAC,CAACC,KAAF,GAAUhC,CAAC,CAAC,CAAD,CAA9B,EAAmC;IAAE+B,YAAAA,CAAC,CAACC,KAAF,GAAUhC,CAAC,CAAC,CAAD,CAAX,CAAA;IAAgBA,YAAAA,CAAC,GAAG2C,EAAJ,CAAA;IAAQ,YAAA,MAAA;IAAQ,WAAA;;cACrE,IAAI3C,CAAC,IAAI+B,CAAC,CAACC,KAAF,GAAUhC,CAAC,CAAC,CAAD,CAApB,EAAyB;IAAE+B,YAAAA,CAAC,CAACC,KAAF,GAAUhC,CAAC,CAAC,CAAD,CAAX,CAAA;;IAAgB+B,YAAAA,CAAC,CAACI,GAAF,CAAMU,IAAN,CAAWF,EAAX,CAAA,CAAA;;IAAgB,YAAA,MAAA;IAAQ,WAAA;;cACnE,IAAI3C,CAAC,CAAC,CAAD,CAAL,EAAU+B,CAAC,CAACI,GAAF,CAAMS,GAAN,EAAA,CAAA;;cACVb,CAAC,CAACG,IAAF,CAAOU,GAAP,EAAA,CAAA;;IAAc,UAAA,SAAA;IAXtB,OAAA;;UAaAD,EAAE,GAAGb,IAAI,CAACvC,IAAL,CAAUsB,OAAV,EAAmBkB,CAAnB,CAAL,CAAA;SAhBM,CAiBR,OAAOvB,CAAP,EAAU;IAAEmC,MAAAA,EAAE,GAAG,CAAC,CAAD,EAAInC,CAAJ,CAAL,CAAA;IAAa6B,MAAAA,CAAC,GAAG,CAAJ,CAAA;IAAQ,KAjBzB,SAiBkC;UAAED,CAAC,GAAGpC,CAAC,GAAG,CAAR,CAAA;IAAY,KAAA;;QAC1D,IAAI2C,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAZ,EAAe,MAAMA,EAAE,CAAC,CAAD,CAAR,CAAA;QAAa,OAAO;IAAEzB,MAAAA,KAAK,EAAEyB,EAAE,CAAC,CAAD,CAAF,GAAQA,EAAE,CAAC,CAAD,CAAV,GAAgB,KAAK,CAA9B;IAAiChB,MAAAA,IAAI,EAAE,IAAA;SAA9C,CAAA;IAC/B,GAAA;IACJ,CAAA;IA+DM,SAASmB,aAAT,CAAuBC,EAAvB,EAA2BC,IAA3B,EAAiCC,IAAjC,EAAuC;IAC1C,EAAA,IAAIA,IAAI,IAAI7C,SAAS,CAACC,MAAV,KAAqB,CAAjC,EAAoC,KAAK,IAAIH,CAAC,GAAG,CAAR,EAAWgD,CAAC,GAAGF,IAAI,CAAC3C,MAApB,EAA4B8C,EAAjC,EAAqCjD,CAAC,GAAGgD,CAAzC,EAA4ChD,CAAC,EAA7C,EAAiD;IACjF,IAAA,IAAIiD,EAAE,IAAI,EAAEjD,CAAC,IAAI8C,IAAP,CAAV,EAAwB;IACpB,MAAA,IAAI,CAACG,EAAL,EAASA,EAAE,GAAGhE,KAAK,CAACE,SAAN,CAAgB+D,KAAhB,CAAsB7D,IAAtB,CAA2ByD,IAA3B,EAAiC,CAAjC,EAAoC9C,CAApC,CAAL,CAAA;IACTiD,MAAAA,EAAE,CAACjD,CAAD,CAAF,GAAQ8C,IAAI,CAAC9C,CAAD,CAAZ,CAAA;IACH,KAAA;IACJ,GAAA;IACD,EAAA,OAAO6C,EAAE,CAACM,MAAH,CAAUF,EAAE,IAAIhE,KAAK,CAACE,SAAN,CAAgB+D,KAAhB,CAAsB7D,IAAtB,CAA2ByD,IAA3B,CAAhB,CAAP,CAAA;IACH;;IChLD,SAAS7C,CAAT,CAAWA,CAAX,EAAaK,CAAb,EAAeR,CAAf,EAAiBsD,CAAjB,EAAmB;IAAC,EAAA,OAAO,KAAItD,CAAC,KAAGA,CAAC,GAACoB,OAAL,CAAL,EAAqB,UAASmC,CAAT,EAAWC,CAAX,EAAa;QAAC,SAAStD,CAAT,CAAWC,CAAX,EAAa;UAAC,IAAG;IAAC+C,QAAAA,CAAC,CAACI,CAAC,CAAC9B,IAAF,CAAOrB,CAAP,CAAD,CAAD,CAAA;WAAJ,CAAiB,OAAMA,CAAN,EAAQ;YAACqD,CAAC,CAACrD,CAAD,CAAD,CAAA;IAAK,OAAA;IAAC,KAAA;;QAAA,SAASsD,CAAT,CAAWtD,CAAX,EAAa;UAAC,IAAG;IAAC+C,QAAAA,CAAC,CAACI,CAAC,CAACI,KAAF,CAAQvD,CAAR,CAAD,CAAD,CAAA;WAAJ,CAAkB,OAAMA,CAAN,EAAQ;YAACqD,CAAC,CAACrD,CAAD,CAAD,CAAA;IAAK,OAAA;IAAC,KAAA;;QAAA,SAAS+C,CAAT,CAAW/C,CAAX,EAAa;IAAC,MAAA,IAAIK,CAAJ,CAAA;IAAML,MAAAA,CAAC,CAACwB,IAAF,GAAO4B,CAAC,CAACpD,CAAC,CAACe,KAAH,CAAR,GAAkB,CAACV,CAAC,GAACL,CAAC,CAACe,KAAJ,EAAUV,CAAC,YAAYR,CAAb,GAAeQ,CAAf,GAAiB,IAAIR,CAAJ,CAAO,UAASG,CAAT,EAAW;YAACA,CAAC,CAACK,CAAD,CAAD,CAAA;IAAK,OAAxB,CAA5B,EAAwDoB,IAAxD,CAA6D1B,CAA7D,EAA+DuD,CAA/D,CAAlB,CAAA;IAAoF,KAAA;;IAAAP,IAAAA,CAAC,CAAC,CAACI,CAAC,GAACA,CAAC,CAAChD,KAAF,CAAQH,CAAR,EAAUK,CAAC,IAAE,EAAb,CAAH,EAAqBgB,IAArB,EAAD,CAAD,CAAA;IAA+B,GAAvQ,CAAP,CAAA;IAAiR,CAAA;;IAAA,SAAShB,CAAT,CAAWL,CAAC,GAAC,CAAb,EAAeK,CAAf,EAAiBR,CAAjB,EAAmB;IAAC,EAAA,IAAIsD,CAAJ,CAAA;MAAM,IAAIC,CAAC,GAAC,CAAN,CAAA;IAAQ,EAAA,MAAMC,CAAC,GAAC;IAACG,IAAAA,IAAI,EAACnD,CAAC,IAAEoD,IAAI,CAACC,GAAL,CAASrD,CAAC,GAACL,CAAX,EAAa,CAAb,CAAT;QAAyB,SAAUK,EAAAA,CAAC,IAAEoD,IAAI,CAACC,GAAL,CAASrD,CAAC,GAACL,CAAX,EAAa,CAAb,CAAtC;IAAsD,IAAA,aAAA,EAAcK,CAAC,IAAE;IAAC,MAAA,IAAIR,CAAC,GAACQ,CAAC,IAAEL,CAAC,GAAC,CAAJ,CAAP,CAAA;UAAc,OAAOH,CAAC,GAAC,CAAF,GAAI4D,IAAI,CAACC,GAAL,CAAS7D,CAAT,EAAW,CAAX,CAAA,GAAc,CAAlB,GAAoB,EAAE,EAAEA,CAAF,IAAKA,CAAC,GAAC,CAAP,CAAA,GAAU,CAAZ,CAAA,GAAe,CAA1C,CAAA;SAAtF;IAAmI,IAAA,UAAA,EAAWQ,CAAC,IAAE,CAACA,CAAD,GAAGL,CAAH,IAAMK,CAAC,GAACL,CAAF,GAAI,CAAV,CAAjJ;IAA8J2D,IAAAA,MAAM,EAACtD,CAAC,IAAEA,CAAC,GAACL,CAA1K;QAA4K4D,MAAM,EAACvD,CAAC,IAAE+C,CAAC,GAACK,IAAI,CAACC,GAAL,CAASD,IAAI,CAACG,MAAL,EAAA,IAAevD,CAAC,GAACL,CAAjB,KAAqB,CAAEoD,GAAAA,CAAvB,CAAT,EAAmC,CAAnC,CAAA;OAAhM;IAAA,QAAuOrD,CAAC,GAAClB,MAAM,CAACgF,IAAP,CAAYR,CAAZ,CAAzO;IAAA,QAAwPC,CAAC,GAAC,QAAA,KAAWjD,CAAX,GAAagD,CAAC,CAACtD,CAAC,CAAC0D,IAAI,CAACK,KAAL,CAAWL,IAAI,CAACG,MAAL,EAAA,GAAc7D,CAAC,CAACG,MAA3B,CAAD,CAAF,CAAd,GAAsD,IAAA,MAAQiD,CAAC,GAACE,CAAC,CAAChD,CAAD,CAAX,KAAiB,KAAK,CAAL,KAAS8C,CAA1B,GAA4BA,CAA5B,GAA8BE,CAAC,CAACO,MAAhV,CAAA;IAAuV,EAAA,OAAO,IAAI3C,OAAJ,CAAaZ,CAAC,IAAE;IAAC,IAAA,IAAI8C,CAAC,GAAE,IAAIY,IAAJ,EAAD,CAAWC,OAAX,EAAN;YAA2BX,CAAC,GAAC,CAA7B;YAA+BtD,CAAC,GAAC,CAAC,CAAlC,CAAA;;QAAoC,MAAMgD,CAAC,GAAC,MAAI;UAAC,CAAC,UAAS/C,CAAT,EAAW;YAAC,IAAG,WAAA,IAAa,OAAOiE,MAAvB,EAA8B,OAAOA,MAAM,CAACC,qBAAP,CAA6BlE,CAA7B,CAAP,CAAA;IAAuC,QAAA,MAAMK,CAAC,GAAC8D,UAAU,CAAE,MAAI;IAACnE,UAAAA,CAAC,CAACK,CAAD,CAAD,EAAK+D,YAAY,CAAC/D,CAAD,CAAjB,CAAA;aAAP,EAA8B,IAA9B,CAAlB,CAAA;IAAsD,OAAvI,CAAyI,MAAI;IAAC,QAAA,IAAGgD,CAAC,GAAE,IAAIU,IAAJ,EAAD,CAAWC,OAAX,EAAqBb,GAAAA,CAAvB,EAAyBC,CAAC,GAACE,CAAC,CAACD,CAAD,CAA5B,EAAgCA,CAAC,IAAErD,CAAtC,EAAwC,IAAMH,IAAAA,CAAN,IAASA,CAAC,CAAC,CAAD,CAAV,EAAcQ,CAAC,CAACgD,CAAD,CAAf,CAAxC,KAA+D;cAAC,MAAMrD,CAAC,GAAC,MAAI;gBAACD,CAAC,GAAC,CAAC,CAAH,CAAA;eAAb,CAAA;;IAAmB,UAAA,IAAA,IAAMF,CAAN,IAASA,CAAC,CAACuD,CAAD,EAAGpD,CAAH,CAAV,EAAgBD,CAAC,GAACM,CAAC,CAACgD,CAAD,CAAF,GAAMN,CAAC,EAAxB,CAAA;IAA2B,SAAA;IAAC,OAA7P,CAAD,CAAA;SAAb,CAAA;;QAA+QA,CAAC,EAAA,CAAA;IAAG,GAAxU,CAAP,CAAA;IAAkV,CAAA;;IAAA,SAASlD,CAAT,CAAWA,CAAX,EAAasD,CAAC,GAAC,EAAf,EAAkB;MAAC,OAAOnD,CAAC,CAAC,IAAD,EAAM,KAAK,CAAX,EAAa,KAAK,CAAlB,EAAqB,aAAW;QAAC,MAAK;UAACqE,IAAI,EAACrE,CAAC,GAAC,QAAR;IAAiBsE,MAAAA,OAAO,EAAClB,CAAzB;IAA2BmB,MAAAA,QAAQ,EAAClB,CAAAA;IAApC,KAAA,GAAuCF,CAA5C,CAAA;IAA8C,IAAA,IAAIpD,CAAC,GAACqD,CAAC,GAAC,GAAD,GAAK,CAAZ,CAAA;QAAc,MAAME,CAAC,GAACF,CAAC,GAACA,CAAC,EAAF,GAAKnC,OAAO,CAACD,OAAR,EAAd;IAAA,UAAgC+B,CAAC,GAAC,MAAM1C,CAAC,CAACR,CAAD,EAAGG,CAAH,EAAM,CAACA,CAAD,EAAGK,CAAH,KAAO;IAAC,MAAA,IAAA,IAAMgD,CAAN,IAASA,CAAC,CAACI,IAAI,CAACe,KAAL,CAAWxE,CAAC,GAACD,CAAF,GAAI,GAAf,IAAoB,GAArB,EAAyBM,CAAzB,CAAV,CAAA;IAAsC,KAApD,CAAzC;IAAA,UAAgG,CAACoE,CAAD,CAAI,GAAA,MAAMxD,OAAO,CAACyD,GAAR,CAAY,CAACpB,CAAD,EAAGP,CAAH,CAAZ,CAA1G,CAAA;QAA6H,OAAOK,CAAC,KAAG,IAAA,IAAMC,CAAN,IAASA,CAAC,CAAC,CAAD,CAAb,CAAD,EAAmBoB,CAA1B,CAAA;IAA4B,GAAtP,CAAR,CAAA;IAAiQ;;ICUpwC,IAAA,MAAA,kBAAA,YAAA;IAGE,IAAA,SAAA,MAAA,CAAa,KAAc,EAAE,MAAe,EAAE,YAAsC,EAAA;IAAtC,QAAA,IAAA,YAAA,KAAA,KAAA,CAAA,EAAA,EAAA,YAAsC,GAAA,EAAA,CAAA,EAAA;YAApF,IAWC,KAAA,GAAA,IAAA,CAAA;YAbS,IAAQ,CAAA,QAAA,GAA6B,IAAI,CAAC;YAIhD,IAAA,EAAA,GACE,YAAY,CADH,MAAA,EAAX,MAAM,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,EAAE,KAAA,CACI;YAEjB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IACjD,QAAA,IAAI,KAAK;IAAE,YAAA,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;IACvC,QAAA,IAAI,MAAM;IAAE,YAAA,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC;YAC1C,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAA,GAAG,EAAA;IAC7B,YAAA,KAAI,CAAC,QAAS,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;IAC1C,SAAC,CAAC,CAAC;SACJ;IAED;;IAEG;IACH,IAAA,MAAA,CAAA,SAAA,CAAA,UAAU,GAAV,YAAA;YACE,OAAO,IAAI,CAAC,QAAQ,CAAC;SACtB,CAAA;IAED;;IAEG;IACH,IAAA,MAAA,CAAA,SAAA,CAAA,UAAU,GAAV,UAAY,KAAa,EAAE,MAAc,EAAA;YACvC,IAAI,CAAC,IAAI,CAAC,QAAQ;gBAAE,OAAO;IAC3B,QAAA,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;IAC5B,QAAA,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC;SAC/B,CAAA;QACH,OAAC,MAAA,CAAA;IAAD,CAAC,EAAA,CAAA;;ICvBD,IAAA,QAAA,kBAAA,UAAA,MAAA,EAAA;QAAuB,SAAM,CAAA,QAAA,EAAA,MAAA,CAAA,CAAA;IAY3B,IAAA,SAAA,QAAA,CAAa,KAAc,EAAE,MAAe,EAAE,YAAwC,EAAA;IAAxC,QAAA,IAAA,YAAA,KAAA,KAAA,CAAA,EAAA,EAAA,YAAwC,GAAA,EAAA,CAAA,EAAA;YAAtF,IAYC,KAAA,GAAA,IAAA,CAAA;IAVG,QAAA,IAAA,KAEE,YAAY,CAAA,MAFH,EAAX,MAAM,mBAAG,EAAE,GAAA,EAAA,EACX,EAAA,GACE,YAAY,CADY,kBAAA,EAA1B,kBAAkB,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,KAAK,KAAA,CACX;oBAEjB,MAAM,CAAA,IAAA,CAAA,IAAA,EAAA,KAAK,EAAE,MAAM,EAAE,EAAE,MAAM,EAAA,MAAA,EAAE,CAAC,IAAA,IAAA,CAAA;YAjB1B,KAAQ,CAAA,QAAA,GAAoC,IAAI,CAAC;YAEjD,KAAa,CAAA,aAAA,GAA6B,IAAI,CAAC;YAE/C,KAAa,CAAA,aAAA,GAAoC,IAAI,CAAC;IAE9D;;IAEG;YACK,KAAQ,CAAA,QAAA,GAAqB,EAAE,CAAC;YAUtC,IAAI,KAAI,CAAC,QAAQ;gBAAE,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;;IAGlE,QAAA,IAAI,kBAAkB;gBAAE,KAAI,CAAC,iBAAiB,EAAE,CAAC;;SAClD;IAED;;IAEG;IACH,IAAA,QAAA,CAAA,SAAA,CAAA,UAAU,GAAV,YAAA;YACE,OAAO,IAAI,CAAC,QAAQ,CAAC;SACtB,CAAA;IAED;;IAEG;IACH,IAAA,QAAA,CAAA,SAAA,CAAA,UAAU,GAAV,UAAY,KAAa,EAAE,MAAc,EAAA;IACvC,QAAA,MAAA,CAAA,SAAA,CAAM,UAAU,CAAC,IAAA,CAAA,IAAA,EAAA,KAAK,EAAE,MAAM,CAAC,CAAC;YAEhC,IAAI,CAAC,IAAI,CAAC,aAAa;gBAAE,OAAO;IAChC,QAAA,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,KAAK,CAAC;IACjC,QAAA,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,MAAM,CAAC;SACpC,CAAA;IAED;;IAEG;IACH,IAAA,QAAA,CAAA,SAAA,CAAA,iBAAiB,GAAjB,YAAA;YACE,IAAI,CAAC,IAAI,CAAC,QAAQ;gBAAE,OAAO;YAC3B,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACtD,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;YAC/C,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;YAEjD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACzD,OAAO;gBACL,MAAM,EAAE,IAAI,CAAC,aAAa;gBAC1B,OAAO,EAAE,IAAI,CAAC,aAAa;aAC5B,CAAA;SACF,CAAA;IAED;;IAEG;QACH,QAAS,CAAA,SAAA,CAAA,SAAA,GAAT,UAAW,OAAuB,EAAA;IAChC,QAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC5B,QAAA,OAAO,IAAI,CAAC;SACb,CAAA;IAED;;IAEG;IACH,IAAA,QAAA,CAAA,SAAA,CAAA,SAAS,GAAT,YAAA;;YACE,IAAI,CAAC,IAAI,CAAC,QAAQ;gBAAE,OAAO;YAE3B,IAAM,QAAQ,GAAG,CAAA,EAAA,GAAA,IAAI,CAAC,aAAa,MAAI,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,IAAI,CAAC,QAAQ,CAAC;IACrD,QAAA,IAAI,CAAC,QAAQ;gBAAE,OAAO;IAEtB,QAAA,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAEpE,QAAA,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,MAAM,EAAA,EAAI,OAAA,MAAM,CAAC,QAAQ,CAAC,CAAhB,EAAgB,CAAC,CAAC;IAElD,QAAA,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACvC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IACzE,YAAA,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;IAClD,SAAA;SACF,CAAA;IAED;;IAEG;IACH,IAAA,QAAA,CAAA,SAAA,CAAA,OAAO,GAAP,YAAA;IACE,QAAA,IAAM,aAAa,GAAG,UACpB,MAAyB,EACzB,GAAoC,EAAA;IAEpC,YAAA,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;IACjB,YAAA,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;IAClB,YAAA,GAAG,KAAH,IAAA,IAAA,GAAG,KAAH,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,GAAG,CAAE,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,YAAA,MAAM,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IAClC,SAAC,CAAC;YAEF,IAAI,IAAI,CAAC,QAAQ;gBAAE,aAAa,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC/D,IAAI,IAAI,CAAC,aAAa;gBAAE,aAAa,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;IAE9E,QAAA,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IAEnB,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACrB,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACrB,QAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC1B,QAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;SAC3B,CAAA;QACH,OAAC,QAAA,CAAA;IAAD,CA/GA,CAAuB,MAAM,CA+G5B,CAAA;;ICnHD,IAAA,WAAA,kBAAA,UAAA,MAAA,EAAA;QAA0B,SAAM,CAAA,WAAA,EAAA,MAAA,CAAA,CAAA;IAW9B,IAAA,SAAA,WAAA,CAAa,KAAc,EAAE,MAAe,EAAE,YAA2C,EAAA;IAA3C,QAAA,IAAA,YAAA,KAAA,KAAA,CAAA,EAAA,EAAA,YAA2C,GAAA,EAAA,CAAA,EAAA;YAAzF,IAKC,KAAA,GAAA,IAAA,CAAA;YAJyB,YAAY,CAAjB,MAAA,CAAkB;IACrC,QAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAK,EAAE,MAAM,EAAE,YAAY,CAAC,IAAA,IAAA,CAAA;IAZpC;;IAEG;YACK,KAAQ,CAAA,QAAA,GAAiC,IAAI,CAAC;IAEtD;;IAEG;YACK,KAAQ,CAAA,QAAA,GAAwB,EAAE,CAAC;YAMzC,IAAI,KAAI,CAAC,QAAQ;gBAAE,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;;SACtE;IAED;;IAEG;IACH,IAAA,WAAA,CAAA,SAAA,CAAA,UAAU,GAAV,YAAA;YACE,OAAO,IAAI,CAAC,QAAQ,CAAC;SACtB,CAAA;IAED;;IAEG;QACH,WAAS,CAAA,SAAA,CAAA,SAAA,GAAT,UAAW,OAA0B,EAAA;IACnC,QAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC5B,QAAA,OAAO,IAAI,CAAC;SACb,CAAA;IAED;;IAEG;IACH,IAAA,WAAA,CAAA,SAAA,CAAA,SAAS,GAAT,YAAA;YACE,IAAI,CAAC,IAAI,CAAC,QAAQ;gBAAE,OAAO;IAE3B,QAAA,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC/B,QAAA,IAAI,CAAC,QAAQ;gBAAE,OAAO;;IAItB,QAAA,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,MAAM,EAAA,EAAI,OAAA,MAAM,CAAC,QAAQ,CAAC,CAAhB,EAAgB,CAAC,CAAC;SACnD,CAAA;IAED;;IAEG;IACH,IAAA,WAAA,CAAA,SAAA,CAAA,OAAO,GAAP,YAAA;IACE,QAAA,IAAM,aAAa,GAAG,UACpB,MAAyB,EACzB,GAAiC,EAAA;IAEjC,YAAA,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;IACjB,YAAA,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;;IAElB,YAAA,MAAM,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IAClC,SAAC,CAAC;YAEF,IAAI,IAAI,CAAC,QAAQ;gBAAE,aAAa,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IAE/D,QAAA,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IAEnB,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACrB,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACtB,CAAA;QACH,OAAC,WAAA,CAAA;IAAD,CApEA,CAA0B,MAAM,CAoE/B,CAAA;;ICxED;IACA,IAAM,gBAAgB,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IACxC;IACA,IAAM,oBAAoB,GAAgB;IACxC,IAAA,QAAQ,EAAE,KAAK;IACf,IAAA,GAAG,EAAE,CAAC;IACN,IAAA,GAAG,EAAE,GAAG;IACR,IAAA,MAAM,EAAE,QAAQ;KACjB,CAAC;IAEF,IAAA,eAAA,kBAAA,YAAA;QAqHE,SAAY,eAAA,CAAA,OAA0B,EAAE,OAAoC,EAAA;IAApC,QAAA,IAAA,OAAA,KAAA,KAAA,CAAA,EAAA,EAAA,OAAoC,GAAA,EAAA,CAAA,EAAA;IApH5E;;IAEG;YACK,IAAU,CAAA,UAAA,GAA0B,IAAI,CAAC;IAEjD;;IAEG;YACK,IAAa,CAAA,aAAA,GAAsB,IAAI,CAAC;IAEhD;;IAEG;YACK,IAAc,CAAA,cAAA,GAAsB,IAAI,CAAC;IAEjD;;IAEG;YACK,IAAQ,CAAA,QAAA,GAAW,CAAC,CAAC;IAE7B;;IAEG;YACK,IAAO,CAAA,OAAA,GAAW,CAAC,CAAC;IAO5B;;IAEG;IACK,QAAA,IAAA,CAAA,KAAK,GAAoC,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;IAEtE;;IAEG;YACK,IAAO,CAAA,OAAA,GAAY,IAAI,CAAC;IAEhC;;IAEE;YACM,IAAQ,CAAA,QAAA,GAAY,IAAI,CAAC;IAEjC;;;IAGG;YACK,IAAU,CAAA,UAAA,GAA0B,QAAQ,CAAC;IAErD;;IAEG;YACK,IAAI,CAAA,IAAA,GAAW,CAAC,CAAC;IAEzB;;IAEG;YACK,IAAM,CAAA,MAAA,GAAY,KAAK,CAAC;IAOhC;;IAEG;IACK,QAAA,IAAA,CAAA,SAAS,GAAqB;IACpC,YAAA,oBAAoB,CAAC,GAAG;IACxB,YAAA,oBAAoB,CAAC,GAAG;aACzB,CAAC;IAyBF;;IAEG;YACK,IAAO,CAAA,OAAA,GAIT,EAAE,CAAC;IAET;;IAEG;YACK,IAAU,CAAA,UAAA,GAA2B,EAAE,CAAC;IAEhD;;IAEG;YACK,IAAM,CAAA,MAAA,GAA6B,IAAI,CAAC;;IAI9C,QAAA,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;;YAGd,IAAA,EAAA,GAAmC,OAAO,CAAZ,sBAAA,EAA9B,sBAAsB,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,KAAK,KAAA,CAAa;YACnD,IAAI,CAAC,gBAAgB,GAAG,sBAAsB;IAC5C,cAAE,CAAC;kBACD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;;IAGvC,QAAA,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;;IAGzB,QAAA,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;;YAG1B,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;IAED;;IAEG;QACK,eAAU,CAAA,SAAA,CAAA,UAAA,GAAlB,UAAmB,OAA+B,EAAA;YAAlD,IA8BC,KAAA,GAAA,IAAA,CAAA;YA7BC,IAAI,CAAC,IAAI,CAAC,MAAM;gBAAE,OAAO;IAEvB,QAAA,IAAA,EAGE,GAAA,OAAO,CAHwB,KAAA,EAA1B,MAAM,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAA,EAAA,EACjC,EAEE,GAAA,OAAO,CAF2B,MAAA,EAA5B,OAAO,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAA,EAAA,EACpC,SAAS,GACP,OAAO,UADA,CACC;;IAEZ,QAAA,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IAC7C,QAAA,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;IAE/C,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;IACpB,YAAA,IAAM,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;IAC1C,YAAA,IAAI,CAAC,UAAU;oBAAE,OAAO;;gBAGxB,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAChD,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;IAC5D,YAAA,IAAI,SAAS;oBAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBACxD,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,GAAG,EAAA,CAAA,MAAA,CAAG,KAAK,EAAA,IAAA,CAAI,CAAC;gBAC3C,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,GAAG,EAAA,CAAA,MAAA,CAAG,MAAM,EAAA,IAAA,CAAI,CAAC;gBAC7C,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACtD,YAAA,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACrC,SAAA;IAAM,aAAA;gBACL,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,GAAG,EAAA,CAAA,MAAA,CAAG,KAAK,EAAA,IAAA,CAAI,CAAC;gBAC3C,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,GAAG,EAAA,CAAA,MAAA,CAAG,MAAM,EAAA,IAAA,CAAI,CAAC;IAC7C,YAAA,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAC,EAAU,EAAA;IAAR,gBAAA,IAAA,MAAM,GAAA,EAAA,CAAA,MAAA,CAAA;IAC5B,gBAAA,MAAM,CAAC,UAAU,CAAC,KAAK,GAAG,KAAI,CAAC,gBAAgB,EAAE,MAAM,GAAG,KAAI,CAAC,gBAAgB,CAAC,CAAC;IACnF,aAAC,CAAC,CAAA;IACH,SAAA;SACF,CAAA;IAED;;IAEG;QACK,eAAW,CAAA,SAAA,CAAA,WAAA,GAAnB,UAAoB,OAA+B,EAAA;;YACjD,IAAI,CAAC,IAAI,CAAC,UAAU;gBAAE,OAAO;YACvB,IAAA,EAAA,GAA+C,IAAI,CAAC,UAAU,EAA/C,KAAK,GAAA,EAAA,CAAA,WAAA,EAAgB,MAAM,GAAA,EAAA,CAAA,YAAoB,CAAC;YAGnE,IAAA,IAAI,GAIF,OAAO,CAJL,IAAA,EACJ,EAGE,GAAA,OAAO,CAHE,IAAA,EAAX,IAAI,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAI,GAAA,EAAA,EACX,KAAK,GAEH,OAAO,CAFJ,KAAA,EACL,EACE,GAAA,OAAO,CADK,OAAA,EAAd,OAAO,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAI,GAAA,EAAA,CACJ;;IAEZ,QAAA,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,MAAM,GAAG,CAAC,EAAE,CAAC;;IAErD,QAAA,IAAI,CAAC,cAAc,GAAA,QAAA,CAAA,EAAA,EAAQ,IAAI,CAAC,aAAa,CAAE,CAAC;;IAGhD,QAAA,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;;YAGjB,IAAA,EAAA,GAA6D,IAAI,KAAK,IAAI;IAC9E,cAAE,oBAAoB;kBACpB,OAAO,IAAI,KAAK,QAAQ,GAAG,IAAI,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,EAFhD,EAAA,GAAA,EAAA,CAAA,QAAgB,EAAhB,QAAQ,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,KAAK,GAAA,EAAA,EAAE,WAAO,EAAP,GAAG,mBAAG,CAAC,GAAA,EAAA,EAAE,EAAS,GAAA,EAAA,CAAA,GAAA,EAAT,GAAG,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,GAAG,KAAA,EAAE,EAAA,GAAA,EAAA,CAAA,MAAiB,EAAjB,MAAM,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,QAAQ,GAAA,EAEP,CAAA;;IAExD,QAAA,IAAI,CAAC,QAAQ,GAAG,CAAC,QAAQ,CAAC;;YAE1B,IAAI,CAAC,SAAS,GAAG,GAAG,GAAG,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;;IAE/D,QAAA,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;;YAGnB,IAAA,EAAA,GAA2D,IAAI,IAAI,EAAE,EAAnE,YAAkB,EAAZ,QAAQ,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,CAAC,GAAA,EAAA,EAAE,WAAgB,EAAX,OAAO,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,CAAC,GAAA,EAAA,EAAE,EAAc,GAAA,EAAA,CAAA,MAAA,EAAd,MAAM,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,KAAK,GAAA,EAAe,CAAC;;IAE5E,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;;IAEjD,QAAA,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;;IAE/C,QAAA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;;IAGrB,QAAA,IAAI,KAAK;gBAAE,IAAI,CAAC,KAAK,GAAG;IACtB,gBAAA,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAA,EAAA,GAAA,KAAK,CAAC,CAAC,CAAC,MAAI,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,QAAQ,CAAC;IACrC,gBAAA,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAA,EAAA,GAAA,KAAK,CAAC,CAAC,CAAC,MAAI,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,QAAQ,CAAC;iBACvC,CAAC;SACH,CAAA;IAED;;IAEG;IACH,IAAA,eAAA,CAAA,SAAA,CAAA,YAAY,GAAZ,UAAa,KAAa,EAAE,MAAc,EAAA;YACxC,IAAI,CAAC,IAAI,CAAC,UAAU;gBAAE,OAAO;YACvB,IAAA,EAAA,GAAgC,IAAI,CAAC,UAAU,EAA7C,WAAW,GAAA,EAAA,CAAA,WAAA,EAAE,YAAY,GAAA,EAAA,CAAA,YAAoB,CAAC;YAChD,IAAA,EAAA,GAAmD,IAAI,CAAC,UAAU,EAAE,EAApD,eAAe,GAAA,EAAA,CAAA,YAAA,EAAE,aAAa,GAAA,EAAA,CAAA,aAAsB,CAAC;YAC3E,IAAI,CAAC,UAAU,CAAC,EAAE,KAAK,EAAA,KAAA,EAAE,MAAM,EAAA,MAAA,EAAE,CAAC,CAAC;YACnC,IAAI,CAAC,aAAa,GAAG;gBACnB,CAAC,EAAE,WAAW,GAAG,CAAC;gBAClB,CAAC,EAAE,YAAY,GAAG,CAAC;aACpB,CAAC;YACF,IAAI,CAAC,cAAc,GAAG;IACpB,YAAA,CAAC,EAAE,aAAa,CAAC,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,eAAe,CAAC,CAAC,CAAC;IAC/D,YAAA,CAAC,EAAE,aAAa,CAAC,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,eAAe,CAAC,CAAC,CAAC;aAChE,CAAA;YACD,IAAI,CAAC,MAAM,EAAE,CAAC;SACf,CAAA;IAED;;IAEG;QACK,eAAQ,CAAA,SAAA,CAAA,QAAA,GAAhB,UACE,OAEqG,EAAA;YAErG,IAAI,CAAC,IAAI,CAAC,UAAU;IAAE,YAAA,MAAM,cAAc,CAAC,2BAA2B,CAAC,CAAC;YAElE,IAAA,EAAA,GAA+C,IAAI,CAAC,UAAU,EAA/C,KAAK,GAAA,EAAA,CAAA,WAAA,EAAgB,MAAM,GAAA,EAAA,CAAA,YAAoB,CAAC;YAC7D,IAAA,IAAI,GAA4C,OAAO,CAAnD,IAAA,EAAE,KAA0C,OAAO,CAAA,MAAvC,EAAV,MAAM,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,CAAC,KAAA,EAAE,SAAS,GAAqB,OAAO,CAA5B,SAAA,EAAK,WAAW,GAAA,MAAA,CAAK,OAAO,EAAzD,CAA+C,MAAA,EAAA,QAAA,EAAA,WAAA,CAAA,CAAF,CAAa;;YAGhE,IAAI,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAC,EAAQ,EAAA;IAAN,YAAA,IAAA,IAAI,GAAA,EAAA,CAAA,IAAA,CAAA;gBAAO,OAAA,IAAI,KAAK,SAAS,CAAA;IAAlB,SAAkB,CAAC,EAAE;IACpE,YAAA,MAAM,IAAI,KAAK,CAAC,sBAAe,SAAS,EAAA,kBAAA,CAAkB,CAAC,CAAA;IAC5D,SAAA;YAED,IAAM,MAAM,GAAG,KAAK;IAClB,YAAA,IAAI,EAAE,QAAQ;IACd,YAAA,OAAO,EAAE,WAAW;IACrB,SAAA,CAAC,IAAI,CAAC,EACL,KAAK,GAAG,IAAI,CAAC,gBAAgB,EAC7B,MAAM,GAAG,IAAI,CAAC,gBAAgB,EAAA,QAAA,CAAA,EAE5B,MAAM,EAAE;IACN,gBAAA,KAAK,EAAE,MAAM;IACb,gBAAA,MAAM,EAAE,MAAM;IACd,gBAAA,QAAQ,EAAE,UAAU;iBACrB,EACE,EAAA,WAAW,EAEjB,CAAC;IAEF,QAAA,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;YAC9C,IAAI,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAC,KAAK,IAAK,OAAA,KAAK,CAAC,MAAM,GAAG,MAAM,CAArB,EAAqB,CAAC,CAAC;YAC3E,IAAI,WAAW,KAAK,CAAC,CAAC;IAAE,YAAA,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAA;IAEzD,QAAA,IAAM,OAAO,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;IACpC,QAAA,IAAI,CAAC,OAAO;IAAE,YAAA,MAAM,cAAc,CAAC,yBAAyB,CAAC,CAAC;IAE9D,QAAA,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,OAAO,EAAE,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC;YAC/D,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE,MAAM,EAAA,MAAA,EAAE,MAAM,EAAA,MAAA,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;IAEzE,QAAA,OAAO,MAAM,CAAC;SACf,CAAA;IAED;;IAEG;IACH,IAAA,eAAA,CAAA,SAAA,CAAA,UAAU,GAAV,UACE,OAAuB,EACvB,OAAwF,EAAA;IAAxF,QAAA,IAAA,OAAA,KAAA,KAAA,CAAA,EAAA,EAAA,OAAwF,GAAA,EAAA,CAAA,EAAA;IAExF,QAAA,IAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAA,QAAA,CAAA,EAC1B,IAAI,EAAE,IAAI,EAAA,EACP,OAAO,CAAA,CACE,CAAC;YAEf,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,CAAC;IAEtC,QAAA,OAAO,MAAM,CAAC;SACf,CAAA;IAED;;IAEG;IACH,IAAA,eAAA,CAAA,SAAA,CAAA,aAAa,GAAb,UACE,OAA0B,EAC1B,OAA2F,EAAA;IAA3F,QAAA,IAAA,OAAA,KAAA,KAAA,CAAA,EAAA,EAAA,OAA2F,GAAA,EAAA,CAAA,EAAA;IAE3F,QAAA,IAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAA,QAAA,CAAA,EAC1B,IAAI,EAAE,OAAO,EAAA,EACV,OAAO,CAAA,CACK,CAAC;YAElB,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,CAAC;IAEtC,QAAA,OAAO,MAAM,CAAC;SACf,CAAA;IAED;;IAEG;QACH,eAAQ,CAAA,SAAA,CAAA,QAAA,GAAR,UAAU,GAAW,EAAA;;YACnB,OAAO,CAAA,EAAA,GAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAC,EAAQ,EAAA;IAAN,YAAA,IAAA,IAAI,GAAA,EAAA,CAAA,IAAA,CAAA;gBAAO,OAAA,IAAI,KAAK,GAAG,CAAA;aAAA,CAAC,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,MAAM,CAAC;SAC9D,CAAA;IAED;;IAEG;QACH,eAAW,CAAA,SAAA,CAAA,WAAA,GAAX,UAAa,MAAuC,EAAA;;YAClD,IAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAC,EAAgB,EAAA;oBAAd,IAAI,GAAA,EAAA,CAAA,IAAA,EAAE,MAAM,GAAA,EAAA,CAAA,MAAA,CAAA;gBAClD,OAAA,OAAO,MAAM,KAAK,QAAQ;sBACtB,IAAI,KAAK,MAAM;sBACf,MAAM,KAAK,MAAM,CAAA;IAFrB,SAEqB,CACtB,CAAC;YACF,IAAI,KAAK,KAAK,CAAC,CAAC;gBAAE,OAAO;YAEzB,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC;IAC1C,QAAA,IAAM,UAAU,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;YACvC,MAAM,CAAC,OAAO,EAAE,CAAC;IACjB,QAAA,CAAA,EAAA,GAAA,UAAU,KAAA,IAAA,IAAV,UAAU,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAV,UAAU,CAAE,UAAU,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,WAAW,CAAC,UAAU,CAAC,CAAC;YAChD,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SAC/B,CAAA;IAED;;IAEG;IACH,IAAA,eAAA,CAAA,SAAA,CAAA,UAAU,GAAV,YAAA;;IACQ,QAAA,IAAA,EAA+C,GAAA,CAAA,EAAA,GAAA,IAAI,CAAC,UAAU,MAAI,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA;IACtE,YAAA,WAAW,EAAE,CAAC;IACd,YAAA,YAAY,EAAE,CAAC;IAChB,SAAA,EAHoB,KAAK,GAAA,EAAA,CAAA,WAAA,EAAgB,MAAM,kBAG/C,CAAC;YACF,OAAO;IACL,YAAA,KAAK,EAAE,KAAK,GAAG,IAAI,CAAC,gBAAgB;IACpC,YAAA,MAAM,EAAE,MAAM,GAAG,IAAI,CAAC,gBAAgB;gBACtC,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;gBACvC,QAAQ,EAAE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,IAAI;gBAC3D,OAAO,EAAE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,IAAI;gBACzD,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,SAAS,EAAE,IAAI,CAAC,SAAS;IACzB,YAAA,YAAY,EAAE,CAAA,EAAA,GAAA,IAAI,CAAC,aAAa,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,QAAA,CAAA,EAAA,EAAS,gBAAgB,CAAE;IAC3D,YAAA,aAAa,EAAE,CAAA,EAAA,GAAA,IAAI,CAAC,cAAc,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,QAAA,CAAA,EAAA,EAAS,gBAAgB,CAAE;aAC9D,CAAA;SACF,CAAA;IAED;;IAEG;QACH,eAAgB,CAAA,SAAA,CAAA,gBAAA,GAAhB,UAAiB,KAAiB,EAAA;IAChC,QAAA,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,MAAM,EAAE,CAAC;SACf,CAAA;IAED;;IAEG;IACK,IAAA,eAAA,CAAA,SAAA,CAAA,aAAa,GAArB,YAAA;YACE,IAAI,CAAC,IAAI,CAAC,UAAU;gBAAE,OAAO;IAE7B,QAAA,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC;IACxC,QAAA,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAC1C,CAAA;IAED;;IAEG;IACH,IAAA,eAAA,CAAA,SAAA,CAAA,oBAAoB,GAApB,UAAqB,CAAS,EAAE,CAAS,EAAA;IACjC,QAAA,IAAA,EAAsC,GAAA,IAAI,CAAC,UAAU,EAAE,EAArD,QAAQ,GAAA,EAAA,CAAA,QAAA,EAAE,OAAO,GAAA,EAAA,CAAA,OAAA,EAAE,YAAY,kBAAsB,CAAC;IAC9D,QAAA,IAAM,IAAI,GAAG,QAAQ,GAAG,OAAO,CAAC;IAChC,QAAA,IAAM,QAAQ,GAAG,QAAQ,GAAG,CAAC,CAAC;;IAG9B,QAAA,IAAM,oBAAoB,GAAG;IAC3B,YAAA,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,CAAC;IACrB,YAAA,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,CAAC;aACtB,CAAC;YAEF,OAAO;IACL,YAAA,IAAI,CAAC,KAAK,CACR,CAAC,oBAAoB,CAAC,CAAC,GAAG,IAAI,CAAC,gBAAgB,GAAG,QAAQ,IAAI,IAAI,CACnE;IACD,YAAA,IAAI,CAAC,KAAK,CACR,CAAC,oBAAoB,CAAC,CAAC,GAAG,IAAI,CAAC,gBAAgB,GAAG,QAAQ,IAAI,IAAI,CACnE;aACO,CAAC;SACZ,CAAA;IAED;;IAEG;IACH,IAAA,eAAA,CAAA,SAAA,CAAA,oBAAoB,GAApB,UACE,CAAS,EACT,CAAS,EACT,aAA8D,EAAA;;IAA9D,QAAA,IAAA,aAAA,KAAA,KAAA,CAAA,EAAA,EAAA,aAAgB,GAAA,CAAA,EAAA,GAAA,IAAI,CAAC,cAAc,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,QAAA,CAAA,EAAA,EAAS,gBAAgB,CAAE,CAAA,EAAA;IAExD,QAAA,IAAA,EAAsC,GAAA,IAAI,CAAC,UAAU,EAAE,EAArD,QAAQ,GAAA,EAAA,CAAA,QAAA,EAAE,OAAO,GAAA,EAAA,CAAA,OAAA,EAAE,YAAY,kBAAsB,CAAC;IAC9D,QAAA,IAAM,IAAI,GAAG,QAAQ,GAAG,OAAO,CAAC;;IAGhC,QAAA,IAAM,aAAa,GAAG;gBACpB,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,IAAI,CAAC,gBAAgB;gBACrC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,IAAI,CAAC,gBAAgB;aACtC,CAAC;;IAGF,QAAA,IAAM,oBAAoB,GAAG;IAC3B,YAAA,CAAC,EAAE,aAAa,CAAC,CAAC,IAAI,YAAY,CAAC,CAAC,GAAG,aAAa,CAAC,CAAC,CAAC;IACvD,YAAA,CAAC,EAAE,aAAa,CAAC,CAAC,IAAI,YAAY,CAAC,CAAC,GAAG,aAAa,CAAC,CAAC,CAAC;aACxD,CAAC;YAEF,OAAO;IACL,YAAA,CAAC,EAAE,oBAAoB,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC;IAC1C,YAAA,CAAC,EAAE,oBAAoB,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC;aAC3C,CAAC;SACH,CAAA;IAED;;;IAGG;QACH,eAAiB,CAAA,SAAA,CAAA,iBAAA,GAAjB,UAAmB,aAA6D,EAAA;;IAA7D,QAAA,IAAA,aAAA,KAAA,KAAA,CAAA,EAAA,EAAA,aAAgB,GAAA,CAAA,EAAA,GAAA,IAAI,CAAC,aAAa,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,QAAA,CAAA,EAAA,EAAS,gBAAgB,CAAE,CAAA,EAAA;YACxE,IAAA,EAAA,GAAwB,IAAI,CAAC,UAAU,EAAE,EAAvC,QAAQ,GAAA,EAAA,CAAA,QAAA,EAAE,OAAO,GAAA,EAAA,CAAA,OAAsB,CAAC;IAChD,QAAA,IAAM,IAAI,GAAG,QAAQ,GAAG,OAAO,CAAC;IAChC,QAAA,IAAM,QAAQ,GAAG,QAAQ,GAAG,CAAC,CAAC;;IAG9B,QAAA,IAAM,YAAY,GAAG;gBACnB,CAAC,EAAE,aAAa,CAAC,CAAC,GAAG,IAAI,CAAC,gBAAgB,GAAG,QAAQ;gBACrD,CAAC,EAAE,aAAa,CAAC,CAAC,GAAG,IAAI,CAAC,gBAAgB,GAAG,QAAQ;aACtD,CAAC;;IAEF,QAAA,IAAM,IAAI,GAAG;gBACX,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,IAAI,CAAC;gBACrC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,IAAI,CAAC;aACvC,CAAC;;IAGF,QAAA,IAAM,kBAAkB,GAAG;gBACzB,CAAC,EAAE,YAAY,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI;gBACpC,CAAC,EAAE,YAAY,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI;aACpC,CAAC;IAEF,QAAA,OAAO,kBAAkB,CAAC;SAC3B,CAAA;IAED;;IAEG;IACK,IAAA,eAAA,CAAA,SAAA,CAAA,MAAM,GAAd,YAAA;YAAA,IAqBC,KAAA,GAAA,IAAA,CAAA;YApBC,IAAM,WAAW,GAAG,UAAC,eAA4B,EAAA;gBAC/C,MAAM,CAAC,qBAAqB,CAAC,YAAA;IAC3B,gBAAA,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAC,EAAU,EAAA;IAAR,oBAAA,IAAA,MAAM,GAAA,EAAA,CAAA,MAAA,CAAA;wBAAO,OAAA,MAAM,CAAC,SAAS,EAAE,CAAA;IAAlB,iBAAkB,CAAC,CAAC;IACzD,gBAAA,IAAI,eAAe;IAAE,oBAAA,eAAe,EAAE,CAAC;IACzC,aAAC,CAAC,CAAA;IACJ,SAAC,CAAC;IACF,QAAA,IAAM,eAAe,GAAG,YAAA;gBACtB,IAAI,KAAI,CAAC,UAAU,EAAE;IACnB,gBAAA,IAAM,IAAI,GAAG,KAAI,CAAC,UAAU,CAAC;IAC7B,gBAAA,KAAI,CAAC,UAAU,GAAG,SAAS,CAAC;IAC5B,gBAAA,IAAI,IAAI;wBAAE,IAAI,CAAC,eAAe,CAAC,CAAC;IACjC,aAAA;IACH,SAAC,CAAC;YACF,IAAM,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;YACzC,IAAI,IAAI,CAAC,aAAa,IAAI,WAAW,GAAG,IAAI,CAAC,aAAa,GAAG,EAAE,EAAE;IAC/D,YAAA,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC;IAC/B,SAAA;IAAM,aAAA;IACL,YAAA,IAAI,CAAC,aAAa,GAAG,WAAW,CAAC;gBACjC,WAAW,CAAC,eAAe,CAAC,CAAC;IAC9B,SAAA;SACF,CAAA;IAED;;IAEG;QACK,eAAU,CAAA,SAAA,CAAA,UAAA,GAAlB,UAAmB,aAAyB,EAAA;YACpC,IAAA,EAAA,GAAyB,IAAI,CAAC,UAAU,EAAE,EAAxC,YAAY,GAAA,EAAA,CAAA,YAAA,EAAE,IAAI,GAAA,EAAA,CAAA,IAAsB,CAAC;YAC3C,IAAA,EAAA,GAA4B,IAAI,CAAC,KAAK,EAArC,UAAU,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,WAAW,GAAA,EAAA,CAAA,CAAA,CAAc,CAAC;IACvC,QAAA,IAAA,EAAoC,GAAA;gBACxC,UAAU,GAAG,CAAC,GAAG,IAAI;gBACrB,WAAW,GAAG,CAAC,GAAG,IAAI;IACvB,SAAA,EAHM,cAAc,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,eAAe,QAGrC,CAAC;YACI,IAAG,IAAI,GAAc,aAAa,CAAA,CAA3B,EAAK,IAAI,GAAK,aAAa,CAAA,CAAlB,CAAmB;;YAGzC,IAAI,IAAI,GAAG,cAAc;gBAAE,IAAI,GAAG,cAAc,CAAC;;YAEjD,IAAI,IAAI,GAAG,CAAC,cAAc,GAAG,YAAY,CAAC,CAAC,GAAG,CAAC;gBAAE,IAAI,GAAG,CAAC,cAAc,GAAG,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC;;YAE7F,IAAI,IAAI,GAAG,eAAe;gBAAE,IAAI,GAAG,eAAe,CAAC;;YAEnD,IAAI,IAAI,GAAG,CAAC,eAAe,GAAG,YAAY,CAAC,CAAC,GAAG,CAAC;gBAAE,IAAI,GAAG,CAAC,eAAe,GAAG,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC;YAE/F,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC;SAC7B,CAAA;IAED;;IAEG;IACH,IAAA,eAAA,CAAA,SAAA,CAAA,UAAU,GAAV,UAAY,OAAe,EAAE,UAAsE,EAAA;YAAnG,IA+CC,KAAA,GAAA,IAAA,CAAA;;IA/C4B,QAAA,IAAA,UAAA,KAAA,KAAA,CAAA,EAAA,EAAA,UAAyB,GAAA,CAAA,EAAA,GAAA,IAAI,CAAC,aAAa,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,QAAA,CAAA,EAAA,EAAS,gBAAgB,CAAE,CAAA,EAAA;YAC3F,IAAA,EAAA,GAA6E,IAAI,CAAC,UAAU,EAAE,CAA5F,CAAA,KAAK,GAAA,EAAA,CAAA,KAAA,CAAA,CAAE,MAAM,GAAA,EAAA,CAAA,MAAA,EAAE,QAAQ,GAAA,EAAA,CAAA,QAAA,CAAE,CAAA,aAAa,GAAA,EAAA,CAAA,aAAA,CAAA,CAAc,EAAA,CAAA,YAAA,CAAA,KAAE,gBAAgB,GAAA,EAAA,CAAA,iBAAuB;YAC/F,IAAA,EAAA,GAA4B,IAAI,CAAC,KAAK,EAArC,UAAU,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,WAAW,GAAA,EAAA,CAAA,CAAA,CAAc,CAAC;IAC7C,QAAA,IAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;;IAGpB,QAAA,IAAA,EAAuB,GAAA;gBAC3B,KAAK,GAAG,UAAU,GAAG,gBAAgB;gBACrC,MAAM,GAAG,WAAW,GAAG,gBAAgB;IACxC,SAAA,EAHM,QAAQ,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,QAAQ,QAGxB,CAAC;YACF,IAAI,CAAC,IAAI,GAAG,OAAO,GAAG,QAAQ,IAAI,OAAO,GAAG,QAAQ;kBAChD,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,QAAQ,CAAC;kBAC5B,OAAO,CAAC;;IAGZ,QAAA,IAAM,WAAW,GAAG;IAClB,YAAA,CAAC,EAAE,aAAa,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC;IACjC,YAAA,CAAC,EAAE,aAAa,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC;aAClC,CAAA;;IAED,QAAA,IAAM,WAAW,GAAG;gBAClB,CAAC,EAAE,WAAW,CAAC,CAAC,GAAG,OAAO,GAAG,IAAI,CAAC,IAAI;gBACtC,CAAC,EAAE,WAAW,CAAC,CAAC,GAAG,OAAO,GAAG,IAAI,CAAC,IAAI;aACvC,CAAA;IAED,QAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC;IACpC,YAAA,CAAC,EAAE,aAAa,CAAC,CAAC,IAAI,WAAW,CAAC,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC;IACpD,YAAA,CAAC,EAAE,aAAa,CAAC,CAAC,IAAI,WAAW,CAAC,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC;IACrD,SAAA,CAAC,CAAA;YAEF,IAAI,CAAC,MAAM,EAAE,CAAC;;YAGd,IAAI,IAAI,CAAC,MAAM,EAAE;gBACf,IAAI,IAAI,CAAC,eAAe;IAAE,gBAAA,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IAC7D,YAAA,IAAI,CAAC,eAAe,GAAG,UAAU,CAAC,YAAA;IACxB,gBAAA,IAAA,aAAa,GAAK,KAAI,CAAC,UAAU,EAAE,cAAtB,CAAuB;IAC5C,gBAAA,IAAM,KAAK,GAAG,KAAI,CAAC,oBAAoB,CACrC,aAAa,CAAC,CAAC,EACf,aAAa,CAAC,CAAC,CAChB,CAAC;oBAEF,KAAI,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC;IAC7D,gBAAA,KAAI,CAAC,eAAe,GAAG,SAAS,CAAC;IACjC,gBAAA,YAAY,CAAC,KAAI,CAAC,eAAe,CAAC,CAAC;iBACpC,EAAE,GAAG,CAAC,CAAC;IACT,SAAA;SACF,CAAA;IAED;;IAEG;IACK,IAAA,eAAA,CAAA,SAAA,CAAA,gBAAgB,GAAxB,YAAA;YAAA,IA6FC,KAAA,GAAA,IAAA,CAAA;;YA3FC,IAAI,OAAO,GAAG,KAAK,CAAC;YACpB,IAAM,YAAY,GAAG,UAAC,IAAqC,EAAA;gBACzD,IAAI,KAAI,CAAC,UAAU;oBAAE,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;IAC3D,SAAC,CAAA;YACD,IAAM,WAAW,GAAG,UAAC,KAAoB,EAAA;IACvC,YAAA,IAAI,OAAO,IAAI,CAAC,KAAI,CAAC,UAAU;oBAAE,OAAO;IACxC,YAAA,OAAO,GAAG,KAAK,CAAC,IAAI,KAAK,OAAO,CAAC;gBACjC,YAAY,CAAC,MAAM,CAAC,CAAC;IACvB,SAAC,CAAC;YACF,IAAM,WAAW,GAAG,UAAC,KAAiB,EAAA;IACpC,YAAA,IAAI,CAAC,OAAO,IAAI,CAAC,KAAI,CAAC,UAAU;oBAAE,OAAO;;IAEzC,YAAA,IAAI,KAAK,CAAC,KAAK,KAAK,CAAC;oBAAE,OAAO;IACtB,YAAA,IAAA,aAAa,GAAK,KAAI,CAAC,UAAU,EAAE,cAAtB,CAAuB;gBAC5C,KAAI,CAAC,gBAAgB,GAAG;IACtB,gBAAA,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,aAAa,CAAC,CAAC;IAClC,gBAAA,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,aAAa,CAAC,CAAC;iBACnC,CAAC;gBAEF,YAAY,CAAC,UAAU,CAAC,CAAC;IAC3B,SAAC,CAAC;YACF,IAAM,iBAAiB,GAAG,UAAC,KAAiB,EAAA;gBAC1C,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,IAAI,CAAC,KAAI,CAAC,UAAU;oBAAE,OAAO;IACrB,YAAA,IAAA,aAAa,GAAK,KAAI,CAAC,UAAU,EAAE,cAAtB,CAAuB;gBAC5C,KAAI,CAAC,gBAAgB,GAAG;IACtB,gBAAA,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,aAAa,CAAC,CAAC;IAClC,gBAAA,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,aAAa,CAAC,CAAC;iBACnC,CAAC;gBACF,YAAY,CAAC,UAAU,CAAC,CAAC;IAC3B,SAAC,CAAC;YACF,IAAM,YAAY,GAAG,UAAC,KAAiB,EAAA;IACrC,YAAA,IAAI,KAAI,CAAC,gBAAgB,KAAK,SAAS;oBAAE,OAAO;IAEhD,YAAA,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,UAAU,CAAC;oBACpC,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,KAAI,CAAC,gBAAgB,CAAC,CAAC;oBAC1C,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,KAAI,CAAC,gBAAgB,CAAC,CAAC;IAC3C,aAAA,CAAC,CAAC;gBAEH,KAAI,CAAC,MAAM,EAAE,CAAC;IAChB,SAAC,CAAC;IACF,QAAA,IAAM,SAAS,GAAG,YAAA;gBAChB,IAAI,CAAC,KAAI,CAAC,UAAU;oBAAE,OAAO;gBACvB,IAAA,EAAA,GAA8B,KAAI,CAAC,UAAU,EAAE,EAA7C,QAAQ,GAAA,EAAA,CAAA,QAAA,EAAE,aAAa,GAAA,EAAA,CAAA,aAAsB,CAAC;gBAEtD,IAAI,KAAI,CAAC,gBAAgB,EAAE;;oBAEzB,IAAI,KAAI,CAAC,MAAM,EAAE;wBACf,IAAI,KAAI,CAAC,eAAe;IAAE,wBAAA,YAAY,CAAC,KAAI,CAAC,eAAe,CAAC,CAAC;IAC7D,oBAAA,IAAM,KAAK,GAAG,KAAI,CAAC,oBAAoB,CACrC,aAAa,CAAC,CAAC,EACf,aAAa,CAAC,CAAC,CAChB,CAAC;wBACF,KAAI,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC;IAC9D,iBAAA;;wBAAM,KAAI,CAAC,MAAM,EAAE,CAAC;IACtB,aAAA;gBAED,OAAO,GAAG,KAAK,CAAC;IAChB,YAAA,KAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;gBAClC,YAAY,CAAC,SAAS,CAAC,CAAC;IAC1B,SAAC,CAAC;IACF,QAAA,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE;IAChC,YAAA,SAAS,EAAE,aAAa;IACxB,YAAA,OAAO,EAAE,iBAAiB;IAC3B,SAAA,CAAC,CAAA;IACF,QAAA,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE;IAChC,YAAA,SAAS,EAAE,SAAS;IACpB,YAAA,OAAO,EAAE,WAAW;IACpB,YAAA,MAAM,EAAE,IAAI;IACb,SAAA,CAAC,CAAC;IACH,QAAA,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE;IAChC,YAAA,SAAS,EAAE,OAAO;IAClB,YAAA,OAAO,EAAE,SAAS;IAClB,YAAA,MAAM,EAAE,IAAI;IACb,SAAA,CAAC,CAAC;IACH,QAAA,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE;IAChC,YAAA,SAAS,EAAE,WAAW;IACtB,YAAA,OAAO,EAAE,WAAW;IACrB,SAAA,CAAC,CAAC;IACH,QAAA,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE;IAChC,YAAA,SAAS,EAAE,WAAW;IACtB,YAAA,OAAO,EAAE,YAAY;IACtB,SAAA,CAAC,CAAC;IACH,QAAA,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE;IAChC,YAAA,SAAS,EAAE,SAAS;IACpB,YAAA,OAAO,EAAE,SAAS;IACnB,SAAA,CAAC,CAAC;IACH,QAAA,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE;IAChC,YAAA,SAAS,EAAE,YAAY;IACvB,YAAA,OAAO,EAAE,SAAS;IACnB,SAAA,CAAC,CAAC;SACJ,CAAA;IAED;;IAEG;IACK,IAAA,eAAA,CAAA,SAAA,CAAA,gBAAgB,GAAxB,YAAA;YAAA,IA2BC,KAAA,GAAA,IAAA,CAAA;IA1BC,QAAA,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE;IAChC,YAAA,SAAS,EAAE,OAAO;gBAClB,OAAO,EAAE,UAAC,KAAK,EAAA;;oBACb,IAAI,KAAI,CAAC,gBAAgB;wBAAE,OAAO;oBAClC,IAAI,KAAI,CAAC,eAAe,EAAE;IACxB,oBAAA,CAAA,EAAA,GAAA,MAAA,KAAI,CAAC,eAAe,EAAC,MAAM,kDAAI,CAAC;IAChC,oBAAA,KAAI,CAAC,eAAe,GAAG,SAAS,CAAC;IAClC,iBAAA;oBACK,IAAA,EAAA,GAAkC,KAAI,CAAC,UAAU,EAAE,EAAjD,YAAY,GAAA,EAAA,CAAA,YAAA,EAAE,aAAa,GAAA,EAAA,CAAA,aAAsB,CAAC;IAClD,gBAAA,IAAA,OAAO,GAAsB,KAAK,CAAA,OAA3B,EAAE,OAAO,GAAa,KAAK,CAAA,OAAlB,EAAE,MAAM,GAAK,KAAK,OAAV,CAAW;oBAC3C,IAAM,KAAK,GAAG,IAAA,CAAA,GAAA,CAAA,KAAK,GAAK,MAAM,GAAG,CAAC,EAAC,CAAC;IACpC,gBAAA,IAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CACtB,IAAI,CAAC,GAAG,CAAC,KAAI,CAAC,IAAI,GAAG,KAAK,EAAE,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAC9C,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAClB,CAAC;IAEF,gBAAA,KAAI,CAAC,UAAU,CACb,OAAO,EACP;IACE,oBAAA,QAAQ,EAAE,YAAY;IACtB,oBAAA,SAAS,EAAE,aAAa;wBACxB,WAAW,EAAE,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,OAAO,EAAE;IACxC,iBAAA,CAAC,KAAI,CAAC,UAAU,CAAC,CACnB,CAAC;iBACH;IACF,SAAA,CAAC,CAAC;SACJ,CAAA;IAED;;IAEG;IACG,IAAA,eAAA,CAAA,SAAA,CAAA,KAAK,GAAX,UAAY,KAAY,EAAE,OAGnB,EAAA;;IAHmB,QAAA,IAAA,OAAA,KAAA,KAAA,CAAA,EAAA,EAAA,OAGnB,GAAA,EAAA,CAAA,EAAA;;;;;;;4BACL,IAAI,CAAC,IAAI,CAAC,OAAO;gCAAE,OAAO,CAAA,CAAA,YAAA,CAAA;4BAC1B,IAAI,IAAI,CAAC,eAAe,EAAE;IACxB,4BAAA,CAAA,EAAA,GAAA,MAAA,IAAI,CAAC,eAAe,EAAC,MAAM,kDAAI,CAAC;IAChC,4BAAA,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;IAClC,yBAAA;IAEO,wBAAA,EAAA,GAAwC,OAAO,CAAA,SAAtB,EAAzB,SAAS,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,aAAa,GAAA,EAAA,EAAE,QAAQ,GAAK,OAAO,CAAA,QAAZ,CAAa;IAClD,wBAAA,EAAA,GAAqD,IAAI,CAAC,UAAU,EAAE,EAApE,QAAQ,GAAA,EAAA,CAAA,QAAA,EAAE,OAAO,GAAA,EAAA,CAAA,OAAA,EAAE,YAAY,GAAA,EAAA,CAAA,YAAA,EAAE,aAAa,mBAAA,CAAuB;4BACvE,UAAU,GAAG,IAAI,CAAC,oBAAoB,CAAA,KAAA,CAAzB,IAAI,EAAA,aAAA,CAAA,aAAA,CAAA,EAAA,EAAyB,KAAK,EAAA,KAAA,CAAA,EAAA,CAAE,YAAY,CAAA,EAAA,KAAA,CAAA,CAAC,CAAC;4BAC/D,gBAAgB,GAAA,QAAA,CAAA,EAAA,EAAQ,aAAa,CAAE,CAAC;IACxC,wBAAA,qBAAqB,GAAG;IAC5B,4BAAA,CAAC,EAAE,UAAU,CAAC,CAAC,GAAG,gBAAgB,CAAC,CAAC;IACpC,4BAAA,CAAC,EAAE,UAAU,CAAC,CAAC,GAAG,gBAAgB,CAAC,CAAC;6BACrC,CAAC;4BACI,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7F,wBAAA,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,gBAAgB,IAAI,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC;4BAC7F,IAAI,GAAG,QAAQ,KAAA,IAAA,IAAR,QAAQ,KAAA,KAAA,CAAA,GAAR,QAAQ,GAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,kBAAkB,GAAG,EAAE,EAAE,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;;4BAG9E,OAAM,CAAA,CAAA,YAAAE,CAAI,CAAC,IAAI,EAAE;IACf,gCAAA,IAAI,EAAE,SAAS;IACf,gCAAA,QAAQ,EAAE,UAAC,OAAO,EAAE,MAAM,EAAA;wCACxB,KAAI,CAAC,cAAc,GAAG;4CACpB,CAAC,EAAE,gBAAgB,CAAC,CAAC,GAAG,qBAAqB,CAAC,CAAC,GAAG,OAAO;4CACzD,CAAC,EAAE,gBAAgB,CAAC,CAAC,GAAG,qBAAqB,CAAC,CAAC,GAAG,OAAO;yCAC1D,CAAC;wCACF,KAAI,CAAC,MAAM,EAAE,CAAC;wCACd,KAAI,CAAC,eAAe,GAAG,EAAE,OAAO,SAAA,EAAE,MAAM,EAAA,MAAA,EAAE,CAAC;qCAC5C;IACF,6BAAA,CAAC,CAAA,CAAA;;;IAVF,wBAAA,EAAA,CAAA,IAAA,EAUE,CAAA;IACF,wBAAA,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;;;;;IAClC,KAAA,CAAA;IAED;;IAEG;IACK,IAAA,eAAA,CAAA,SAAA,CAAA,sBAAsB,GAA9B,UAAoE,IAAkB,EAAE,OAA2B,EAAA;YACzG,IAAA,SAAS,GAA2D,OAAO,CAAA,SAAlE,EAAE,OAAO,GAAkD,OAAO,CAAA,OAAzD,EAAW,QAAQ,GAA+B,OAAO,CAAA,OAAtC,EAAE,EAAA,GAA6B,OAAO,CAAA,MAAZ,EAAhB,QAAQ,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,KAAK,GAAA,EAAA,CAAa;IACpF,QAAA,IAAM,cAAc,GAAG,QAAQ,GAAG,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;IAC3D,QAAA,IAAI,CAAC,cAAc;gBAAE,OAAO;YAE5B,IAAM,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,UAAA,QAAQ,EAAA;IACtD,YAAA,OAAO,QAAQ,CAAC,SAAS,KAAK,SAAS;uBAClC,QAAQ,CAAC,OAAO,KAAK,OAAO;IAC5B,oBAAC,QAAQ,CAAC,OAAO,KAAK,QAAQ,KAAK,QAAQ,CAAC,OAAO,KAAK,SAAS,IAAI,QAAQ,KAAK,SAAS,CAAC,CAAC,CAAC;IACrG,SAAC,CAAC,CAAC;YACH,IAAI,IAAI,KAAK,IAAI,EAAE;gBACjB,IAAI,aAAa,KAAK,CAAC,CAAC;oBAAE,OAAO;IACjC,YAAA,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;IACnB,gBAAA,SAAS,EAAA,SAAA;IACT,gBAAA,OAAO,EAAA,OAAA;IACP,gBAAA,OAAO,EAAE,QAAQ;IACjB,gBAAA,MAAM,EAAE,QAAQ;IACjB,aAAA,CAAC,CAAA;gBACF,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,OAAc,EAAE,QAAQ,CAAC,CAAC;IACtE,SAAA;IAAM,aAAA;gBACL,IAAI,aAAa,KAAK,CAAC,CAAC;oBAAE,OAAO;gBACjC,cAAc,CAAC,mBAAmB,CAAC,SAAS,EAAE,OAAc,EAAE,QAAQ,CAAC,CAAC;gBACxE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;IAC1C,SAAA;SACF,CAAA;IAED;;IAEG;IACH,IAAA,eAAA,CAAA,SAAA,CAAA,EAAE,GAAF,UACE,SAAY,EACZ,OAA4C,EAC5C,OAA2C,EAAA;IAE3C,QAAA,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE,EAAE,SAAS,EAAA,SAAA,EAAE,OAAO,SAAA,EAAE,OAAO,EAAA,OAAA,EAAS,CAAC,CAAC;SAC3E,CAAA;IAED;;IAEG;IACH,IAAA,eAAA,CAAA,SAAA,CAAA,GAAG,GAAH,UACE,SAAY,EACZ,OAA4C,EAC5C,OAA2C,EAAA;IAE3C,QAAA,IAAI,CAAC,sBAAsB,CAAC,KAAK,EAAE;IACjC,YAAA,SAAS,EAAA,SAAA;IACT,YAAA,OAAO,EAAA,OAAA;IACP,YAAA,OAAO,EAAA,OAAA;IACD,SAAA,CAAC,CAAC;SACX,CAAA;IAED;;IAEG;IACH,IAAA,eAAA,CAAA,SAAA,CAAA,OAAO,GAAP,YAAA;YACE,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,MAAM;gBAAE,OAAO;IAE7C,QAAA,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;IAC9C,QAAA,IAAI,CAAC,UAAU;gBAAE,OAAO;;IAGxB,QAAA,IAAM,SAAS,GAAO,aAAA,CAAA,EAAA,EAAA,IAAI,CAAC,UAAU,OAAC,CAAC;YACvC,OAAM,SAAS,CAAC,MAAM,EAAE;IACtB,YAAA,IAAM,QAAQ,GAAG,SAAS,CAAC,GAAG,EAAE,CAAC;IACjC,YAAA,IAAI,QAAQ;IAAE,gBAAA,IAAI,CAAC,sBAAsB,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IAC5D,SAAA;;IAED,QAAA,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;IAClB,QAAA,OAAM,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;gBACzB,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;IAClC,YAAA,IAAI,CAAC,MAAM;oBAAE,SAAS;IAEd,YAAA,IAAA,MAAM,GAAK,MAAM,CAAA,MAAX,CAAY;IAC1B,YAAA,IAAM,OAAO,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;gBACpC,MAAM,CAAC,OAAO,EAAE,CAAC;IACjB,YAAA,IAAI,OAAO;IAAE,gBAAA,UAAU,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IAC9C,SAAA;;YAGD,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IACtD,QAAA,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;;IAGxC,QAAA,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;IAClC,QAAA,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;IAC/B,QAAA,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACpB,QAAA,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACpB,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACrB,QAAA,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;IAC3B,QAAA,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;IACjB,QAAA,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;IAClB,QAAA,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;YACd,IAAI,CAAC,SAAS,GAAG;IACf,YAAA,oBAAoB,CAAC,GAAG;IACxB,YAAA,oBAAoB,CAAC,GAAG;aACzB,CAAC;;IAGF,QAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC1B,QAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;IAC3B,QAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACnB,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SACxB,CAAA;QACH,OAAC,eAAA,CAAA;IAAD,CAAC,EAAA,CAAA;;ICj2BD;;IAEG;AACH,wBAAA,CAAe,UAAC,GAA6B,EAAA,EAAK,OAAA,UAChD,UAAiB,EACjB,QAAe,EAAA;QAEf,GAAG,CAAC,SAAS,EAAE,CAAC;IAChB,IAAA,GAAG,CAAC,MAAM,CAAA,KAAA,CAAV,GAAG,EAAW,UAAU,CAAE,CAAA;IAC1B,IAAA,GAAG,CAAC,MAAM,CAAA,KAAA,CAAV,GAAG,EAAW,QAAQ,CAAE,CAAA;QACxB,GAAG,CAAC,MAAM,EAAE,CAAC;IACf,CAAC,CAAA,EAAA;;ICTD;;IAEG;AACH,wBAAe,CAAA,UAAC,GAA6B,EAAE,aAAgC,EAAA;QAC7E,OAAA,UAAC,CAAS,EAAE,CAAS,EAAE,CAAS,EAAE,CAAS,EAAE,MAAkB,EAAA;IAAlB,QAAA,IAAA,MAAA,KAAA,KAAA,CAAA,EAAA,EAAA,MAAkB,GAAA,CAAA,CAAA,EAAA;YACvD,IAAA,EAAA,GAA+B,aAAa,CAAC;IACjD,YAAA,IAAI,EAAE,CAAC;IACP,YAAA,GAAG,EAAE,CAAC;IACN,YAAA,KAAK,EAAE,CAAC;IACR,YAAA,MAAM,EAAE,CAAC;IACV,SAAA,CAAC,EALM,IAAI,GAAA,EAAA,CAAA,IAAA,EAAE,GAAG,GAAA,EAAA,CAAA,GAAA,EAAE,KAAK,GAAA,EAAA,CAAA,KAAA,EAAE,MAAM,GAAA,EAAA,CAAA,MAK9B,CAAC;IACH,QAAA,IAAM,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,CAAC;YACtC,IAAI,CAAC,GAAG,CAAC,EAAE;gBACT,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;gBACvC,OAAO;IACR,SAAA;YACD,GAAG,CAAC,SAAS,EAAE,CAAC;YAChB,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;YAC1B,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,KAAK,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;YAClC,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,EAAE,GAAG,EAAE,IAAI,GAAG,KAAK,EAAE,GAAG,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC;IACjE,QAAA,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,KAAK,EAAE,GAAG,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC;YAC3C,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,EAAE,GAAG,GAAG,MAAM,EAAE,IAAI,GAAG,KAAK,GAAG,CAAC,EAAE,GAAG,GAAG,MAAM,EAAE,MAAM,CAAC,CAAC;YACnF,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,EAAE,GAAG,GAAG,MAAM,CAAC,CAAC;YACnC,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,GAAG,GAAG,MAAM,EAAE,IAAI,EAAE,GAAG,GAAG,MAAM,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC;YACnE,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;IAC1B,QAAA,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,GAAG,CAAC,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC;YACjD,GAAG,CAAC,SAAS,EAAE,CAAC;YAChB,GAAG,CAAC,IAAI,EAAE,CAAC;SACZ,CAAA;IAxBD,CAwBC;;IC5BH;;IAEG;AACH,wBAAe,CAAA,UAAC,GAA6B,EAAE,aAAgC,EAAA;IAC7E,IAAA,OAAA,UAAC,IAAY,EAAE,CAAS,EAAE,CAAS,EAAA;YACjC,IAAM,OAAO,GAAG,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAChC,IAAA,EAAA,GAAgB,aAAa,CAAC;IAClC,YAAA,IAAI,EAAE,CAAC;IACP,YAAA,GAAG,EAAE,CAAC;gBACN,KAAK,EAAE,OAAO,CAAC,KAAK;IACpB,YAAA,MAAM,EAAE,OAAO,CAAC,uBAAuB,GAAG,OAAO,CAAC,wBAAwB;IAC3E,SAAA,CAAC,EALM,IAAI,GAAA,EAAA,CAAA,IAAA,EAAE,GAAG,SAKf,CAAC;YACH,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;SAC/B,CAAA;IATD,CASC;;ICbH;;IAEG;AACH,yBAAe,CAAA,UAAC,GAA6B,EAAE,aAAgC,EAAA;QAC7E,OAAA,UACE,KAAuB,EACvB,CAAS,EACT,CAAS,EACT,CAAU,EACV,CAAU,EAAA;YAEJ,IAAA,EAAA,GAA+B,aAAa,CAAC;IACjD,YAAA,IAAI,EAAE,CAAC;IACP,YAAA,GAAG,EAAE,CAAC;gBACN,KAAK,EAAE,CAAC,KAAD,IAAA,IAAA,CAAC,cAAD,CAAC,GAAI,KAAK,CAAC,KAAK;gBACvB,MAAM,EAAE,CAAC,KAAD,IAAA,IAAA,CAAC,cAAD,CAAC,GAAI,KAAK,CAAC,MAAM;IAC1B,SAAA,CAAC,EALM,IAAI,GAAA,EAAA,CAAA,IAAA,EAAE,GAAG,GAAA,EAAA,CAAA,GAAA,EAAE,KAAK,GAAA,EAAA,CAAA,KAAA,EAAE,MAAM,GAAA,EAAA,CAAA,MAK9B,CAAC;IACH,QAAA,GAAG,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;SAChD,CAAA;IAdD,CAcC;;ICVH;IACO,IAAM,WAAW,GAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAEtD;;IAEG;IACI,IAAM,eAAe,GAAG,CAAC,YAAA;IAC9B;;IAEG;QACH,IAAM,oBAAoB,GAAG,UAAC,KAAS,EAAA;IAAT,QAAA,IAAA,KAAA,KAAA,KAAA,CAAA,EAAA,EAAA,KAAS,GAAA,CAAA,CAAA,EAAA;YAAK,OAAA,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,CAAA;IAAvB,KAAuB,CAAC;QAEpE,OAAO;YACL,MAAM,EAAE,UAAC,CAAS,EAAE,CAAS,EAAK,EAAA,OAAA,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAW,CAAA,EAAA;YAC9D,QAAQ,EAAE,UAAC,KAAa,EAAA;IACtB,YAAA,IAAM,MAAM,GAAG,oBAAoB,CAAC,KAAK,CAAC,CAAC;gBAC3C,OAAO;IACL,gBAAA,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;IAChB,gBAAA,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;IAChB,gBAAA,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;IACjB,gBAAA,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;IAChB,gBAAA,CAAC,EAAE,CAAC;iBACK,CAAC;aACb;YACD,OAAO,EAAE,UAAC,CAAS,EAAE,CAAS,EAAK,EAAA,OAAA,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAW,CAAA,EAAA;IAC/D,QAAA,MAAM,EAAE,UAAC,CAAkB,EAAE,CAAkB,EAAA;IAAtC,YAAA,IAAA,CAAA,KAAA,KAAA,CAAA,EAAA,EAAA,CAAkB,GAAA,KAAA,CAAA,EAAA;IAAE,YAAA,IAAA,CAAA,KAAA,KAAA,CAAA,EAAA,EAAA,CAAkB,GAAA,KAAA,CAAA,EAAA;;;gBAG7C,OAAO;oBACL,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;oBACV,CAAC;oBACD,CAAC;oBACD,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;oBACV,CAAC;oBACD,CAAC;iBACQ,CAAC;aACb;IACD,QAAA,MAAM,EAAE,UAAC,MAAc,EAAE,MAAc,EAAA;IACrC,YAAA,IAAM,OAAO,GAAG,oBAAoB,CAAC,MAAM,CAAC,CAAC;IAC7C,YAAA,IAAM,OAAO,GAAG,oBAAoB,CAAC,MAAM,CAAC,CAAC;gBAC7C,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAW,CAAC;aACrE;SACF,CAAA;IACH,CAAC,GAAG,CAAC;IAEL;;IAEG;IACI,IAAM,uBAAuB,GAAG,UAAC,CAAS,EAAE,CAAS,EAAA;;;QAG1D,OAAO;IACL,QAAA,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACzB,QAAA,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACzB,QAAA,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACzB,QAAA,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACzB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAChC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SACvB,CAAC;IACd,CAAC,CAAC;IAEF;;;IAGG;IACI,IAAM,yBAAyB,GAAG,UAAC,QAAkB,EAAA;IAC1D,IAAA,OAAO,QAAQ,CAAC,MAAM,CAAC,UAAC,MAAM,EAAE,IAAI,EAAA;IAClC,QAAA,OAAO,uBAAuB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAA;SAC7C,EAAE,WAAW,CAAC,CAAC;IAClB,CAAC;;ICZD;IACA,IAAM,yBAAyB,GAAG;IAChC,IAAA,OAAO,EAAE,MAAM;IACf,IAAA,OAAO,EAAE,KAAK;IACd,IAAA,MAAM,EAAE,CAAC;IACT,IAAA,MAAM,EAAE,CAAC;IACT,IAAA,KAAK,EAAE,KAAK;IACZ,IAAA,KAAK,EAAE,KAAK;IACZ,IAAA,KAAK,EAAE,CAAC;IACR,IAAA,KAAK,EAAE,CAAC;IACR,IAAA,KAAK,EAAE,CAAC;KACT,CAAC;IAEF,IAAM,UAAU,GAAG,UAAC,GAAe,EAAA;IACjC,IAAA,IAAI,CAAC,GAAG;IAAE,QAAA,MAAM,cAAc,CAAC,kBAAkB,CAAC,CAAC;IAEnD;;IAEG;QACH,IAAM,cAAc,GAAG,UAAC,WAAyB,EAAA;;IAE/C,QAAA,GAAG,CAAC,YAAY,GAAG,SAAS,CAAC;YAE7B,IAAI,WAAW,KAAK,SAAS;gBAAE,OAAO;;IAEtC,QAAA,IAAI,OAAO,WAAW,KAAK,UAAU,EAAE;gBACrC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACjB,OAAO;IACR,SAAA;;YAED,IAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAyB,CAAC;IAE9D,QAAA,IAAI,CAAC,OAAO,CAAC,UAAC,GAAG,EAAA;IACf,YAAA,IAAM,KAAK,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC;gBAC/B,IAAI,KAAK,KAAK,SAAS;oBAAE,OAAO;IAC1B,YAAA,IAAA,EAAwB,GAAA,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAA1C,IAAI,GAAA,EAAA,CAAA,CAAA,CAAA,EAAK,UAAU,cAAuB,CAAC;IAClD,YAAA,QAAQ,GAAG;IACT,gBAAA,KAAK,SAAS,CAAC;IACf,gBAAA,KAAK,SAAS,CAAC;IACf,gBAAA,KAAK,QAAQ,CAAC;IACd,gBAAA,KAAK,QAAQ,CAAC;IACd,gBAAA,KAAK,OAAO,CAAC;IACb,gBAAA,KAAK,OAAO,CAAC;IACb,gBAAA,KAAK,OAAO,CAAC;IACb,gBAAA,KAAK,OAAO,CAAC;IACb,gBAAA,KAAK,OAAO;wBACV,MAAM;IACR,gBAAA,KAAK,UAAU;IACb,oBAAA,GAAG,CAAC,IAAI,GAAG,EAAA,CAAA,MAAA,CAAG,KAAK,EAAA,KAAA,CAAA,CAAA,MAAA,CAAM,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAE,CAAC;wBAC/C,MAAM;IACR,gBAAA,KAAK,YAAY;wBACf,GAAG,CAAC,IAAI,GAAG,EAAA,CAAA,MAAA,CAAG,IAAI,EAAK,KAAA,CAAA,CAAA,MAAA,CAAA,KAAK,OAAG,CAAC;wBAChC,MAAM;IACR,gBAAA,KAAK,UAAU;IACb,oBAAA,GAAG,CAAC,WAAW,CAAC,KAA0C,CAAC,CAAC;wBAC5D,MAAM;IACR,gBAAA,KAAK,SAAS;IACZ,oBAAA,GAAG,CAAC,WAAW,GAAG,KAAe,CAAC;wBAClC,MAAM;;oBAER,SAAS,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;IAC3B,aAAA;IACH,SAAC,CAAC,CAAC;IACL,KAAC,CAAC;IAEF;;;;IAIG;IACH,IAAA,IAAM,iBAAiB,GAAG,UACxB,WAAyB,EACzB,OAOO,EAAA;IAPP,QAAA,IAAA,OAAA,KAAA,KAAA,CAAA,EAAA,EAAA,OAOO,GAAA,EAAA,CAAA,EAAA;YAEC,IAAA,EAAA,GAAqB,OAAO,CAAZ,SAAA,EAAhB,SAAS,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,IAAI,KAAA,CAAa;IAErC;;;;IAIG;IACH,QAAA,IAAM,OAAO,GAAG,UACd,YAAsE,EACtE,WAA6B,EAAA;IAA7B,YAAA,IAAA,WAAA,KAAA,KAAA,CAAA,EAAA,EAAA,WAA6B,GAAA,EAAA,CAAA,EAAA;IAE7B,YAAA,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;IACrC,iBAAA,MAAM,CAAiC,UAAC,MAAM,EAAE,GAAG,EAAA;IAClD,gBAAA,IAAI,yBAAyB,CAAC,GAAG,CAAC,KAAK,SAAS;IAAE,oBAAA,OAAO,MAAM,CAAC;oBAChE,IAAI,WAAW,CAAC,GAAG,CAAC,KAAK,yBAAyB,CAAC,GAAG,CAAC;IAAE,oBAAA,OAAO,MAAM,CAAC;oBACvE,MAAM,CAAC,GAAG,CAAC,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC;IAC/B,gBAAA,OAAO,MAAM,CAAC;iBACf,EAAE,EAAE,CAAC,CAAC;gBAET,IAAM,aAAa,GAAG,UAAC,eAAgC,EAAA;oBACrD,IAAI,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,KAAK,CAAC;IAAE,oBAAA,OAAO,eAAe,CAAC;IACxD,gBAAA,IAAA,GAAG,GAA0B,eAAe,IAAzC,EAAE,IAAI,GAAoB,eAAe,CAAA,IAAnC,EAAE,KAAK,GAAa,eAAe,CAA5B,KAAA,EAAE,MAAM,GAAK,eAAe,OAApB,CAAqB;IAEnD,gBAAA,IAAA,KASE,SAAS,CAAA,OATK,EAAhB,OAAO,mBAAG,MAAM,GAAA,EAAA,EAChB,EAAA,GAQE,SAAS,CARI,OAAA,EAAf,OAAO,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,KAAK,KAAA,EACf,EAAA,GAOE,SAAS,CAAA,MAPD,EAAV,MAAM,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,CAAC,GAAA,EAAA,EACV,EAME,GAAA,SAAS,CAND,MAAA,EAAV,MAAM,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,CAAC,KAAA,EACV,EAAA,GAKE,SAAS,CALE,KAAA,EAAb,KAAK,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,KAAK,GAAA,EAAA,EACb,EAIE,GAAA,SAAS,MAJE,EAAb,KAAK,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,KAAK,KAAA,EACb,EAAA,GAGE,SAAS,CAHF,KAAA,EAAT,KAAK,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,CAAC,GAAA,EAAA,EACT,KAEE,SAAS,CAAA,KAFF,EAAT,KAAK,mBAAG,CAAC,GAAA,EAAA,EACT,EAAA,GACE,SAAS,CADF,KAAA,EAAT,KAAK,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,CAAC,KAAA,CACG;IACd,gBAAA,IAAM,MAAM,GAAG;IACb,oBAAA,CAAC,EAAE;IACD,wBAAA,MAAM,EAAE,CAAC;4BACT,QAAQ,EAAE,KAAK,GAAG,CAAC;IACnB,wBAAA,OAAO,EAAE,KAAK;IACf,qBAAA,CAAC,OAAO,CAAC;IACV,oBAAA,CAAC,EAAE;IACD,wBAAA,KAAK,EAAE,CAAC;4BACR,QAAQ,EAAE,MAAM,GAAG,CAAC;IACpB,wBAAA,QAAQ,EAAE,MAAM;IACjB,qBAAA,CAAC,OAAO,CAAC;qBACX,CAAA;IACD,gBAAA,IAAM,cAAc,GAAG;;IAErB,oBAAA,eAAe,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC;;IAE/B,oBAAA,eAAe,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC;;IAErC,oBAAA,eAAe,CAAC,MAAM,CAAC,KAAK,CAAC;;IAE7B,oBAAA,eAAe,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC;;IAElC,oBAAA,eAAe,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC;IAClC,oBAAA,eAAe,CAAC,IAAI,CAClB,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAC9B,KAAK,GAAG,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAChC;qBACF,CAAC;oBAEF,GAAG,CAAC,SAAS,CAAb,KAAA,CAAA,GAAG,EAAc,yBAAyB,CAAC,cAAc,CAAC,CAAE,CAAA;oBAE5D,OAAO;wBACL,IAAI,EAAE,MAAM,CAAC,CAAC;wBACd,GAAG,EAAE,MAAM,CAAC,CAAC;IACb,oBAAA,KAAK,EAAA,KAAA;IACL,oBAAA,MAAM,EAAA,MAAA;qBACP,CAAC;IACJ,aAAC,CAAC;gBACF,OAAO,YAAA;oBAAO,IAA2B,IAAA,GAAA,EAAA,CAAA;yBAA3B,IAA2B,EAAA,GAAA,CAAA,EAA3B,EAA2B,GAAA,SAAA,CAAA,MAAA,EAA3B,EAA2B,EAAA,EAAA;wBAA3B,IAA2B,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA,CAAA;;;;IACvC,wBAAA,SAAS,IAAI,GAAG,CAAC,IAAI,EAAE,CAAC;4BACxB,cAAc,CAAC,WAAW,CAAC,CAAC;IAC5B,wBAAA,YAAY,CAAC,GAAG,EAAE,aAAa,CAAC,CAAA,KAAA,CAAA,KAAA,CAAA,EAAI,IAAI,CAAE,CAAA;4BAC1C,IAAI,SAAS,IAAI,CAAC,SAAS;gCAAE,GAAG,CAAC,cAAc,EAAE,CAAC;IAClD,wBAAA,SAAS,IAAI,GAAG,CAAC,OAAO,EAAE,CAAC;IAC3B,wBAAA,OAAA,CAAA,CAAA,aAAO,GAAG,CAAC,CAAA;;;iBACZ,CAAA;IACH,SAAC,CAAA;YAED,OAAO;IACL,YAAA,IAAI,EAAE,OAAO,CAAC,aAAa,EAAE,WAAW,CAAC;IACzC,YAAA,IAAI,EAAE,OAAO,CAAC,aAAa,EAAE,WAAW,CAAC;IACzC,YAAA,IAAI,EAAE,OAAO,CAAC,aAAa,EAAE,WAAW,CAAC;IACzC,YAAA,KAAK,EAAE,OAAO,CAAC,cAAc,EAAE,WAAW,CAAC;aAC5C,CAAC;IACJ,KAAC,CAAC;IAEF,IAAA,OAAA,QAAA,CAAA,EACE,KAAK,EAAE,iBAAiB,EACrB,EAAA,iBAAiB,EAAE,CACvB,CAAA;IACH,CAAC;;ICjPD;;;IAGG;IACH,IAAM,QAAQ,GAAG,UAAC,OAAiB,EAAE,QAAgB,EAAA;IACnD,IAAA,IAAI,OAA2B,CAAC;QAChC,OAAO,YAAA;YACL,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;IAChC,QAAA,IAAI,OAAO,IAAI,IAAI,GAAG,OAAO,GAAG,QAAQ;gBAAE,OAAO;YACjD,OAAO,GAAG,IAAI,CAAC;YAEf,IAAM,KAAK,GAAG,UAAU,CAAC,YAAA;IACvB,YAAA,OAAO,EAAE,CAAC;gBACV,YAAY,CAAC,KAAK,CAAC,CAAC;gBACpB,OAAO,GAAG,SAAS,CAAC;aACrB,EAAE,QAAQ,CAAC,CAAC;IACf,KAAC,CAAA;IACH,CAAC;;;;;;;MCjBqE,CAAU,YAAA;IAAC,IAAA,SAAS1F,CAAT,CAAWoE,CAAX,EAAaoB,CAAb,EAAe;UAACG,QAAQ,CAACC,gBAAT,GAA0BxB,CAAC,CAACwB,gBAAF,CAAmB,QAAnB,EAA4BJ,CAA5B,EAA8B,CAAC,CAA/B,CAA1B,GAA4DpB,CAAC,CAACyB,WAAF,CAAc,QAAd,EAAuBL,CAAvB,CAA5D,CAAA;IAAsF,KAAA;;QAAA,SAASnB,CAAT,CAAWD,CAAX,EAAa;IAACuB,MAAAA,QAAQ,CAACjD,IAAT,GAAc0B,CAAC,EAAf,GAAkBuB,QAAQ,CAACC,gBAAT,GAA0BD,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA6C,SAASjG,CAAT,GAAY;IAACgG,QAAAA,QAAQ,CAACG,mBAAT,CAA6B,kBAA7B,EAAgDnG,CAAhD,CAAA,CAAA;YAAmDyE,CAAC,EAAA,CAAA;WAA9G,CAA1B,GAA6IuB,QAAQ,CAACE,WAAT,CAAqB,oBAArB,EAA0C,SAAS3C,CAAT,GAAY;IAAC,QAAA,IAAG,iBAAeyC,QAAQ,CAACI,UAAxB,IAAoC,UAAA,IAAYJ,QAAQ,CAACI,UAA5D,EAAuEJ,QAAQ,CAACK,WAAT,CAAqB,oBAArB,EAA0C9C,CAA1C,CAAA,EAA6CkB,CAAC,EAA9C,CAAA;IAAiD,OAA/K,CAA/J,CAAA;IAAgV,KAAA;;QAAC,SAAS6B,CAAT,CAAW7B,CAAX,EAAa;IAAC,MAAA,IAAA,CAAKlB,CAAL,GAAOyC,QAAQ,CAACO,aAAT,CAAuB,KAAvB,CAAP,CAAA;IAAqC,MAAA,IAAA,CAAKhD,CAAL,CAAOiD,YAAP,CAAoB,aAApB,EAAkC,MAAlC,CAAA,CAAA;UAA0C,IAAKjD,CAAAA,CAAL,CAAOkD,WAAP,CAAmBT,QAAQ,CAACU,cAAT,CAAwBjC,CAAxB,CAAnB,CAAA,CAAA;IAA+C,MAAA,IAAA,CAAKkC,CAAL,GAAOX,QAAQ,CAACO,aAAT,CAAuB,MAAvB,CAAP,CAAA;IAAsC,MAAA,IAAA,CAAKpF,CAAL,GAAO6E,QAAQ,CAACO,aAAT,CAAuB,MAAvB,CAAP,CAAA;IAAsC,MAAA,IAAA,CAAKK,CAAL,GAAOZ,QAAQ,CAACO,aAAT,CAAuB,MAAvB,CAAP,CAAA;IAAsC,MAAA,IAAA,CAAKM,CAAL,GAAOb,QAAQ,CAACO,aAAT,CAAuB,MAAvB,CAAP,CAAA;UAAsC,IAAKpC,CAAAA,CAAL,GAAO,CAAC,CAAR,CAAA;IAAU,MAAA,IAAA,CAAKwC,CAAL,CAAOG,KAAP,CAAaC,OAAb,GAAqB,8GAArB,CAAA;IAAoI,MAAA,IAAA,CAAK5F,CAAL,CAAO2F,KAAP,CAAaC,OAAb,GAAqB,8GAArB,CAAA;IACx8B,MAAA,IAAA,CAAKF,CAAL,CAAOC,KAAP,CAAaC,OAAb,GAAqB,8GAArB,CAAA;IAAoI,MAAA,IAAA,CAAKH,CAAL,CAAOE,KAAP,CAAaC,OAAb,GAAqB,4EAArB,CAAA;IAAkG,MAAA,IAAA,CAAKJ,CAAL,CAAOF,WAAP,CAAmB,KAAKG,CAAxB,CAAA,CAAA;IAA2B,MAAA,IAAA,CAAKzF,CAAL,CAAOsF,WAAP,CAAmB,KAAKI,CAAxB,CAAA,CAAA;IAA2B,MAAA,IAAA,CAAKtD,CAAL,CAAOkD,WAAP,CAAmB,KAAKE,CAAxB,CAAA,CAAA;IAA2B,MAAA,IAAA,CAAKpD,CAAL,CAAOkD,WAAP,CAAmB,KAAKtF,CAAxB,CAAA,CAAA;IAA2B,KAAA;;IAClV,IAAA,SAAS6F,CAAT,CAAWvC,CAAX,EAAaoB,CAAb,EAAe;UAACpB,CAAC,CAAClB,CAAF,CAAIuD,KAAJ,CAAUC,OAAV,GAAkB,4LAAA,GAA6LlB,CAA7L,GAA+L,GAAjN,CAAA;IAAqN,KAAA;;QAAA,SAASoB,CAAT,CAAWxC,CAAX,EAAa;IAAC,MAAA,IAAIoB,CAAC,GAACpB,CAAC,CAAClB,CAAF,CAAI2D,WAAV;IAAA,UAAsBlH,CAAC,GAAC6F,CAAC,GAAC,GAA1B,CAAA;UAA8BpB,CAAC,CAACoC,CAAF,CAAIC,KAAJ,CAAUK,KAAV,GAAgBnH,CAAC,GAAC,IAAlB,CAAA;IAAuByE,MAAAA,CAAC,CAACtD,CAAF,CAAIiG,UAAJ,GAAepH,CAAf,CAAA;UAAiByE,CAAC,CAACkC,CAAF,CAAIS,UAAJ,GAAe3C,CAAC,CAACkC,CAAF,CAAIU,WAAJ,GAAgB,GAA/B,CAAA;IAAmC,MAAA,OAAO5C,CAAC,CAACN,CAAF,KAAM0B,CAAN,IAASpB,CAAC,CAACN,CAAF,GAAI0B,CAAJ,EAAM,CAAC,CAAhB,IAAmB,CAAC,CAA3B,CAAA;IAA6B,KAAA;;IAAA,IAAA,SAASyB,CAAT,CAAW7C,CAAX,EAAaoB,CAAb,EAAe;IAAC,MAAA,SAAS7F,CAAT,GAAY;YAAC,IAAIyB,CAAC,GAAC8B,CAAN,CAAA;IAAQ0D,QAAAA,CAAC,CAACxF,CAAD,CAAD,IAAM,IAAA,KAAOA,CAAC,CAAC8B,CAAF,CAAIgE,UAAjB,IAA6B1B,CAAC,CAACpE,CAAC,CAAC0C,CAAH,CAA9B,CAAA;IAAoC,OAAA;;UAAA,IAAIZ,CAAC,GAACkB,CAAN,CAAA;IAAQpE,MAAAA,CAAC,CAACoE,CAAC,CAACkC,CAAH,EAAK3G,CAAL,CAAD,CAAA;IAASK,MAAAA,CAAC,CAACoE,CAAC,CAACtD,CAAH,EAAKnB,CAAL,CAAD,CAAA;UAASiH,CAAC,CAACxC,CAAD,CAAD,CAAA;IAAK,KAAA;;IAAC,IAAA,SAAS+C,CAAT,CAAW/C,CAAX,EAAaoB,CAAb,EAAe7F,CAAf,EAAiB;UAAC6F,CAAC,GAACA,CAAC,IAAE,EAAL,CAAA;UAAQ7F,CAAC,GAACA,CAAC,IAAEqF,MAAL,CAAA;UAAY,IAAKoC,CAAAA,MAAL,GAAYhD,CAAZ,CAAA;IAAc,MAAA,IAAA,CAAKqC,KAAL,GAAWjB,CAAC,CAACiB,KAAF,IAAS,QAApB,CAAA;IAA6B,MAAA,IAAA,CAAKY,MAAL,GAAY7B,CAAC,CAAC6B,MAAF,IAAU,QAAtB,CAAA;IAA+B,MAAA,IAAA,CAAKC,OAAL,GAAa9B,CAAC,CAAC8B,OAAF,IAAW,QAAxB,CAAA;UAAiC,IAAKC,CAAAA,OAAL,GAAa5H,CAAb,CAAA;IAAe,KAAA;;QAAA,IAAI6H,CAAC,GAAC,IAAN;YAAWC,CAAC,GAAC,IAAb;YAAkBC,CAAC,GAAC,IAApB;YAAyBC,CAAC,GAAC,IAA3B,CAAA;;QAAgC,SAASC,CAAT,CAAWxD,CAAX,EAAa;UAAC,IAAOqD,KAAAA,CAAP,KAAWI,CAAC,CAACzD,CAAD,CAAD,IAAM,OAAQ0D,CAAAA,IAAR,CAAa9C,MAAM,CAAC+C,SAAP,CAAiBC,MAA9B,CAAN,IAA6C5D,CAAC,GAAC,mDAAA,CAAoD6D,IAApD,CAAyDjD,MAAM,CAAC+C,SAAP,CAAiBG,SAA1E,CAAF,EAAuFT,CAAC,GAAC,CAAC,CAACrD,CAAF,IAAK,GAAI+D,GAAAA,QAAQ,CAAC/D,CAAC,CAAC,CAAD,CAAF,EAAM,EAAN,CAAvJ,IAAkKqD,CAAC,GAAC,CAAC,CAAhL,CAAA,CAAA;IAAmL,MAAA,OAAOA,CAAP,CAAA;IAAS,KAAA;;QAAA,SAASI,CAAT,CAAWzD,CAAX,EAAa;UAAC,IAAOuD,KAAAA,CAAP,KAAWA,CAAC,GAAC,CAAC,CAACvD,CAAC,CAACuB,QAAF,CAAWyC,KAA1B,CAAA,CAAA;IAAiC,MAAA,OAAOT,CAAP,CAAA;IAAS,KAAA;;IACp6B,IAAA,SAASU,CAAT,CAAWjE,CAAX,EAAaoB,CAAb,EAAe;IAAC,MAAA,IAAI7F,CAAC,GAACyE,CAAC,CAACqC,KAAR;IAAA,UAAcvD,CAAC,GAACkB,CAAC,CAACiD,MAAlB,CAAA;;UAAyB,IAAG,IAAA,KAAOK,CAAV,EAAY;IAAC,QAAA,IAAItG,CAAC,GAACuE,QAAQ,CAACO,aAAT,CAAuB,KAAvB,CAAN,CAAA;;YAAoC,IAAG;IAAC9E,UAAAA,CAAC,CAACqF,KAAF,CAAQ6B,IAAR,GAAa,4BAAb,CAAA;IAA0C,SAA9C,CAA8C,OAAMC,CAAN,EAAQ,EAAE;;IAAAb,QAAAA,CAAC,GAAC,EAAKtG,KAAAA,CAAC,CAACqF,KAAF,CAAQ6B,IAAf,CAAA;IAAoB,OAAA;;UAAA,OAAM,CAAC3I,CAAD,EAAGuD,CAAH,EAAKwE,CAAC,GAACtD,CAAC,CAACkD,OAAH,GAAW,EAAjB,EAAoB,OAApB,EAA4B9B,CAA5B,EAA+BgD,IAA/B,CAAoC,GAApC,CAAN,CAAA;IAA+C,KAAA;;QACrNrB,CAAC,CAAClH,SAAF,CAAYwI,IAAZ,GAAiB,UAASrE,CAAT,EAAWoB,CAAX,EAAa;UAAC,IAAI7F,CAAC,GAAC,IAAN;IAAA,UAAWuD,CAAC,GAACkB,CAAC,IAAE,SAAhB;cAA0BhD,CAAC,GAAC,CAA5B;IAAA,UAA8BmH,CAAC,GAAC/C,CAAC,IAAE,GAAnC;IAAA,UAAuCkD,CAAC,GAAE,IAAI5D,IAAJ,EAAD,CAAWC,OAAX,EAAzC,CAAA;IAA8D,MAAA,OAAO,IAAI/C,OAAJ,CAAY,UAAS2G,CAAT,EAAWC,CAAX,EAAa;IAAC,QAAA,IAAGf,CAAC,CAAClI,CAAC,CAAC4H,OAAH,CAAD,IAAc,CAACK,CAAC,CAACjI,CAAC,CAAC4H,OAAH,CAAnB,EAA+B;cAAC,IAAIsB,CAAC,GAAC,IAAI7G,OAAJ,CAAY,UAASmC,CAAT,EAAWvD,CAAX,EAAa;IAAC,YAAA,SAAS0F,CAAT,GAAY;kBAAE,IAAIxB,IAAJ,EAAD,CAAWC,OAAX,KAAqB2D,CAArB,IAAwBH,CAAxB,GAA0B3H,CAAC,CAACkI,KAAK,CAAC,EAAA,GAAGP,CAAH,GAAK,qBAAN,CAAN,CAA3B,GAA+D5I,CAAC,CAAC4H,OAAF,CAAU5B,QAAV,CAAmByC,KAAnB,CAAyBK,IAAzB,CAA8BJ,CAAC,CAAC1I,CAAD,EAAG,GAAA,GAAIA,CAAC,CAACyH,MAAN,GAAa,GAAhB,CAA/B,EAAoDlE,CAApD,EAAuDV,IAAvD,CAA4D,UAASzB,CAAT,EAAW;IAAC,gBAAA,CAAA,IAAGA,CAAC,CAACE,MAAL,GAAYkD,CAAC,EAAb,GAAgBe,UAAU,CAACoB,CAAD,EAAG,EAAH,CAA1B,CAAA;mBAAxE,EAA0G1F,CAA1G,CAA/D,CAAA;IAA4K,aAAA;;gBAAA0F,CAAC,EAAA,CAAA;IAAG,WAAvN,CAAN;kBAA+N3E,CAAC,GAAC,IAAIK,OAAJ,CAAY,UAASmC,CAAT,EAAWvD,CAAX,EAAa;gBAACQ,CAAC,GAAC8D,UAAU,CAAC,YAAU;kBAACtE,CAAC,CAACkI,KAAK,CAAC,EAAA,GAAGP,CAAH,GAAK,qBAAN,CAAN,CAAD,CAAA;iBAAZ,EAAkDA,CAAlD,CAAZ,CAAA;IAAiE,WAA3F,CAAjO,CAAA;cAA8TvG,OAAO,CAAC+G,IAAR,CAAa,CAACpH,CAAD,EAAGkH,CAAH,CAAb,CAAA,CAAoBrG,IAApB,CAAyB,YAAU;gBAAC2C,YAAY,CAAC/D,CAAD,CAAZ,CAAA;gBAChgBuH,CAAC,CAAChJ,CAAD,CAAD,CAAA;IAAK,WADud,EACtdiJ,CADsd,CAAA,CAAA;aAA9V,MAChHvE,CAAC,CAAC,YAAU;IAAC,UAAA,SAASF,CAAT,GAAY;IAAC,YAAA,IAAIzE,CAAJ,CAAA;IAAM,YAAA,IAAGA,CAAC,GAAC,CAAC,CAAD,IAAIsJ,CAAJ,IAAO,CAAC,CAAD,IAAIlF,CAAX,IAAc,CAAC,CAAD,IAAIkF,CAAJ,IAAO,CAAC,CAAD,IAAIzC,CAAzB,IAA4B,CAAC,CAAD,IAAIzC,CAAJ,IAAO,CAAC,CAAD,IAAIyC,CAA5C,EAA8C,CAAC7G,CAAC,GAACsJ,CAAC,IAAElF,CAAH,IAAMkF,CAAC,IAAEzC,CAAT,IAAYzC,CAAC,IAAEyC,CAAlB,MAAuB,IAAOiB,KAAAA,CAAP,KAAW9H,CAAC,GAAC,qCAAsCuI,CAAAA,IAAtC,CAA2CjD,MAAM,CAAC+C,SAAP,CAAiBG,SAA5D,CAAF,EAAyEV,CAAC,GAAC,CAAC,CAAC9H,CAAF,KAAM,GAAIyI,GAAAA,QAAQ,CAACzI,CAAC,CAAC,CAAD,CAAF,EAAM,EAAN,CAAZ,IAAuB,QAAMyI,QAAQ,CAACzI,CAAC,CAAC,CAAD,CAAF,EAAM,EAAN,CAAd,IAAyB,EAAA,IAAIyI,QAAQ,CAACzI,CAAC,CAAC,CAAD,CAAF,EAAM,EAAN,CAAlE,CAAtF,CAAA,EAAoKA,CAAC,GAAC8H,CAAC,KAAGwB,CAAC,IAAE/F,CAAH,IAAMa,CAAC,IAAEb,CAAT,IAAYsD,CAAC,IAAEtD,CAAf,IAAkB+F,CAAC,IAAEC,CAAH,IAAMnF,CAAC,IAAEmF,CAAT,IAAY1C,CAAC,IAAE0C,CAAjC,IAAoCD,CAAC,IAAEE,CAAH,IAAMpF,CAAC,IAAEoF,CAAT,IAAY3C,CAAC,IAAE2C,CAAtD,CAA9L,CAAA,EAAwPxJ,CAAC,GAAC,CAACA,CAA3P,CAAA;gBAA6PA,CAAC,KAAG,IAAOsD,KAAAA,CAAC,CAACkE,UAAT,IAAqBlE,CAAC,CAACkE,UAAF,CAAaiC,WAAb,CAAyBnG,CAAzB,CAArB,EAAiDmC,YAAY,CAAC/D,CAAD,CAA7D,EAAiEuH,CAAC,CAAChJ,CAAD,CAArE,CAAD,CAAA;IAA2E,WAAA;;IAAA,UAAA,SAASiB,CAAT,GAAY;IAAC,YAAA,IAAI,IAAIkE,IAAJ,EAAD,CAAWC,OAAX,EAAqB2D,GAAAA,CAArB,IAAwBH,CAA3B,EAA6B,IAAOvF,KAAAA,CAAC,CAACkE,UAAT,IAAqBlE,CAAC,CAACkE,UAAF,CAAaiC,WAAb,CAAyBnG,CAAzB,CAArB,EAC9c4F,CAAC,CAACE,KAAK,CAAC,EAAA,GAAGP,CAAH,GAAK,qBAAN,CAAN,CAD6c,CAA7B,KACxY;kBAAC,IAAI7I,CAAC,GAACC,CAAC,CAAC4H,OAAF,CAAU5B,QAAV,CAAmByD,MAAzB,CAAA;IAAgC,cAAA,IAAG,CAAC,CAAD,KAAK1J,CAAL,IAAQ,KAAK,CAAL,KAASA,CAApB,EAAsBsJ,CAAC,GAAC1C,CAAC,CAACpD,CAAF,CAAI2D,WAAN,EAAkB/C,CAAC,GAAC/C,CAAC,CAACmC,CAAF,CAAI2D,WAAxB,EAAoCN,CAAC,GAACjD,CAAC,CAACJ,CAAF,CAAI2D,WAA1C,EAAsD1C,CAAC,EAAvD,CAAA;IAA0D/C,cAAAA,CAAC,GAAC8D,UAAU,CAACtE,CAAD,EAAG,EAAH,CAAZ,CAAA;IAAmB,aAAA;IAAC,WAAA;;IAAA,UAAA,IAAI0F,CAAC,GAAC,IAAIL,CAAJ,CAAM/C,CAAN,CAAN;IAAA,cAAenC,CAAC,GAAC,IAAIkF,CAAJ,CAAM/C,CAAN,CAAjB;IAAA,cAA0BI,CAAC,GAAC,IAAI2C,CAAJ,CAAM/C,CAAN,CAA5B;kBAAqC8F,CAAC,GAAC,CAAC,CAAxC;kBAA0ClF,CAAC,GAAC,CAAC,CAA7C;kBAA+CyC,CAAC,GAAC,CAAC,CAAlD;kBAAoDtD,CAAC,GAAC,CAAC,CAAvD;kBAAyDgG,CAAC,GAAC,CAAC,CAA5D;kBAA8DC,CAAC,GAAC,CAAC,CAAjE;IAAA,cAAmElG,CAAC,GAAC2C,QAAQ,CAACO,aAAT,CAAuB,KAAvB,CAArE,CAAA;cAAmGlD,CAAC,CAACqG,GAAF,GAAM,KAAN,CAAA;cAAY1C,CAAC,CAACL,CAAD,EAAG+B,CAAC,CAAC1I,CAAD,EAAG,YAAH,CAAJ,CAAD,CAAA;cAAuBgH,CAAC,CAAC5F,CAAD,EAAGsH,CAAC,CAAC1I,CAAD,EAAG,OAAH,CAAJ,CAAD,CAAA;cAAkBgH,CAAC,CAACrD,CAAD,EAAG+E,CAAC,CAAC1I,CAAD,EAAG,WAAH,CAAJ,CAAD,CAAA;IAAsBqD,UAAAA,CAAC,CAACoD,WAAF,CAAcE,CAAC,CAACpD,CAAhB,CAAA,CAAA;IAAmBF,UAAAA,CAAC,CAACoD,WAAF,CAAcrF,CAAC,CAACmC,CAAhB,CAAA,CAAA;IAAmBF,UAAAA,CAAC,CAACoD,WAAF,CAAc9C,CAAC,CAACJ,CAAhB,CAAA,CAAA;cAAmBvD,CAAC,CAAC4H,OAAF,CAAU5B,QAAV,CAAmBjD,IAAnB,CAAwB0D,WAAxB,CAAoCpD,CAApC,CAAA,CAAA;IAAuCC,UAAAA,CAAC,GAACqD,CAAC,CAACpD,CAAF,CAAI2D,WAAN,CAAA;IAAkBoC,UAAAA,CAAC,GAAClI,CAAC,CAACmC,CAAF,CAAI2D,WAAN,CAAA;IAAkBqC,UAAAA,CAAC,GAAC5F,CAAC,CAACJ,CAAF,CAAI2D,WAAN,CAAA;cAAkBjG,CAAC,EAAA,CAAA;IACnfqG,UAAAA,CAAC,CAACX,CAAD,EAAG,UAAS5G,CAAT,EAAW;IAACsJ,YAAAA,CAAC,GAACtJ,CAAF,CAAA;gBAAIyE,CAAC,EAAA,CAAA;IAAG,WAAvB,CAAD,CAAA;IAA0BwC,UAAAA,CAAC,CAACL,CAAD,EAAG+B,CAAC,CAAC1I,CAAD,EAAG,GAAIA,GAAAA,CAAC,CAACyH,MAAN,GAAa,cAAhB,CAAJ,CAAD,CAAA;IAAsCH,UAAAA,CAAC,CAAClG,CAAD,EAAG,UAASrB,CAAT,EAAW;IAACoE,YAAAA,CAAC,GAACpE,CAAF,CAAA;gBAAIyE,CAAC,EAAA,CAAA;IAAG,WAAvB,CAAD,CAAA;IAA0BwC,UAAAA,CAAC,CAAC5F,CAAD,EAAGsH,CAAC,CAAC1I,CAAD,EAAG,GAAIA,GAAAA,CAAC,CAACyH,MAAN,GAAa,SAAhB,CAAJ,CAAD,CAAA;IAAiCH,UAAAA,CAAC,CAAC3D,CAAD,EAAG,UAAS5D,CAAT,EAAW;IAAC6G,YAAAA,CAAC,GAAC7G,CAAF,CAAA;gBAAIyE,CAAC,EAAA,CAAA;IAAG,WAAvB,CAAD,CAAA;IAA0BwC,UAAAA,CAAC,CAACrD,CAAD,EAAG+E,CAAC,CAAC1I,CAAD,EAAG,GAAIA,GAAAA,CAAC,CAACyH,MAAN,GAAa,aAAhB,CAAJ,CAAD,CAAA;IAAqC,SAF3K,CAAD,CAAA;IAE8K,OAHxF,CAAP,CAAA;SAA7F,CAAA;;QAGwNkC,MAAe,CAAAC,OAAf,GAAepC,CAAxC,CAAA,CAAA;IAA+H,GAPxP,GAAD,CAAA;;;;;ICArE;IACA;IACA;IACA,IAAIqC,eAAJ,CAAA;IACA,MAAMC,KAAK,GAAG,IAAIC,UAAJ,CAAe,EAAf,CAAd,CAAA;IACe,SAASC,GAAT,GAAe;IAC5B;MACA,IAAI,CAACH,eAAL,EAAsB;IACpB;IACAA,IAAAA,eAAe,GAAG,OAAOI,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACJ,eAAxC,IAA2DI,MAAM,CAACJ,eAAP,CAAuBK,IAAvB,CAA4BD,MAA5B,CAA7E,CAAA;;QAEA,IAAI,CAACJ,eAAL,EAAsB;IACpB,MAAA,MAAM,IAAIV,KAAJ,CAAU,0GAAV,CAAN,CAAA;IACD,KAAA;IACF,GAAA;;MAED,OAAOU,eAAe,CAACC,KAAD,CAAtB,CAAA;IACD;;ACjBD,gBAAe,qHAAf;;ICEA,SAASK,QAAT,CAAkBC,IAAlB,EAAwB;MACtB,OAAO,OAAOA,IAAP,KAAgB,QAAhB,IAA4BC,KAAK,CAAClC,IAAN,CAAWiC,IAAX,CAAnC,CAAA;IACD;;ICHD;IACA;IACA;IACA;;IAEA,MAAME,SAAS,GAAG,EAAlB,CAAA;;IAEA,KAAK,IAAInJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,GAApB,EAAyB,EAAEA,CAA3B,EAA8B;IAC5BmJ,EAAAA,SAAS,CAACxG,IAAV,CAAe,CAAC3C,CAAC,GAAG,KAAL,EAAYoJ,QAAZ,CAAqB,EAArB,CAAA,CAAyBlG,KAAzB,CAA+B,CAA/B,CAAf,CAAA,CAAA;IACD,CAAA;;IAEM,SAASmG,eAAT,CAAyBC,GAAzB,EAA8BC,MAAM,GAAG,CAAvC,EAA0C;IAC/C;IACA;IACA,EAAA,OAAO,CAACJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,CAAV,CAAJ,CAAT,GAA6BJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,CAAV,CAAJ,CAAtC,GAA0DJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,CAAV,CAAJ,CAAnE,GAAuFJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,CAAV,CAAJ,CAAhG,GAAoH,GAApH,GAA0HJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,CAAV,CAAJ,CAAnI,GAAuJJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,CAAV,CAAJ,CAAhK,GAAoL,GAApL,GAA0LJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,CAAV,CAAJ,CAAnM,GAAuNJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,CAAV,CAAJ,CAAhO,GAAoP,GAApP,GAA0PJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,CAAV,CAAJ,CAAnQ,GAAuRJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,CAAV,CAAJ,CAAhS,GAAoT,GAApT,GAA0TJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,EAAV,CAAJ,CAAnU,GAAwVJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,EAAV,CAAJ,CAAjW,GAAsXJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,EAAV,CAAJ,CAA/X,GAAoZJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,EAAV,CAAJ,CAA7Z,GAAkbJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,EAAV,CAAJ,CAA3b,GAAgdJ,SAAS,CAACG,GAAG,CAACC,MAAM,GAAG,EAAV,CAAJ,CAA1d,EAA8eC,WAA9e,EAAP,CAAA;IACD;;ICdD,SAASC,KAAT,CAAeR,IAAf,EAAqB;IACnB,EAAA,IAAI,CAACD,QAAQ,CAACC,IAAD,CAAb,EAAqB;QACnB,MAAM1J,SAAS,CAAC,cAAD,CAAf,CAAA;IACD,GAAA;;IAED,EAAA,IAAIiD,CAAJ,CAAA;MACA,MAAM8G,GAAG,GAAG,IAAIV,UAAJ,CAAe,EAAf,CAAZ,CANmB;;MAQnBU,GAAG,CAAC,CAAD,CAAH,GAAS,CAAC9G,CAAC,GAAG6E,QAAQ,CAAC4B,IAAI,CAAC/F,KAAL,CAAW,CAAX,EAAc,CAAd,CAAD,EAAmB,EAAnB,CAAb,MAAyC,EAAlD,CAAA;MACAoG,GAAG,CAAC,CAAD,CAAH,GAAS9G,CAAC,KAAK,EAAN,GAAW,IAApB,CAAA;MACA8G,GAAG,CAAC,CAAD,CAAH,GAAS9G,CAAC,KAAK,CAAN,GAAU,IAAnB,CAAA;MACA8G,GAAG,CAAC,CAAD,CAAH,GAAS9G,CAAC,GAAG,IAAb,CAXmB;;MAanB8G,GAAG,CAAC,CAAD,CAAH,GAAS,CAAC9G,CAAC,GAAG6E,QAAQ,CAAC4B,IAAI,CAAC/F,KAAL,CAAW,CAAX,EAAc,EAAd,CAAD,EAAoB,EAApB,CAAb,MAA0C,CAAnD,CAAA;MACAoG,GAAG,CAAC,CAAD,CAAH,GAAS9G,CAAC,GAAG,IAAb,CAdmB;;MAgBnB8G,GAAG,CAAC,CAAD,CAAH,GAAS,CAAC9G,CAAC,GAAG6E,QAAQ,CAAC4B,IAAI,CAAC/F,KAAL,CAAW,EAAX,EAAe,EAAf,CAAD,EAAqB,EAArB,CAAb,MAA2C,CAApD,CAAA;MACAoG,GAAG,CAAC,CAAD,CAAH,GAAS9G,CAAC,GAAG,IAAb,CAjBmB;;MAmBnB8G,GAAG,CAAC,CAAD,CAAH,GAAS,CAAC9G,CAAC,GAAG6E,QAAQ,CAAC4B,IAAI,CAAC/F,KAAL,CAAW,EAAX,EAAe,EAAf,CAAD,EAAqB,EAArB,CAAb,MAA2C,CAApD,CAAA;MACAoG,GAAG,CAAC,CAAD,CAAH,GAAS9G,CAAC,GAAG,IAAb,CApBmB;IAqBnB;;MAEA8G,GAAG,CAAC,EAAD,CAAH,GAAU,CAAC9G,CAAC,GAAG6E,QAAQ,CAAC4B,IAAI,CAAC/F,KAAL,CAAW,EAAX,EAAe,EAAf,CAAD,EAAqB,EAArB,CAAb,IAAyC,aAAzC,GAAyD,IAAnE,CAAA;MACAoG,GAAG,CAAC,EAAD,CAAH,GAAU9G,CAAC,GAAG,WAAJ,GAAkB,IAA5B,CAAA;MACA8G,GAAG,CAAC,EAAD,CAAH,GAAU9G,CAAC,KAAK,EAAN,GAAW,IAArB,CAAA;MACA8G,GAAG,CAAC,EAAD,CAAH,GAAU9G,CAAC,KAAK,EAAN,GAAW,IAArB,CAAA;MACA8G,GAAG,CAAC,EAAD,CAAH,GAAU9G,CAAC,KAAK,CAAN,GAAU,IAApB,CAAA;IACA8G,EAAAA,GAAG,CAAC,EAAD,CAAH,GAAU9G,CAAC,GAAG,IAAd,CAAA;IACA,EAAA,OAAO8G,GAAP,CAAA;IACD;;IC7BD,SAASI,aAAT,CAAuBC,GAAvB,EAA4B;MAC1BA,GAAG,GAAGC,QAAQ,CAACC,kBAAkB,CAACF,GAAD,CAAnB,CAAd,CAD0B;;MAG1B,MAAMG,KAAK,GAAG,EAAd,CAAA;;IAEA,EAAA,KAAK,IAAI9J,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2J,GAAG,CAACxJ,MAAxB,EAAgC,EAAEH,CAAlC,EAAqC;QACnC8J,KAAK,CAACnH,IAAN,CAAWgH,GAAG,CAACI,UAAJ,CAAe/J,CAAf,CAAX,CAAA,CAAA;IACD,GAAA;;IAED,EAAA,OAAO8J,KAAP,CAAA;IACD,CAAA;;IAEM,MAAME,GAAG,GAAG,sCAAZ,CAAA;IACA,MAAMC,GAAG,GAAG,sCAAZ,CAAA;IACQ,SAASC,GAAT,CAAaC,IAAb,EAAmBC,OAAnB,EAA4BC,QAA5B,EAAsC;MACnD,SAASC,YAAT,CAAsBtJ,KAAtB,EAA6BuJ,SAA7B,EAAwCC,GAAxC,EAA6CjB,MAA7C,EAAqD;IACnD,IAAA,IAAIkB,UAAJ,CAAA;;IAEA,IAAA,IAAI,OAAOzJ,KAAP,KAAiB,QAArB,EAA+B;IAC7BA,MAAAA,KAAK,GAAG0I,aAAa,CAAC1I,KAAD,CAArB,CAAA;IACD,KAAA;;IAED,IAAA,IAAI,OAAOuJ,SAAP,KAAqB,QAAzB,EAAmC;IACjCA,MAAAA,SAAS,GAAGd,KAAK,CAACc,SAAD,CAAjB,CAAA;IACD,KAAA;;QAED,IAAI,CAAC,CAACE,UAAU,GAAGF,SAAd,MAA6B,IAA7B,IAAqCE,UAAU,KAAK,KAAK,CAAzD,GAA6D,KAAK,CAAlE,GAAsEA,UAAU,CAACtK,MAAlF,MAA8F,EAAlG,EAAsG;UACpG,MAAMZ,SAAS,CAAC,kEAAD,CAAf,CAAA;IACD,KAbkD;IAcnD;IACA;;;QAGA,IAAIuK,KAAK,GAAG,IAAIlB,UAAJ,CAAe,EAAK5H,GAAAA,KAAK,CAACb,MAA1B,CAAZ,CAAA;QACA2J,KAAK,CAACY,GAAN,CAAUH,SAAV,CAAA,CAAA;IACAT,IAAAA,KAAK,CAACY,GAAN,CAAU1J,KAAV,EAAiBuJ,SAAS,CAACpK,MAA3B,CAAA,CAAA;IACA2J,IAAAA,KAAK,GAAGO,QAAQ,CAACP,KAAD,CAAhB,CAAA;QACAA,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,GAAW,IAAX,GAAkBM,OAA7B,CAAA;QACAN,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,GAAW,IAAX,GAAkB,IAA7B,CAAA;;IAEA,IAAA,IAAIU,GAAJ,EAAS;UACPjB,MAAM,GAAGA,MAAM,IAAI,CAAnB,CAAA;;UAEA,KAAK,IAAIvJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwB,EAAEA,CAA1B,EAA6B;YAC3BwK,GAAG,CAACjB,MAAM,GAAGvJ,CAAV,CAAH,GAAkB8J,KAAK,CAAC9J,CAAD,CAAvB,CAAA;IACD,OAAA;;IAED,MAAA,OAAOwK,GAAP,CAAA;IACD,KAAA;;QAED,OAAOnB,eAAe,CAACS,KAAD,CAAtB,CAAA;IACD,GArCkD;;;MAwCnD,IAAI;IACFQ,IAAAA,YAAY,CAACH,IAAb,GAAoBA,IAApB,CADE;IAEH,GAFD,CAEE,OAAOQ,GAAP,EAAY,EA1CqC;;;MA6CnDL,YAAY,CAACN,GAAb,GAAmBA,GAAnB,CAAA;MACAM,YAAY,CAACL,GAAb,GAAmBA,GAAnB,CAAA;IACA,EAAA,OAAOK,YAAP,CAAA;IACD;;ICjED;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,SAASM,GAAT,CAAad,KAAb,EAAoB;IAClB,EAAA,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;QAC7B,MAAMe,GAAG,GAAGjB,QAAQ,CAACC,kBAAkB,CAACC,KAAD,CAAnB,CAApB,CAD6B;;IAG7BA,IAAAA,KAAK,GAAG,IAAIlB,UAAJ,CAAeiC,GAAG,CAAC1K,MAAnB,CAAR,CAAA;;IAEA,IAAA,KAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6K,GAAG,CAAC1K,MAAxB,EAAgC,EAAEH,CAAlC,EAAqC;UACnC8J,KAAK,CAAC9J,CAAD,CAAL,GAAW6K,GAAG,CAACd,UAAJ,CAAe/J,CAAf,CAAX,CAAA;IACD,KAAA;IACF,GAAA;;IAED,EAAA,OAAO8K,oBAAoB,CAACC,UAAU,CAACC,YAAY,CAAClB,KAAD,CAAb,EAAsBA,KAAK,CAAC3J,MAAN,GAAe,CAArC,CAAX,CAA3B,CAAA;IACD,CAAA;IACD;IACA;IACA;;;IAGA,SAAS2K,oBAAT,CAA8BG,KAA9B,EAAqC;MACnC,MAAMC,MAAM,GAAG,EAAf,CAAA;IACA,EAAA,MAAMC,QAAQ,GAAGF,KAAK,CAAC9K,MAAN,GAAe,EAAhC,CAAA;MACA,MAAMiL,MAAM,GAAG,kBAAf,CAAA;;IAEA,EAAA,KAAK,IAAIpL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmL,QAApB,EAA8BnL,CAAC,IAAI,CAAnC,EAAsC;IACpC,IAAA,MAAM6F,CAAC,GAAGoF,KAAK,CAACjL,CAAC,IAAI,CAAN,CAAL,KAAkBA,CAAC,GAAG,EAAtB,GAA2B,IAArC,CAAA;QACA,MAAMqL,GAAG,GAAGhE,QAAQ,CAAC+D,MAAM,CAACE,MAAP,CAAczF,CAAC,KAAK,CAAN,GAAU,IAAxB,CAAgCuF,GAAAA,MAAM,CAACE,MAAP,CAAczF,CAAC,GAAG,IAAlB,CAAjC,EAA0D,EAA1D,CAApB,CAAA;QACAqF,MAAM,CAACvI,IAAP,CAAY0I,GAAZ,CAAA,CAAA;IACD,GAAA;;IAED,EAAA,OAAOH,MAAP,CAAA;IACD,CAAA;IACD;IACA;IACA;;;IAGA,SAASK,eAAT,CAAyBC,YAAzB,EAAuC;MACrC,OAAO,CAACA,YAAY,GAAG,EAAf,KAAsB,CAAtB,IAA2B,CAA5B,IAAiC,EAAjC,GAAsC,CAA7C,CAAA;IACD,CAAA;IACD;IACA;IACA;;;IAGA,SAAST,UAAT,CAAoBlF,CAApB,EAAuB4F,GAAvB,EAA4B;IAC1B;MACA5F,CAAC,CAAC4F,GAAG,IAAI,CAAR,CAAD,IAAe,IAAA,IAAQA,GAAG,GAAG,EAA7B,CAAA;MACA5F,CAAC,CAAC0F,eAAe,CAACE,GAAD,CAAf,GAAuB,CAAxB,CAAD,GAA8BA,GAA9B,CAAA;MACA,IAAInI,CAAC,GAAG,UAAR,CAAA;MACA,IAAIzE,CAAC,GAAG,CAAC,SAAT,CAAA;MACA,IAAI6F,CAAC,GAAG,CAAC,UAAT,CAAA;MACA,IAAI9F,CAAC,GAAG,SAAR,CAAA;;IAEA,EAAA,KAAK,IAAIoB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6F,CAAC,CAAC1F,MAAtB,EAA8BH,CAAC,IAAI,EAAnC,EAAuC;QACrC,MAAM0L,IAAI,GAAGpI,CAAb,CAAA;QACA,MAAMqI,IAAI,GAAG9M,CAAb,CAAA;QACA,MAAM+M,IAAI,GAAGlH,CAAb,CAAA;QACA,MAAMmH,IAAI,GAAGjN,CAAb,CAAA;QACA0E,CAAC,GAAGwI,KAAK,CAACxI,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAD,CAAd,EAAmB,CAAnB,EAAsB,CAAC,SAAvB,CAAT,CAAA;QACApB,CAAC,GAAGkN,KAAK,CAAClN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,SAA5B,CAAT,CAAA;QACA0E,CAAC,GAAGoH,KAAK,CAACpH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,SAA3B,CAAT,CAAA;QACAnB,CAAC,GAAGiN,KAAK,CAACjN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,UAA5B,CAAT,CAAA;QACAsD,CAAC,GAAGwI,KAAK,CAACxI,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,CAAvB,EAA0B,CAAC,SAA3B,CAAT,CAAA;QACApB,CAAC,GAAGkN,KAAK,CAAClN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,UAA3B,CAAT,CAAA;QACA0E,CAAC,GAAGoH,KAAK,CAACpH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,UAA5B,CAAT,CAAA;QACAnB,CAAC,GAAGiN,KAAK,CAACjN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,QAA5B,CAAT,CAAA;QACAsD,CAAC,GAAGwI,KAAK,CAACxI,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,CAAvB,EAA0B,UAA1B,CAAT,CAAA;QACApB,CAAC,GAAGkN,KAAK,CAAClN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,UAA5B,CAAT,CAAA;QACA0E,CAAC,GAAGoH,KAAK,CAACpH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,CAAC,KAA7B,CAAT,CAAA;QACAnB,CAAC,GAAGiN,KAAK,CAACjN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,CAAC,UAA7B,CAAT,CAAA;QACAsD,CAAC,GAAGwI,KAAK,CAACxI,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,CAAxB,EAA2B,UAA3B,CAAT,CAAA;QACApB,CAAC,GAAGkN,KAAK,CAAClN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,CAAC,QAA7B,CAAT,CAAA;QACA0E,CAAC,GAAGoH,KAAK,CAACpH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,CAAC,UAA7B,CAAT,CAAA;QACAnB,CAAC,GAAGiN,KAAK,CAACjN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,UAA5B,CAAT,CAAA;QACAsD,CAAC,GAAGyI,KAAK,CAACzI,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,CAAvB,EAA0B,CAAC,SAA3B,CAAT,CAAA;QACApB,CAAC,GAAGmN,KAAK,CAACnN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,CAAvB,EAA0B,CAAC,UAA3B,CAAT,CAAA;QACA0E,CAAC,GAAGqH,KAAK,CAACrH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,SAA5B,CAAT,CAAA;QACAnB,CAAC,GAAGkN,KAAK,CAAClN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAD,CAAd,EAAmB,EAAnB,EAAuB,CAAC,SAAxB,CAAT,CAAA;QACAsD,CAAC,GAAGyI,KAAK,CAACzI,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,CAAvB,EAA0B,CAAC,SAA3B,CAAT,CAAA;QACApB,CAAC,GAAGmN,KAAK,CAACnN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,CAAxB,EAA2B,QAA3B,CAAT,CAAA;QACA0E,CAAC,GAAGqH,KAAK,CAACrH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,CAAC,SAA7B,CAAT,CAAA;QACAnB,CAAC,GAAGkN,KAAK,CAAClN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,SAA5B,CAAT,CAAA;QACAsD,CAAC,GAAGyI,KAAK,CAACzI,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,CAAvB,EAA0B,SAA1B,CAAT,CAAA;QACApB,CAAC,GAAGmN,KAAK,CAACnN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,CAAxB,EAA2B,CAAC,UAA5B,CAAT,CAAA;QACA0E,CAAC,GAAGqH,KAAK,CAACrH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,SAA5B,CAAT,CAAA;QACAnB,CAAC,GAAGkN,KAAK,CAAClN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,UAA3B,CAAT,CAAA;QACAsD,CAAC,GAAGyI,KAAK,CAACzI,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,CAAxB,EAA2B,CAAC,UAA5B,CAAT,CAAA;QACApB,CAAC,GAAGmN,KAAK,CAACnN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,CAAvB,EAA0B,CAAC,QAA3B,CAAT,CAAA;QACA0E,CAAC,GAAGqH,KAAK,CAACrH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,UAA3B,CAAT,CAAA;QACAnB,CAAC,GAAGkN,KAAK,CAAClN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,CAAC,UAA7B,CAAT,CAAA;QACAsD,CAAC,GAAG0I,KAAK,CAAC1I,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,CAAvB,EAA0B,CAAC,MAA3B,CAAT,CAAA;QACApB,CAAC,GAAGoN,KAAK,CAACpN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,UAA5B,CAAT,CAAA;QACA0E,CAAC,GAAGsH,KAAK,CAACtH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,UAA5B,CAAT,CAAA;QACAnB,CAAC,GAAGmN,KAAK,CAACnN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,CAAC,QAA7B,CAAT,CAAA;QACAsD,CAAC,GAAG0I,KAAK,CAAC1I,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,CAAvB,EAA0B,CAAC,UAA3B,CAAT,CAAA;QACApB,CAAC,GAAGoN,KAAK,CAACpN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,UAA3B,CAAT,CAAA;QACA0E,CAAC,GAAGsH,KAAK,CAACtH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,SAA5B,CAAT,CAAA;QACAnB,CAAC,GAAGmN,KAAK,CAACnN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,CAAC,UAA7B,CAAT,CAAA;QACAsD,CAAC,GAAG0I,KAAK,CAAC1I,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,CAAxB,EAA2B,SAA3B,CAAT,CAAA;QACApB,CAAC,GAAGoN,KAAK,CAACpN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAD,CAAd,EAAmB,EAAnB,EAAuB,CAAC,SAAxB,CAAT,CAAA;QACA0E,CAAC,GAAGsH,KAAK,CAACtH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,SAA5B,CAAT,CAAA;QACAnB,CAAC,GAAGmN,KAAK,CAACnN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,QAA3B,CAAT,CAAA;QACAsD,CAAC,GAAG0I,KAAK,CAAC1I,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,CAAvB,EAA0B,CAAC,SAA3B,CAAT,CAAA;QACApB,CAAC,GAAGoN,KAAK,CAACpN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,CAAC,SAA7B,CAAT,CAAA;QACA0E,CAAC,GAAGsH,KAAK,CAACtH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,SAA5B,CAAT,CAAA;QACAnB,CAAC,GAAGmN,KAAK,CAACnN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,SAA5B,CAAT,CAAA;QACAsD,CAAC,GAAG2I,KAAK,CAAC3I,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAD,CAAd,EAAmB,CAAnB,EAAsB,CAAC,SAAvB,CAAT,CAAA;QACApB,CAAC,GAAGqN,KAAK,CAACrN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,UAA3B,CAAT,CAAA;QACA0E,CAAC,GAAGuH,KAAK,CAACvH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,CAAC,UAA7B,CAAT,CAAA;QACAnB,CAAC,GAAGoN,KAAK,CAACpN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,QAA5B,CAAT,CAAA;QACAsD,CAAC,GAAG2I,KAAK,CAAC3I,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,CAAxB,EAA2B,UAA3B,CAAT,CAAA;QACApB,CAAC,GAAGqN,KAAK,CAACrN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,UAA5B,CAAT,CAAA;QACA0E,CAAC,GAAGuH,KAAK,CAACvH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,CAAC,OAA7B,CAAT,CAAA;QACAnB,CAAC,GAAGoN,KAAK,CAACpN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,UAA5B,CAAT,CAAA;QACAsD,CAAC,GAAG2I,KAAK,CAAC3I,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,CAAvB,EAA0B,UAA1B,CAAT,CAAA;QACApB,CAAC,GAAGqN,KAAK,CAACrN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,CAAC,QAA7B,CAAT,CAAA;QACA0E,CAAC,GAAGuH,KAAK,CAACvH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,UAA5B,CAAT,CAAA;QACAnB,CAAC,GAAGoN,KAAK,CAACpN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,UAA5B,CAAT,CAAA;QACAsD,CAAC,GAAG2I,KAAK,CAAC3I,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,EAAaiH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,CAAvB,EAA0B,CAAC,SAA3B,CAAT,CAAA;QACApB,CAAC,GAAGqN,KAAK,CAACrN,CAAD,EAAI0E,CAAJ,EAAOzE,CAAP,EAAU6F,CAAV,EAAamB,CAAC,CAAC7F,CAAC,GAAG,EAAL,CAAd,EAAwB,EAAxB,EAA4B,CAAC,UAA7B,CAAT,CAAA;QACA0E,CAAC,GAAGuH,KAAK,CAACvH,CAAD,EAAI9F,CAAJ,EAAO0E,CAAP,EAAUzE,CAAV,EAAagH,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,SAA3B,CAAT,CAAA;QACAnB,CAAC,GAAGoN,KAAK,CAACpN,CAAD,EAAI6F,CAAJ,EAAO9F,CAAP,EAAU0E,CAAV,EAAauC,CAAC,CAAC7F,CAAC,GAAG,CAAL,CAAd,EAAuB,EAAvB,EAA2B,CAAC,SAA5B,CAAT,CAAA;IACAsD,IAAAA,CAAC,GAAG4I,OAAO,CAAC5I,CAAD,EAAIoI,IAAJ,CAAX,CAAA;IACA7M,IAAAA,CAAC,GAAGqN,OAAO,CAACrN,CAAD,EAAI8M,IAAJ,CAAX,CAAA;IACAjH,IAAAA,CAAC,GAAGwH,OAAO,CAACxH,CAAD,EAAIkH,IAAJ,CAAX,CAAA;IACAhN,IAAAA,CAAC,GAAGsN,OAAO,CAACtN,CAAD,EAAIiN,IAAJ,CAAX,CAAA;IACD,GAAA;;MAED,OAAO,CAACvI,CAAD,EAAIzE,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,CAAP,CAAA;IACD,CAAA;IACD;IACA;IACA;IACA;;;IAGA,SAASoM,YAAT,CAAsBC,KAAtB,EAA6B;IAC3B,EAAA,IAAIA,KAAK,CAAC9K,MAAN,KAAiB,CAArB,EAAwB;IACtB,IAAA,OAAO,EAAP,CAAA;IACD,GAAA;;IAED,EAAA,MAAMgM,OAAO,GAAGlB,KAAK,CAAC9K,MAAN,GAAe,CAA/B,CAAA;MACA,MAAM+K,MAAM,GAAG,IAAIkB,WAAJ,CAAgBb,eAAe,CAACY,OAAD,CAA/B,CAAf,CAAA;;IAEA,EAAA,KAAK,IAAInM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmM,OAApB,EAA6BnM,CAAC,IAAI,CAAlC,EAAqC;IACnCkL,IAAAA,MAAM,CAAClL,CAAC,IAAI,CAAN,CAAN,IAAkB,CAACiL,KAAK,CAACjL,CAAC,GAAG,CAAL,CAAL,GAAe,IAAhB,KAAyBA,CAAC,GAAG,EAA/C,CAAA;IACD,GAAA;;IAED,EAAA,OAAOkL,MAAP,CAAA;IACD,CAAA;IACD;IACA;IACA;IACA;;;IAGA,SAASgB,OAAT,CAAiBrG,CAAjB,EAAoB1D,CAApB,EAAuB;MACrB,MAAMkK,GAAG,GAAG,CAACxG,CAAC,GAAG,MAAL,KAAgB1D,CAAC,GAAG,MAApB,CAAZ,CAAA;IACA,EAAA,MAAMmK,GAAG,GAAG,CAACzG,CAAC,IAAI,EAAN,KAAa1D,CAAC,IAAI,EAAlB,CAAA,IAAyBkK,GAAG,IAAI,EAAhC,CAAZ,CAAA;IACA,EAAA,OAAOC,GAAG,IAAI,EAAP,GAAYD,GAAG,GAAG,MAAzB,CAAA;IACD,CAAA;IACD;IACA;IACA;;;IAGA,SAASE,aAAT,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;IAC/B,EAAA,OAAOD,GAAG,IAAIC,GAAP,GAAaD,GAAG,KAAK,KAAKC,GAAjC,CAAA;IACD,CAAA;IACD;IACA;IACA;;;IAGA,SAASC,MAAT,CAAgBjF,CAAhB,EAAmBnE,CAAnB,EAAsBzE,CAAtB,EAAyBgH,CAAzB,EAA4B9F,CAA5B,EAA+BD,CAA/B,EAAkC;MAChC,OAAOoM,OAAO,CAACK,aAAa,CAACL,OAAO,CAACA,OAAO,CAAC5I,CAAD,EAAImE,CAAJ,CAAR,EAAgByE,OAAO,CAACrG,CAAD,EAAI/F,CAAJ,CAAvB,CAAR,EAAwCC,CAAxC,CAAd,EAA0DlB,CAA1D,CAAd,CAAA;IACD,CAAA;;IAED,SAASiN,KAAT,CAAexI,CAAf,EAAkBzE,CAAlB,EAAqB6F,CAArB,EAAwB9F,CAAxB,EAA2BiH,CAA3B,EAA8B9F,CAA9B,EAAiCD,CAAjC,EAAoC;MAClC,OAAO4M,MAAM,CAAC7N,CAAC,GAAG6F,CAAJ,GAAQ,CAAC7F,CAAD,GAAKD,CAAd,EAAiB0E,CAAjB,EAAoBzE,CAApB,EAAuBgH,CAAvB,EAA0B9F,CAA1B,EAA6BD,CAA7B,CAAb,CAAA;IACD,CAAA;;IAED,SAASiM,KAAT,CAAezI,CAAf,EAAkBzE,CAAlB,EAAqB6F,CAArB,EAAwB9F,CAAxB,EAA2BiH,CAA3B,EAA8B9F,CAA9B,EAAiCD,CAAjC,EAAoC;MAClC,OAAO4M,MAAM,CAAC7N,CAAC,GAAGD,CAAJ,GAAQ8F,CAAC,GAAG,CAAC9F,CAAd,EAAiB0E,CAAjB,EAAoBzE,CAApB,EAAuBgH,CAAvB,EAA0B9F,CAA1B,EAA6BD,CAA7B,CAAb,CAAA;IACD,CAAA;;IAED,SAASkM,KAAT,CAAe1I,CAAf,EAAkBzE,CAAlB,EAAqB6F,CAArB,EAAwB9F,CAAxB,EAA2BiH,CAA3B,EAA8B9F,CAA9B,EAAiCD,CAAjC,EAAoC;IAClC,EAAA,OAAO4M,MAAM,CAAC7N,CAAC,GAAG6F,CAAJ,GAAQ9F,CAAT,EAAY0E,CAAZ,EAAezE,CAAf,EAAkBgH,CAAlB,EAAqB9F,CAArB,EAAwBD,CAAxB,CAAb,CAAA;IACD,CAAA;;IAED,SAASmM,KAAT,CAAe3I,CAAf,EAAkBzE,CAAlB,EAAqB6F,CAArB,EAAwB9F,CAAxB,EAA2BiH,CAA3B,EAA8B9F,CAA9B,EAAiCD,CAAjC,EAAoC;IAClC,EAAA,OAAO4M,MAAM,CAAChI,CAAC,IAAI7F,CAAC,GAAG,CAACD,CAAT,CAAF,EAAe0E,CAAf,EAAkBzE,CAAlB,EAAqBgH,CAArB,EAAwB9F,CAAxB,EAA2BD,CAA3B,CAAb,CAAA;IACD;;IClNUoK,GAAG,CAAC,IAAD,EAAO,IAAP,EAAaU,GAAb;;ICFd,MAAM+B,UAAU,GAAG,OAAO7D,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAAC6D,UAAxC,IAAsD7D,MAAM,CAAC6D,UAAP,CAAkB5D,IAAlB,CAAuBD,MAAvB,CAAzE,CAAA;AACA,iBAAe;IACb6D,EAAAA,UAAAA;IADa,CAAf;;ICGA,SAASC,EAAT,CAAYC,OAAZ,EAAqBrC,GAArB,EAA0BjB,MAA1B,EAAkC;MAChC,IAAIuD,MAAM,CAACH,UAAP,IAAqB,CAACnC,GAAtB,IAA6B,CAACqC,OAAlC,EAA2C;QACzC,OAAOC,MAAM,CAACH,UAAP,EAAP,CAAA;IACD,GAAA;;MAEDE,OAAO,GAAGA,OAAO,IAAI,EAArB,CAAA;IACA,EAAA,MAAME,IAAI,GAAGF,OAAO,CAAChJ,MAAR,IAAkB,CAACgJ,OAAO,CAAChE,GAAR,IAAeA,GAAhB,GAA/B,CANgC;;MAQhCkE,IAAI,CAAC,CAAD,CAAJ,GAAUA,IAAI,CAAC,CAAD,CAAJ,GAAU,IAAV,GAAiB,IAA3B,CAAA;IACAA,EAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUA,IAAI,CAAC,CAAD,CAAJ,GAAU,IAAV,GAAiB,IAA3B,CATgC;;IAWhC,EAAA,IAAIvC,GAAJ,EAAS;QACPjB,MAAM,GAAGA,MAAM,IAAI,CAAnB,CAAA;;QAEA,KAAK,IAAIvJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwB,EAAEA,CAA1B,EAA6B;UAC3BwK,GAAG,CAACjB,MAAM,GAAGvJ,CAAV,CAAH,GAAkB+M,IAAI,CAAC/M,CAAD,CAAtB,CAAA;IACD,KAAA;;IAED,IAAA,OAAOwK,GAAP,CAAA;IACD,GAAA;;MAED,OAAOnB,eAAe,CAAC0D,IAAD,CAAtB,CAAA;IACD;;IC1BD;IACA;IACA,SAAS7K,CAAT,CAAWnC,CAAX,EAAc8F,CAAd,EAAiB1D,CAAjB,EAAoBgG,CAApB,EAAuB;IACrB,EAAA,QAAQpI,CAAR;IACE,IAAA,KAAK,CAAL;IACE,MAAA,OAAO8F,CAAC,GAAG1D,CAAJ,GAAQ,CAAC0D,CAAD,GAAKsC,CAApB,CAAA;;IAEF,IAAA,KAAK,CAAL;IACE,MAAA,OAAOtC,CAAC,GAAG1D,CAAJ,GAAQgG,CAAf,CAAA;;IAEF,IAAA,KAAK,CAAL;UACE,OAAOtC,CAAC,GAAG1D,CAAJ,GAAQ0D,CAAC,GAAGsC,CAAZ,GAAgBhG,CAAC,GAAGgG,CAA3B,CAAA;;IAEF,IAAA,KAAK,CAAL;IACE,MAAA,OAAOtC,CAAC,GAAG1D,CAAJ,GAAQgG,CAAf,CAAA;IAXJ,GAAA;IAaD,CAAA;;IAED,SAAS6E,IAAT,CAAcnH,CAAd,EAAiB5F,CAAjB,EAAoB;IAClB,EAAA,OAAO4F,CAAC,IAAI5F,CAAL,GAAS4F,CAAC,KAAK,KAAK5F,CAA3B,CAAA;IACD,CAAA;;IAED,SAASgN,IAAT,CAAcnD,KAAd,EAAqB;MACnB,MAAMjC,CAAC,GAAG,CAAC,UAAD,EAAa,UAAb,EAAyB,UAAzB,EAAqC,UAArC,CAAV,CAAA;IACA,EAAA,MAAMhB,CAAC,GAAG,CAAC,UAAD,EAAa,UAAb,EAAyB,UAAzB,EAAqC,UAArC,EAAiD,UAAjD,CAAV,CAAA;;IAEA,EAAA,IAAI,OAAOiD,KAAP,KAAiB,QAArB,EAA+B;QAC7B,MAAMe,GAAG,GAAGjB,QAAQ,CAACC,kBAAkB,CAACC,KAAD,CAAnB,CAApB,CAD6B;;IAG7BA,IAAAA,KAAK,GAAG,EAAR,CAAA;;IAEA,IAAA,KAAK,IAAI9J,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6K,GAAG,CAAC1K,MAAxB,EAAgC,EAAEH,CAAlC,EAAqC;UACnC8J,KAAK,CAACnH,IAAN,CAAWkI,GAAG,CAACd,UAAJ,CAAe/J,CAAf,CAAX,CAAA,CAAA;IACD,KAAA;OAPH,MAQO,IAAI,CAACf,KAAK,CAACiO,OAAN,CAAcpD,KAAd,CAAL,EAA2B;IAChC;QACAA,KAAK,GAAG7K,KAAK,CAACE,SAAN,CAAgB+D,KAAhB,CAAsB7D,IAAtB,CAA2ByK,KAA3B,CAAR,CAAA;IACD,GAAA;;MAEDA,KAAK,CAACnH,IAAN,CAAW,IAAX,CAAA,CAAA;MACA,MAAMK,CAAC,GAAG8G,KAAK,CAAC3J,MAAN,GAAe,CAAf,GAAmB,CAA7B,CAAA;MACA,MAAMoH,CAAC,GAAG7D,IAAI,CAACyJ,IAAL,CAAUnK,CAAC,GAAG,EAAd,CAAV,CAAA;IACA,EAAA,MAAM+D,CAAC,GAAG,IAAI9H,KAAJ,CAAUsI,CAAV,CAAV,CAAA;;MAEA,KAAK,IAAIvH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuH,CAApB,EAAuB,EAAEvH,CAAzB,EAA4B;IAC1B,IAAA,MAAMsJ,GAAG,GAAG,IAAI8C,WAAJ,CAAgB,EAAhB,CAAZ,CAAA;;QAEA,KAAK,IAAI1G,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwB,EAAEA,CAA1B,EAA6B;UAC3B4D,GAAG,CAAC5D,CAAD,CAAH,GAASoE,KAAK,CAAC9J,CAAC,GAAG,EAAJ,GAAS0F,CAAC,GAAG,CAAd,CAAL,IAAyB,EAAzB,GAA8BoE,KAAK,CAAC9J,CAAC,GAAG,EAAJ,GAAS0F,CAAC,GAAG,CAAb,GAAiB,CAAlB,CAAL,IAA6B,EAA3D,GAAgEoE,KAAK,CAAC9J,CAAC,GAAG,EAAJ,GAAS0F,CAAC,GAAG,CAAb,GAAiB,CAAlB,CAAL,IAA6B,CAA7F,GAAiGoE,KAAK,CAAC9J,CAAC,GAAG,EAAJ,GAAS0F,CAAC,GAAG,CAAb,GAAiB,CAAlB,CAA/G,CAAA;IACD,KAAA;;IAEDqB,IAAAA,CAAC,CAAC/G,CAAD,CAAD,GAAOsJ,GAAP,CAAA;IACD,GAAA;;MAEDvC,CAAC,CAACQ,CAAC,GAAG,CAAL,CAAD,CAAS,EAAT,CAAA,GAAe,CAACuC,KAAK,CAAC3J,MAAN,GAAe,CAAhB,IAAqB,CAArB,GAAyBuD,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY,EAAZ,CAAxC,CAAA;MACAoD,CAAC,CAACQ,CAAC,GAAG,CAAL,CAAD,CAAS,EAAT,IAAe7D,IAAI,CAACK,KAAL,CAAWgD,CAAC,CAACQ,CAAC,GAAG,CAAL,CAAD,CAAS,EAAT,CAAX,CAAf,CAAA;IACAR,EAAAA,CAAC,CAACQ,CAAC,GAAG,CAAL,CAAD,CAAS,EAAT,CAAA,GAAe,CAACuC,KAAK,CAAC3J,MAAN,GAAe,CAAhB,IAAqB,CAArB,GAAyB,UAAxC,CAAA;;MAEA,KAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuH,CAApB,EAAuB,EAAEvH,CAAzB,EAA4B;IAC1B,IAAA,MAAMoN,CAAC,GAAG,IAAIhB,WAAJ,CAAgB,EAAhB,CAAV,CAAA;;QAEA,KAAK,IAAItM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwB,EAAEA,CAA1B,EAA6B;UAC3BsN,CAAC,CAACtN,CAAD,CAAD,GAAOiH,CAAC,CAAC/G,CAAD,CAAD,CAAKF,CAAL,CAAP,CAAA;IACD,KAAA;;QAED,KAAK,IAAIA,CAAC,GAAG,EAAb,EAAiBA,CAAC,GAAG,EAArB,EAAyB,EAAEA,CAA3B,EAA8B;IAC5BsN,MAAAA,CAAC,CAACtN,CAAD,CAAD,GAAOkN,IAAI,CAACI,CAAC,CAACtN,CAAC,GAAG,CAAL,CAAD,GAAWsN,CAAC,CAACtN,CAAC,GAAG,CAAL,CAAZ,GAAsBsN,CAAC,CAACtN,CAAC,GAAG,EAAL,CAAvB,GAAkCsN,CAAC,CAACtN,CAAC,GAAG,EAAL,CAApC,EAA8C,CAA9C,CAAX,CAAA;IACD,KAAA;;IAED,IAAA,IAAIwD,CAAC,GAAGuD,CAAC,CAAC,CAAD,CAAT,CAAA;IACA,IAAA,IAAIhI,CAAC,GAAGgI,CAAC,CAAC,CAAD,CAAT,CAAA;IACA,IAAA,IAAInC,CAAC,GAAGmC,CAAC,CAAC,CAAD,CAAT,CAAA;IACA,IAAA,IAAIjI,CAAC,GAAGiI,CAAC,CAAC,CAAD,CAAT,CAAA;IACA,IAAA,IAAIvG,CAAC,GAAGuG,CAAC,CAAC,CAAD,CAAT,CAAA;;QAEA,KAAK,IAAI/G,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwB,EAAEA,CAA1B,EAA6B;UAC3B,MAAMC,CAAC,GAAG2D,IAAI,CAACK,KAAL,CAAWjE,CAAC,GAAG,EAAf,CAAV,CAAA;IACA,MAAA,MAAMuN,CAAC,GAAGL,IAAI,CAAC1J,CAAD,EAAI,CAAJ,CAAJ,GAAapB,CAAC,CAACnC,CAAD,EAAIlB,CAAJ,EAAO6F,CAAP,EAAU9F,CAAV,CAAd,GAA6B0B,CAA7B,GAAiCuH,CAAC,CAAC9H,CAAD,CAAlC,GAAwCqN,CAAC,CAACtN,CAAD,CAAzC,KAAiD,CAA3D,CAAA;IACAQ,MAAAA,CAAC,GAAG1B,CAAJ,CAAA;IACAA,MAAAA,CAAC,GAAG8F,CAAJ,CAAA;UACAA,CAAC,GAAGsI,IAAI,CAACnO,CAAD,EAAI,EAAJ,CAAJ,KAAgB,CAApB,CAAA;IACAA,MAAAA,CAAC,GAAGyE,CAAJ,CAAA;IACAA,MAAAA,CAAC,GAAG+J,CAAJ,CAAA;IACD,KAAA;;QAEDxG,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAAD,GAAOvD,CAAP,KAAa,CAApB,CAAA;QACAuD,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAAD,GAAOhI,CAAP,KAAa,CAApB,CAAA;QACAgI,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAAD,GAAOnC,CAAP,KAAa,CAApB,CAAA;QACAmC,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAAD,GAAOjI,CAAP,KAAa,CAApB,CAAA;QACAiI,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAAD,GAAOvG,CAAP,KAAa,CAApB,CAAA;IACD,GAAA;;IAED,EAAA,OAAO,CAACuG,CAAC,CAAC,CAAD,CAAD,IAAQ,EAAR,GAAa,IAAd,EAAoBA,CAAC,CAAC,CAAD,CAAD,IAAQ,EAAR,GAAa,IAAjC,EAAuCA,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAR,GAAY,IAAnD,EAAyDA,CAAC,CAAC,CAAD,CAAD,GAAO,IAAhE,EAAsEA,CAAC,CAAC,CAAD,CAAD,IAAQ,EAAR,GAAa,IAAnF,EAAyFA,CAAC,CAAC,CAAD,CAAD,IAAQ,EAAR,GAAa,IAAtG,EAA4GA,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAR,GAAY,IAAxH,EAA8HA,CAAC,CAAC,CAAD,CAAD,GAAO,IAArI,EAA2IA,CAAC,CAAC,CAAD,CAAD,IAAQ,EAAR,GAAa,IAAxJ,EAA8JA,CAAC,CAAC,CAAD,CAAD,IAAQ,EAAR,GAAa,IAA3K,EAAiLA,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAR,GAAY,IAA7L,EAAmMA,CAAC,CAAC,CAAD,CAAD,GAAO,IAA1M,EAAgNA,CAAC,CAAC,CAAD,CAAD,IAAQ,EAAR,GAAa,IAA7N,EAAmOA,CAAC,CAAC,CAAD,CAAD,IAAQ,EAAR,GAAa,IAAhP,EAAsPA,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAR,GAAY,IAAlQ,EAAwQA,CAAC,CAAC,CAAD,CAAD,GAAO,IAA/Q,EAAqRA,CAAC,CAAC,CAAD,CAAD,IAAQ,EAAR,GAAa,IAAlS,EAAwSA,CAAC,CAAC,CAAD,CAAD,IAAQ,EAAR,GAAa,IAArT,EAA2TA,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAR,GAAY,IAAvU,EAA6UA,CAAC,CAAC,CAAD,CAAD,GAAO,IAApV,CAAP,CAAA;IACD;;IC3FUqD,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa+C,IAAb;;ICGd,IAAM,WAAW,GAAG,aAAA,CAAA,MAAA,CAAchE,EAAI,EAAE,CAAE,CAAC;IAE3C,IAAM,WAAW,GAAW,EAAE,CAAC;IAE/B;;;;IAIG;IACI,IAAM,QAAQ,GAAG,UAAC,IAAU,EAAE,OAAuB,EAAA;;IAAvB,IAAA,IAAA,OAAA,KAAA,KAAA,CAAA,EAAA,EAAA,OAAuB,GAAA,KAAA,CAAA,EAAA;IAClD,IAAA,IAAA,IAAI,GAAK,IAAI,CAAA,IAAT,CAAU;IAEtB,IAAA,IAAI,WAAW,CAAC,IAAI,CAAC,UAAA,IAAI,EAAA,EAAI,OAAA,IAAI,CAAC,IAAI,KAAK,IAAI,CAAA,EAAA,CAAC;YAAE,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpF,IAAA,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAEvB,IAAA,IAAM,aAAa,GAAG,CAAA,EAAA,GAAA,QAAQ,CAAC,aAAa,CAAC,GAAI,CAAA,MAAA,CAAA,WAAW,CAAE,CAAC,mCAAI,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IACnG,IAAA,aAAa,CAAC,EAAE,GAAG,WAAW,CAAC;IAC/B,IAAA,aAAa,CAAC,SAAS,GAAG,WAAW,CAAC,GAAG,CAAC,UAAA,IAAI,EAAA,EAAG,OAAA,kGAAA,CAAA,MAAA,CAI7B,IAAI,CAAC,IAAI,EAAA,uBAAA,CAAA,CAAA,MAAA,CACb,IAAI,CAAC,GAAG,EAAA,gBAAA,CAEvB,CAPgD,EAOhD,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACZ,IAAA,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE;IAC7B,QAAA,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;IACrC,KAAA;IACD,IAAA,OAAO,IAAI,OAAO,CAAS,UAAC,OAAO,EAAE,MAAM,EAAA;YACzC,OAAA,IAAI,gBAAgB,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC;iBAC3C,IAAI,CAAC,YAAM,EAAA,OAAA,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAlB,EAAkB,CAAC;iBAC9B,KAAK,CAAC,MAAM,CAAC,CAAA;IAFhB,KAEgB,CACjB,CAAC;IACJ,CAAC;;IC/BD;;;;;;IAMG;IACH,IAAM,UAAU,GAAG,UAAC,MAAY,EAAE,MAAY,EAAE,aAA8B,EAAA;IAA9B,IAAA,IAAA,aAAA,KAAA,KAAA,CAAA,EAAA,EAAA,aAA8B,GAAA,KAAA,CAAA,EAAA;IAC5E,IAAA,QACE,MAAM,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC;IACrB,QAAA,MAAM,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC;IACrB,QAAA,MAAM,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC;IACrB,SAAC,CAAC,aAAa,IAAI,MAAM,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC,EACzC;IACJ,CAAC;;ICpBD;IACA,IAAM,SAAS,GAAG,UAAC,GAAW,EAAA,EAAK,OAAA,IAAI,OAAO,CAAmB,UAAA,OAAO,EAAA;IACtE,IAAA,IAAM,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;IAC1B,IAAA,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;QAChB,KAAK,CAAC,MAAM,GAAG,YAAA;YACb,OAAO,CAAC,KAAK,CAAC,CAAC;IACjB,KAAC,CAAA;IACH,CAAC,CAAC,CANiC,EAMjC;;ICKF;IACA,IAAM,YAAY,GAAG,UAAO,GAAW,EAAA,EAAA,OAAA,SAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,YAAA;;;;IACvB,YAAA,KAAA,CAAA,EAAA,OAAA,CAAA,CAAA,YAAM,SAAS,CAAC,GAAG,CAAC,CAAA,CAAA;;IAA5B,gBAAA,KAAK,GAAG,EAAoB,CAAA,IAAA,EAAA,CAAA;IAClC,gBAAA,IAAI,CAAC,KAAK;IAAE,oBAAA,OAAA,CAAA,CAAA,aAAO,SAAS,CAAC,CAAA;IAEvB,gBAAA,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IACpD,gBAAA,UAAU,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;IAC/B,gBAAA,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;IAE3B,gBAAA,GAAG,GAAG,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IACxC,gBAAA,IAAI,CAAC,GAAG;IAAE,oBAAA,OAAA,CAAA,CAAA,aAAO,SAAS,CAAC,CAAA;oBAE3B,GAAG,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACb,gBAAA,SAAS,GAAK,GAAG,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,MAAM,CAAC,KAAhE,CAAiE;IAClF,gBAAA,aAAa,GAAG,UAAC,GAAW,EAAE,GAAW,EAAA;IAC7C,oBAAA,IAAM,GAAG,GAAG,CAAC,GAAG,GAAG,KAAK,CAAC,KAAK,GAAG,GAAG,IAAI,CAAC,CAAC;IAC1C,oBAAA,IAAM,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;wBACzB,IAAM,CAAC,GAAG,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;wBAC7B,IAAM,CAAC,GAAG,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;wBAC7B,IAAM,CAAC,GAAG,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;IACnC,oBAAA,OAAO,EAAE,CAAC,EAAA,CAAA,EAAE,CAAC,EAAA,CAAA,EAAE,CAAC,EAAA,CAAA,EAAE,CAAC,EAAA,CAAA,EAAE,CAAC;IACxB,iBAAC,CAAC;oBACI,aAAa,GAAG,UAAC,QAAgB,EAAE,QAAgB,EAAE,MAAc,EAAE,MAAc,EAAA;wBACvF,IAAM,KAAK,GAAa,EAAE,CAAC;IAC3B,oBAAA,IAAI,MAAM,GAAG,QAAQ,IAAI,MAAM,GAAG,MAAM;IAAE,wBAAA,OAAO,KAAK,CAAC;wBACvD,KAAK,IAAI,CAAC,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;IACtC,wBAAA,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC;4BAC9B,KAAK,IAAI,CAAC,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;IACtC,4BAAA,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACpD,yBAAA;IACF,qBAAA;IACD,oBAAA,OAAO,KAAK,CAAC;IACf,iBAAC,CAAC;oBACF,OAAO,CAAA,CAAA,aAAA;IACL,wBAAA,aAAa,EAAA,aAAA;IACb,wBAAA,aAAa,EAAA,aAAA;IACb;;;;;IAKG;IACH,wBAAA,SAAS,EAAE,UAAC,QAAgB,EAAE,QAAgC,EAAA;;IAE5D,4BAAA,IAAM,OAAO,GAAG,UAAC,OAAe,EAAE,OAAe,EAAA;oCAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE;wCACjC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE;IACjC,wCAAA,IAAM,GAAG,GAAG,OAAO,GAAG,QAAQ,GAAG,CAAC,CAAC;IACnC,wCAAA,IAAM,GAAG,GAAG,OAAO,GAAG,QAAQ,GAAG,CAAC,CAAC;IAEnC,wCAAA,QAAQ,CAAC;IACP,4CAAA,CAAC,EAAE,GAAG;IACN,4CAAA,CAAC,EAAE,GAAG;IACN,4CAAA,IAAI,EAAE,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC;IAC7B,4CAAA,IAAI,EAAE,QAAQ,GAAG,CAAC,GAAG,EAAE,CAAC,EAAA,CAAA,EAAE,CAAC,EAAA,CAAA,EAAE,GAAG,SAAS;IAC1C,yCAAA,CAAC,CAAA;IACH,qCAAA;IACF,iCAAA;IACH,6BAAC,CAAA;gCACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,EAAE,CAAC,EAAE,EAAE;oCAC5D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,QAAQ,CAAC,EAAE,CAAC,EAAE,EAAE;IAC3D,oCAAA,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACf,iCAAA;IACF,6BAAA;6BACF;4BACD,KAAK,EAAE,KAAK,CAAC,KAAK;4BAClB,MAAM,EAAE,KAAK,CAAC,MAAM;yBACrB,CAAC,CAAA;;;SACH;;ICjFD;;IAEG;IACH,IAAM,eAAe,GAAG,UACtB,MAAqB,EACrB,SAA4D,EAAA;IAE5D,IAAA,IAAI,MAAM,GAAyC;IACjD,QAAA,KAAK,EAAE,CAAC;IACR,QAAA,KAAK,EAAE,SAAS;SACjB,CAAC;QACF,IAAM,KAAK,GAAgB,EAAE,CAAC;IAC9B,IAAA,IAAM,iBAAiB,GAAG,UAAC,CAAS,EAAE,CAAS,EAAA;YAC7C,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAAE,YAAA,OAAO,CAAC,CAAC;;IAEtC,QAAA,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,SAAS;IAAE,YAAA,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;YAC1C,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;;YAGnB,IAAM,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;YAE3B,IAAI,KAAK,GAAG,CAAC,CAAC;;YAEd,CAAC;IACC,YAAA,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IACV,YAAA,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IACV,YAAA,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IACV,YAAA,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IACX,SAAA,EAAE,OAAO,CAAC,UAAC,EAAkB,EAAA;oBAAjB,OAAO,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,OAAO,GAAA,EAAA,CAAA,CAAA,CAAA,CAAA;IAC3B,YAAA,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC;oBAAE,OAAO;IAC1D,YAAA,IAAI,SAAS,CAAC,KAAK,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE;IAC9C,gBAAA,KAAK,IAAI,iBAAiB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IAC9C,aAAA;IACH,SAAC,CAAC,CAAC;IACH,QAAA,OAAO,KAAK,CAAC;IACf,KAAC,CAAC;IACF,IAAA,MAAM,CAAC,OAAO,CAAC,UAAC,SAAS,EAAE,GAAG,EAAA;IAC5B,QAAA,SAAS,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,GAAG,EAAA;gBAC3B,IAAM,KAAK,GAAG,iBAAiB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAC1C,YAAA,IAAI,KAAK,GAAG,MAAM,CAAC,KAAK;oBAAE,MAAM,GAAG,EAAE,KAAK,EAAA,KAAA,EAAE,KAAK,EAAA,KAAA,EAAE,CAAC;IACtD,SAAC,CAAC,CAAC;IACL,KAAC,CAAC,CAAC;IAEH,IAAA,OAAO,MAAM,CAAC;IAChB,CAAC;;ICtCD;;IAEG;IACH,IAAM,cAAc,GAAG,UACrB,MAAmB,EACnB,MAAyD,EAAA;QAEzD,IAAM,UAAU,GAAG,MAAM,CAAC,MAAM,CAA0B,UAAC,MAAM,EAAE,KAAK,EAAA;YACtE,IAAM,OAAO,GAAG,MAAM,CAAC;YACvB,IAAM,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,UAAC,IAAI,EAAK,EAAA,OAAA,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAA,EAAA,CAAC,CAAC;YACrE,IAAI,KAAK,GAAG,CAAC,CAAC;IAAE,YAAA,OAAO,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC;;IAClC,YAAA,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAA,KAAA,EAAE,CAAC,CAAC;IACvC,QAAA,OAAO,OAAO,CAAC;SAChB,EAAE,EAAE,CAAC,CAAC;IAEP,IAAA,UAAU,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,EAAK,EAAA,OAAA,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAjB,EAAiB,CAAC,CAAC;IAE7C,IAAA,OAAO,UAAU,CAAC;IACpB,CAAC;;ICZD,IAAM,SAAS,GAAG,UAAO,GAAW,EAAE,OAS/B,EAAA;IAT+B,IAAA,IAAA,OAAA,KAAA,KAAA,CAAA,EAAA,EAAA,OAS/B,GAAA,EAAA,CAAA,EAAA;;;;;IACa,gBAAA,KAAA,CAAA,EAAA,OAAA,CAAA,CAAA,YAAM,YAAY,CAAC,GAAG,CAAC,CAAA,CAAA;;IAAnC,oBAAA,SAAS,GAAG,EAAuB,CAAA,IAAA,EAAA,CAAA;wBACzC,IAAI,SAAS,KAAK,SAAS;4BAAE,OAAO,CAAA,CAAA,YAAA,CAAA;IAE9B,oBAAA,gBAAgB,GAAG,UAAC,UAA4B,EAAE,QAAwB,EAAA;4BACtE,IAAA,EAAA,GAA2C,QAAQ,CAAA,IAAhC,EAAnB,IAAI,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,YAAY,GAAA,EAAA,EAAE,EAAsB,GAAA,QAAQ,CAAtB,IAAA,EAAR,IAAI,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,CAAC,GAAA,EAAA,EAAE,EAAY,GAAA,QAAQ,CAAb,GAAA,EAAP,GAAG,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,CAAC,GAAA,EAAA,CAAc;IACpD,wBAAA,IAAA,aAAa,GAA+B,UAAU,cAAzC,EAAE,SAAS,GAAoB,UAAU,CAAA,SAA9B,EAAE,KAAK,GAAa,UAAU,CAAvB,KAAA,EAAE,MAAM,GAAK,UAAU,OAAf,CAAgB;4BAE/D,IAAM,MAAM,GAAgB,EAAE,CAAC;IAE/B,wBAAA,IAAM,cAAc,GAAG;;IAErB,4BAAA,UAAU,EAAE,YAAA;oCACV,IAAI,MAAM,GAAW,EAAE,CAAC;IACxB,gCAAA,SAAS,CAAC,IAAI,GAAG,GAAG,EAAE,UAAC,EAAoB,EAAA;4CAAlB,CAAC,GAAA,EAAA,CAAA,CAAA,EAAE,CAAC,GAAA,EAAA,CAAA,CAAA,EAAE,IAAI,GAAA,EAAA,CAAA,IAAA,EAAE,IAAI,GAAA,EAAA,CAAA,IAAA,CAAA;IACvC,oCAAA,IAAI,IAAI,IAAI,IAAI,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,CAAC,KAAK,CAAC;4CAAE,MAAM,GAAG,EAAE,CAAC;IACtD,oCAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAClB,oCAAA,IAAM,SAAS,GAAG,IAAI,GAAG,CAAC,CAAC;;IAE3B,oCAAA,IAAI,IAAI,IAAI,IAAI,CAAC,CAAC,KAAK,SAAS,IAAI,IAAI,CAAC,CAAC,KAAK,SAAS,EAAE;4CACxD,IAAM,UAAU,GAAG,cAAc,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;IACtD,wCAAA,IAAI,UAAU,CAAC,MAAM,KAAK,CAAC;gDAAE,OAAO;IACpC,wCAAA,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAA;4CACvB,IAAM,YAAY,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;4CACzC,MAAM,CAAC,IAAI,CAAC;gDACV,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;gDACzB,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;IACzB,4CAAA,IAAI,EAAE,YAAY;IACnB,yCAAA,CAAC,CAAC;IACJ,qCAAA;IACH,iCAAC,CAAC,CAAA;iCACH;;IAED,4BAAA,WAAW,EAAE,YAAA;IACX,gCAAA,SAAS,CAAC,IAAI,GAAG,GAAG,EAAE,UAAC,EAAoB,EAAA;4CAAlB,CAAC,GAAA,EAAA,CAAA,CAAA,EAAE,CAAC,GAAA,EAAA,CAAA,CAAA,EAAE,IAAI,GAAA,EAAA,CAAA,IAAA,EAAE,IAAI,GAAA,EAAA,CAAA,IAAA,CAAA;IACvC,oCAAA,IAAI,IAAI,CAAC,CAAC,KAAK,CAAC;4CAAE,OAAO;IACzB,oCAAA,IAAI,IAAI,IAAI,IAAI,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,CAAC,KAAK,CAAC,EAAE;4CACxC,MAAM,CAAC,IAAI,CAAC;gDACV,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;gDACzB,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;IACzB,4CAAA,IAAI,EAAE,IAAI;IACX,yCAAA,CAAC,CAAC;IACJ,qCAAA;IACH,iCAAC,CAAC,CAAA;iCACH;;IAED,4BAAA,YAAY,EAAE,YAAA;IACZ,gCAAA,SAAS,CAAC,IAAI,GAAG,GAAG,EAAE,UAAC,EAAoB,EAAA;4CAAlB,CAAC,GAAA,EAAA,CAAA,CAAA,EAAE,CAAC,GAAA,EAAA,CAAA,CAAA,EAAE,IAAI,GAAA,EAAA,CAAA,IAAA,EAAE,IAAI,GAAA,EAAA,CAAA,IAAA,CAAA;IACvC,oCAAA,IAAI,IAAI,CAAC,CAAC,KAAK,CAAC;4CAAE,OAAO;wCACzB,IAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;IACzC,oCAAA,IAAI,IAAI,IAAI,IAAI,CAAC,CAAC,KAAK,WAAW,IAAI,IAAI,CAAC,CAAC,KAAK,WAAW,EAAE;4CAC5D,MAAM,CAAC,IAAI,CAAC;gDACV,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;gDACzB,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;IACzB,4CAAA,IAAI,EAAE,IAAI;IACX,yCAAA,CAAC,CAAC;IACJ,qCAAA;IACH,iCAAC,CAAC,CAAA;iCACH;;IAED,4BAAA,UAAU,EAAE,YAAA;IACV,gCAAA,SAAS,CAAC,IAAI,GAAG,GAAG,EAAE,UAAC,EAAoB,EAAA;4CAAlB,CAAC,GAAA,EAAA,CAAA,CAAA,EAAE,CAAC,GAAA,EAAA,CAAA,CAAA,EAAE,IAAI,GAAA,EAAA,CAAA,IAAA,EAAE,IAAI,GAAA,EAAA,CAAA,IAAA,CAAA;IACvC,oCAAA,IAAI,IAAI,CAAC,CAAC,KAAK,CAAC;4CAAE,OAAO;IACzB,oCAAA,IAAM,SAAS,GAAG,IAAI,GAAG,CAAC,CAAC;IAC3B,oCAAA,IAAI,IAAI,IAAI,IAAI,CAAC,CAAC,KAAK,SAAS,IAAI,IAAI,CAAC,CAAC,KAAK,SAAS,EAAE;4CACxD,MAAM,CAAC,IAAI,CAAC;gDACV,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;gDACzB,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;IACzB,4CAAA,IAAI,EAAE,IAAI;IACX,yCAAA,CAAC,CAAC;IACJ,qCAAA;IACH,iCAAC,CAAC,CAAA;iCACH;IACD;;;IAGG;gCACH,kBAAkB,EAAE,UAAC,MAAkB,EAAA;IAAlB,gCAAA,IAAA,MAAA,KAAA,KAAA,CAAA,EAAA,EAAA,MAAkB,GAAA,CAAA,CAAA,EAAA;IACrC,gCAAA,SAAS,CAAC,IAAI,GAAG,GAAG,EAAE,UAAC,EAAoB,EAAA;4CAAlB,CAAC,GAAA,EAAA,CAAA,CAAA,EAAE,CAAC,GAAA,EAAA,CAAA,CAAA,EAAM,EAAA,CAAA,IAAA,CAAE,KAAA,IAAI,GAAA,EAAA,CAAA,KAAA;IACvC,oCAAA,IAAI,CAAC,IAAI;4CAAE,OAAO;;IAElB,oCAAA,IAAI,IAAI,IAAI,IAAI,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,CAAC,KAAK,CAAC,EAAE;IAChC,wCAAA,IAAO,KAAK,GAAK,eAAe,CACtC,aAAa,CACX,CAAC,GAAG,MAAM,EACV,CAAC,GAAG,MAAM,EACV,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,MAAM,EACrB,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,MAAM,CACtB,EACD,UAAU,CACX,MARmB,CAQlB;IACF,wCAAA,IAAI,CAAC,KAAK;gDAAE,OAAO;4CACnB,MAAM,CAAC,IAAI,CAAC;gDACV,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;gDACzB,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;IACzB,4CAAA,IAAI,EAAE,KAAK;IACZ,yCAAA,CAAC,CAAC;IACJ,qCAAA;IACH,iCAAC,CAAC,CAAA;iCACH;6BACF,CAAC;IAEF,wBAAA,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC;4BAEvB,OAAO,OAAO,CAAC,OAAO,CAAC;gCACrB,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;gCAC9B,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;IAC/B,4BAAA,MAAM,EAAA,MAAA;IACP,yBAAA,CAAC,CAAA;IACJ,qBAAC,CAAC;IAEF,oBAAA,OAAA,CAAA,CAAA,aAAO,gBAAgB,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,CAAA;;;;KAC7C;;IC/HD;IACA,IAAM,SAAS,GAAG,CAAC,CAAC;IACpB;IACA,IAAM,QAAQ,GAAG,CAAC,CAAC;IACnB;IACA,IAAM,aAAa,GAAG,CAAC,CAAC;IACxB;IACA,IAAM,aAAa,GAAG,GAAG,CAAC;IAC1B;IACA,IAAM,kBAAkB,GAAG;IACzB,IAAA,IAAI,EAAE,qBAAqB;IAC3B,IAAA,GAAG,EAAE,0EAA0E;KAChF,CAAC;IAEF,IAAM,oBAAoB,GAAG,YAAA,EAAA,OAAA,SAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,YAAA;;;;;;IACrB,gBAAA,OAAO,GAA6B,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;IAC7E,gBAAA,IAAI,CAAC,OAAO;wBAAE,OAAO,CAAA,CAAA,YAAA,CAAA;oBAEf,EAAkB,GAAA;wBACtB,QAAQ,CAAC,IAAI,CAAC,WAAW;wBACzB,QAAQ,CAAC,IAAI,CAAC,YAAY;IAC3B,iBAAA,EAHM,KAAK,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,MAAM,QAAA,CAGlB;IAEI,gBAAA,cAAc,GAAG,IAAI,eAAe,CAAC,OAAO,EAAE;IAClD,oBAAA,KAAK,EAAA,KAAA;IACL,oBAAA,MAAM,EAAA,MAAA;IACN,oBAAA,IAAI,EAAE;IACJ,wBAAA,IAAI,EAAE,SAAS;IACf,wBAAA,GAAG,EAAE,QAAQ;;IAEd,qBAAA;IACD,oBAAA,IAAI,EAAE;4BACJ,GAAG,EAAE,aAAa,GAAG,SAAS;4BAC9B,GAAG,EAAE,aAAa,GAAG,SAAS;IAC/B,qBAAA;IACF,iBAAA,CAAC,CAAC;IAKG,gBAAA,SAAS,GAAG,YAAA;wBACV,IAAA,EAAA,GAA6B,cAAc,CAAC,UAAU,EAAE,EAAtD,gBAAgB,GAAA,EAAA,CAAA,gBAAA,EAAE,IAAI,GAAA,EAAA,CAAA,IAAgC,CAAC;IAC/D,oBAAA,OAAO,CAAC,GAAG,gBAAgB,GAAG,IAAI,CAAA;IACpC,iBAAC,CAAC;oBAKI,SAAS,GAAG,UAChB,GAA6B,EAC7B,KAAyB,EACzB,KAAa,EACb,MAAmB,EAAA,EAAA,OAAA,SAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,YAAA;;;;;oCAEb,EAAwE,GAAA,cAAc,CAAC,UAAU,EAAE,EAAjG,KAAK,GAAA,EAAA,CAAA,KAAA,EAAE,MAAM,GAAA,EAAA,CAAA,MAAA,EAAE,gBAAgB,GAAA,EAAA,CAAA,gBAAA,EAAE,QAAQ,GAAA,EAAA,CAAA,QAAA,EAAE,OAAO,GAAA,EAAA,CAAA,OAAA,EAAE,aAAa,GAAA,EAAA,CAAA,aAAA,CAAiC;oCACpG,MAAM,GAAG,SAAS,EAAE,CAAC;IACrB,gCAAA,IAAI,GAAG,QAAQ,GAAG,OAAO,CAAA;IACzB,gCAAA,QAAQ,GAAG,QAAQ,GAAG,CAAC,CAAC;oCACxB,OAAO,GAAG,MAAM,KAAN,IAAA,IAAA,MAAM,cAAN,MAAM,GAAI,aAAa,CAAC;IAElC,gCAAA,EAAA,GAAS,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;IACjC,sCAAE;IACA,wCAAA,OAAO,CAAC,CAAC,GAAG,gBAAgB,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,QAAQ;IACzD,wCAAA,OAAO,CAAC,CAAC,GAAG,gBAAgB,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,QAAQ;IAC1D,qCAAA;IACD,sCAAE;4CACA,KAAK,CAAC,CAAC,GAAG,QAAQ;4CAClB,KAAK,CAAC,CAAC,GAAG,QAAQ;IACnB,qCAAA,EARI,CAAC,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,CAAC,QAAA,CAQR;;IAEH,gCAAA,IAAI,CAAC,GAAG,QAAQ,GAAG,CAAC,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,GAAG,QAAQ,GAAG,CAAC,IAAI,CAAC,GAAG,MAAM;wCAAE,OAAO,CAAA,CAAA,YAAA,CAAA;oCAC5E,OAAM,CAAA,CAAA,YAAA,UAAU,CAAC,GAAG,CAAC;IAClB,yCAAA,KAAK,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;6CAC3B,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAA,CAAA;;IAFzC,gCAAA,EAAA,CAAA,IAAA,EAEyC,CAAC;;;;yBAC3C,CAAC;IAEF;;IAEG;oBACH,cAAc;yBACX,UAAU,CAAC,UAAC,GAAG,EAAA;wBACR,IAAA,EAAA,GAAsD,cAAc,CAAC,UAAU,EAAE,EAA/E,KAAK,WAAA,EAAE,MAAM,YAAA,EAAE,QAAQ,cAAA,EAAE,OAAO,aAAA,EAAE,aAAa,mBAAgC,CAAC;IACxF,oBAAA,IAAM,IAAI,GAAG,QAAQ,GAAG,OAAO,CAAA;IAC/B,oBAAA,IAAM,MAAM,GAAG,SAAS,EAAE,CAAC;IAC3B,oBAAA,IAAM,CAAC,GAAG,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,CAAC;wBAElC,IAAM,cAAc,GAAG,cAAc,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC;IAEvE,oBAAA,IAAM,kBAAkB,GAAG,UAAC,IAAY,EAAE,GAAW,EAAA;4BACnD,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;4BAC1B,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,QAAQ,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;4BACrC,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,EAAE,GAAG,EAAE,IAAI,GAAG,QAAQ,EAAE,GAAG,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC;IACvE,wBAAA,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,GAAG,CAAC,CAAC,CAAC;4BAChD,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,IAAI,GAAG,QAAQ,GAAG,CAAC,EAAE,GAAG,GAAG,QAAQ,EAAE,MAAM,CAAC,CAAC;4BAC7F,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,EAAE,GAAG,GAAG,QAAQ,CAAC,CAAC;4BACrC,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,GAAG,GAAG,QAAQ,EAAE,IAAI,EAAE,GAAG,GAAG,QAAQ,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC;4BACvE,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;IAC1B,wBAAA,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,GAAG,CAAC,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC;4BACjD,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;IAC5B,qBAAC,CAAA;;wBAED,GAAG,CAAC,IAAI,EAAE,CAAC;IACX,oBAAA,GAAG,CAAC,SAAS,GAAG,SAAS,CAAC;wBAC1B,GAAG,CAAC,SAAS,EAAE,CAAC;IAChB,oBAAA,KAAK,IAAI,CAAC,GAAG,cAAc,CAAC,CAAC,EAAE,CAAC,GAAG,MAAM,GAAG,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE;IAC3D,wBAAA,KAAK,IAAI,CAAC,GAAG,cAAc,CAAC,CAAC,EAAE,CAAC,GAAG,KAAK,GAAG,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE;IAC1D,4BAAA,kBAAkB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1B,yBAAA;IACF,qBAAA;wBACD,GAAG,CAAC,SAAS,EAAE,CAAC;wBAChB,GAAG,CAAC,IAAI,EAAE,CAAC;wBACX,GAAG,CAAC,OAAO,EAAE,CAAC;IAChB,iBAAC,EAAE;IACD,oBAAA,SAAS,EAAE,IAAI;IACf,oBAAA,kBAAkB,EAAE,IAAI;IACzB,iBAAA,CAAC,CAAC;IAEL;;IAEG;oBACH,CAAA,EAAA,GAAA,QAAQ,CAAC,kBAAkB,EAAE,IAAI,CAAC,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAI,CAAC,UAAA,QAAQ,EAAA;IAC/C,oBAAA,cAAc,CAAC,UAAU,CAAC,UAAC,GAAG,EAAA;IACpB,wBAAA,IAAA,aAAa,GAAK,cAAc,CAAC,UAAU,EAAE,cAAhC,CAAiC;IACtD,wBAAA,IAAM,KAAK,GAAG,cAAc,CAAC,oBAAoB,CAC/C,aAAa,CAAC,CAAC,EACf,aAAa,CAAC,CAAC,CAChB,CAAC;4BACF,UAAU,CAAC,GAAG,CAAC;IACZ,6BAAA,KAAK,CAAC;IACL,4BAAA,QAAQ,EAAE,EAAE;IACZ,4BAAA,UAAU,EAAE,QAAQ;IACpB,4BAAA,OAAO,EAAE,GAAG;IACZ,4BAAA,SAAS,EAAE,KAAK;6BACjB,CAAC;IACD,6BAAA,IAAI,CAAC,MAAO,CAAA,MAAA,CAAA,KAAK,CAAC,CAAC,CAAC,EAAQ,OAAA,CAAA,CAAA,MAAA,CAAA,KAAK,CAAC,CAAC,CAAC,EAAG,GAAA,CAAA,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IACtD,qBAAC,CAAC,CAAA;IACJ,iBAAC,CAAC,CAAA;oBAEF,OAAM,CAAA,CAAA,YAAA,SAAS,CAAC,mBAAmB,EAAE;IACnC,wBAAA,IAAI,EAAE,CAAC;IACP,wBAAA,GAAG,EAAE,CAAC;IACN,wBAAA,IAAI,EAAE,kBAAkB;yBACzB,CAAC;6BACC,IAAI,CAAC,UAAA,SAAS,EAAA;IACb,wBAAA,IAAI,CAAC,SAAS;gCAAE,OAAO;IACf,wBAAA,IAAA,IAAI,GAAmB,SAAS,CAAA,IAA5B,EAAE,IAAI,GAAa,SAAS,CAAA,IAAtB,EAAE,MAAM,GAAK,SAAS,OAAd,CAAe;IACzC,wBAAA,cAAc,CAAC,UAAU,CAAC,UAAC,GAAG,EAAA;;IAE5B,4BAAA,MAAM,CAAC,OAAO,CAAC,UAAC,EAAkB,EAAA;IAAhB,gCAAA,IAAA,GAAG,SAAA,EAAE,GAAG,GAAA,EAAA,CAAA,GAAA,EAAE,IAAI,GAAA,EAAA,CAAA,IAAA,CAAA;IAC9B,gCAAA,IACE,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,IAAI,IAAI,CAAC,CAAC,KAAK,GAAG,IAAI,IAAI,CAAC,CAAC,KAAK,GAAG;wCACnD,IAAI,CAAC,CAAC,KAAK,CAAC;wCACZ,OAAO;oCACT,SAAS,CACP,GAAG,EACH,CAAC,IAAI,CAAC,KAAK,CAAC,CAAE,IAAI,GAAG,CAAC,CAAC,GAAG,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAE,IAAI,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,EACjE,OAAQ,CAAA,MAAA,CAAA,IAAI,CAAC,CAAC,EAAK,IAAA,CAAA,CAAA,MAAA,CAAA,IAAI,CAAC,CAAC,EAAA,IAAA,CAAA,CAAA,MAAA,CAAK,IAAI,CAAC,CAAC,EAAA,IAAA,CAAA,CAAA,MAAA,CAAK,IAAI,CAAC,CAAC,EAAG,GAAA,CAAA,CACnD,CAAC;IACJ,6BAAC,CAAC,CAAA;;IAEJ,yBAAC,EAAE;IACD,4BAAA,kBAAkB,EAAE,IAAI;IACzB,yBAAA,CAAC,CAAC;IACL,qBAAC,CAAC;IAEJ;;IAEG;IAJC,iBAAA,CAAA;;IAzBJ,gBAAA,EAAA,CAAA,IAAA,EAyBI,CAAA;IAEJ;;IAEG;IACH,gBAAA,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,QAAQ,CAAC,YAAA;IACzC,oBAAA,cAAc,CAAC,YAAY,CACzB,QAAQ,CAAC,IAAI,CAAC,WAAW,EACzB,QAAQ,CAAC,IAAI,CAAC,YAAY,CAC3B,CAAC;IACJ,iBAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IAEF,gBAAA,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;IACtD,gBAAA,IAAI,MAAM;IAAE,oBAAA,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAA;IAC3C,wBAAA,cAAc,KAAd,IAAA,IAAA,cAAc,KAAd,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,cAAc,CAAE,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAChC,qBAAC,CAAC,CAAA;;;;SACH,CAAC;IAEF,oBAAoB,EAAE;;;;;;"}